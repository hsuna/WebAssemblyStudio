!function(e){function t(t){for(var n,r,s=t[0],o=t[1],a=0,c=[];a<s.length;a++)r=s[a],i[r]&&c.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(l&&l(t);c.length;)c.shift()()}var n={},i={8:0};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=s);var o,a=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=function(e){return r.p+""+({0:"monaco-editor",2:"monaco-languages"}[e]||e)+".bundle.js"}(e),o=function(t){l.onerror=l.onload=null,clearTimeout(c);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+s+")");o.type=r,o.request=s,n[1](o)}i[e]=void 0}};var c=setTimeout(function(){o({type:"timeout",target:l})},12e4);l.onerror=l.onload=o,a.appendChild(l)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var a=0;a<s.length;a++)t(s[a]);var l=o;r(r.s=28)}([function(e,t){e.exports=React},function(e,t,n){"use strict";var i;function r(e){switch(e){case i.Wasm:return!0;default:return!1}}function s(e){return e===i.HTML?"html":e===i.CSS?"css":e===i.JavaScript?"javascript":e===i.TypeScript?"typescript":e===i.C||e===i.Cpp?"cpp":e===i.Rust?"rust":e===i.Wat||e===i.Wasm?"wat":e===i.Log?"log":e===i.x86?"x86":e===i.Markdown?"markdown":e===i.Cretonne?"cton":e===i.JSON?"json":e===i.DOT?"dot":e===i.TOML?"toml":""}function o(e){return e===i.HTML?"HTML":e===i.CSS?"CSS":e===i.JavaScript?"JavaScript":e===i.TypeScript?"TypeScript":e===i.C?"C":e===i.Cpp?"C++":e===i.Wat?"WebAssembly Text":e===i.Wasm?"WebAssembly":e===i.Markdown?"Markdown":e===i.Rust?"Rust":e===i.Cretonne?"Cretonne":e===i.JSON?"JSON":e===i.DOT?"DOT":e===i.TOML?"TOML":""}function a(e){return e===i.HTML?"html":e===i.CSS?"css":e===i.JavaScript?"js":e===i.TypeScript?"ts":e===i.C?"c":e===i.Cpp?"cpp":e===i.Wat?"wat":e===i.Wasm?"wasm":e===i.Markdown?"md":e===i.Rust?"rs":e===i.Cretonne?"cton":e===i.JSON?"json":e===i.DOT?"dot":e===i.TOML?"toml":""}function l(e){return c(e.split(".").pop())}function c(e){return"html"===e?i.HTML:"css"===e?i.CSS:"js"===e?i.JavaScript:"ts"===e?i.TypeScript:"c"===e?i.C:"cpp"===e?i.Cpp:"wat"===e?i.Wat:"wasm"===e?i.Wasm:"md"===e?i.Markdown:"rs"===e?i.Rust:"cton"===e?i.Cretonne:"json"===e||"map"===e?i.JSON:"dot"===e?i.DOT:"toml"===e?i.TOML:null}function u(e){return e===i.HTML?"text/html":e===i.JavaScript?"application/javascript":e===i.Wasm?"application/wasm":e===i.JSON?"application/json":e===i.DOT?"text/plain":e===i.Markdown?"text/markdown":""}function d(e){return"text/html"===e?i.HTML:"application/javascript"===e?i.JavaScript:"application/wasm"===e?i.Wasm:"text/markdown"===e?i.Markdown:"application/json"===e?i.JSON:i.Unknown}function h(e){return e===i.JavaScript?"javascript-lang-file-icon":e===i.TypeScript?"typescript-lang-file-icon":e===i.C?"c-lang-file-icon":e===i.Cpp?"cpp-lang-file-icon":e===i.Rust?"rust-lang-file-icon":e===i.Markdown?"markdown-lang-file-icon":e===i.HTML?"html-lang-file-icon":e===i.CSS?"css-lang-file-icon":e===i.Directory?"folder-icon":e===i.JSON?"json-lang-file-icon":e===i.Wasm?"wasm-lang-file-icon":e===i.Wat?"wat-lang-file-icon":"txt-ext-file-icon"}!function(e){e.JavaScript="javascript",e.TypeScript="typescript",e.HTML="html",e.CSS="css",e.C="c",e.Cpp="cpp",e.Rust="rust",e.Wat="wat",e.Wasm="wasm",e.Directory="directory",e.Log="log",e.x86="x86",e.Markdown="markdown",e.Cretonne="cretonne",e.JSON="json",e.DOT="dot",e.TOML="toml",e.Unknown="unknown"}(i||(i={}));var p=n(2);class f{constructor(e,t,n,i){this.file=e,this.description=t,this.severity=n,this.marker=i,this.key=String(Object(p.e)())}static fromMarker(e,t){return new f(e,`${t.message} (${t.startLineNumber}, ${t.startColumn})`,function(e){switch(e){case monaco.MarkerSeverity.Info:return"info";case monaco.MarkerSeverity.Warning:return"warning";case monaco.MarkerSeverity.Error:return"error"}}(t.severity),t)}}class m{constructor(e){this.callbacks=[],this.name=e}register(e){this.callbacks.indexOf(e)>=0||this.callbacks.push(e)}unregister(e){const t=this.callbacks.indexOf(e);if(t<0)throw new Error("Unknown callback.");this.callbacks.splice(t,1)}dispatch(e){this.callbacks.forEach(t=>{t(e)})}}var g=n(26),b=n(3);class v{constructor(e,t){this.isDirty=!1,this.isBufferReadOnly=!1,this.isTransient=!1,this.onDidChangeData=new m("File Data Change"),this.onDidChangeBuffer=new m("File Buffer Change"),this.onDidChangeProblems=new m("File Problems Change"),this.onDidChangeDirty=new m("File Dirty Flag Change"),this.key=String(Object(p.e)()),this.problems=[],this.name=e,this.type=t,this.data=null,r(t)?(this.bufferType=i.Unknown,this.buffer=monaco.editor.createModel("")):(this.bufferType=t,this.buffer=monaco.editor.createModel(this.data,s(t))),this.buffer.updateOptions({tabSize:2,insertSpaces:!0}),this.buffer.onDidChangeContent(e=>{e.isFlush||(this.isDirty||(this.isDirty=!0,this.notifyDidChangeDirty()),this.notifyDidChangeBuffer(),monaco.editor.setModelMarkers(this.buffer,"compiler",[]))}),this.parent=null}setNameAndDescription(e,t){this.name=e,this.description=t,this.parent&&this.parent.notifyDidChangeChildren(this)}notifyDidChangeBuffer(){let e=this;for(;e;)e.onDidChangeBuffer.dispatch(),e=e.parent}notifyDidChangeData(){let e=this;for(;e;)e.onDidChangeData.dispatch(),e=e.parent}notifyDidChangeDirty(){let e=this;for(;e;)e.onDidChangeDirty.dispatch(),e=e.parent}resetDirty(){this.isDirty&&(this.isDirty=!1,this.notifyDidChangeDirty())}async updateBuffer(e){if(this.type===i.Wasm){const t=await b.a.disassembleWasm(this.data,e);return this.buffer.setValue(t),this.resetDirty(),this.bufferType=i.Wat,this.notifyDidChangeBuffer(),monaco.editor.setModelLanguage(this.buffer,s(i.Wat)),void(this.description="This .wasm file is editable as a .wat file, and is automatically reassembled to .wasm when saved.")}this.buffer.setValue(this.data),this.resetDirty(),this.notifyDidChangeBuffer()}setProblems(e){this.problems=e;let t=this;for(;t;)t.onDidChangeProblems.dispatch(),t=t.parent}async getEmitOutput(){const e=this.buffer;if(this.type!==i.TypeScript)return Promise.resolve("");const t=await monaco.languages.typescript.getTypeScriptWorker();return(await t(e.uri)).getEmitOutput(e.uri.toString())}setData(e,t){Object(p.a)(null!=e),this.data=e,this.notifyDidChangeData(),this.updateBuffer(t)}getData(){if(this.isDirty&&!this.isBufferReadOnly){const e=this.getProject();e&&e.onDirtyFileUsed.dispatch(this)}return this.data}getProject(){let e=this.parent;if(e){for(;e.parent;)e=e.parent;if(e instanceof w)return e}return null}getDepth(){let e=0,t=this.parent;for(;t;)t=t.parent,e++;return e}getPath(e=null){const t=[];let n=this.parent;for(;n&&n!==e;)t.unshift(n.name),n=n.parent;return t.push(this.name),t.join("/")}async save(e){if(this.isDirty){if(this.bufferType!==this.type){if(this.bufferType===i.Wat&&this.type===i.Wasm)try{const t=await b.a.assembleWat(this.buffer.getValue(),e);this.resetDirty(),this.data=t}catch(t){e.logLn(t.message,"error")}}else this.data=this.buffer.getValue(),this.resetDirty();this.notifyDidChangeData()}}toString(){return"File ["+this.name+"]"}isDescendantOf(e){let t=this.parent;for(;t;){if(t===e)return!0;t=t.parent}return!1}}class y extends v{constructor(e){super(e,i.Directory),this.children=[],this.isOpen=!0,this.onDidChangeChildren=new m("Directory Changed ")}notifyDidChangeChildren(e){let t=this;for(;t;)t.onDidChangeChildren.dispatch(),t=t.parent}forEachFile(e,t=!1,n=!1){n?this.children.forEach(i=>{if(t&&i.isTransient)return!1;i instanceof y?i.forEachFile(e,t,n):e(i)}):this.children.forEach(e)}mapEachFile(e,t=!1){return this.children.filter(e=>!t||!e.isTransient).map(e)}handleNameCollision(e,t){for(let n=1;n<=this.children.length;n++){const i=e.split("."),r=i.pop();let s;if(s=t?`${e}${n+1}`:`${i.join(".")}.${n+1}.${r}`,!this.getImmediateChild(s))return s}throw new Error("Name collision not handled")}addFile(e){Object(p.a)(null===e.parent),this.getImmediateChild(e.name)&&(e.name=this.handleNameCollision(e.name,e instanceof y)),this.children.push(e),e.parent=this,this.notifyDidChangeChildren(e)}removeFile(e){Object(p.a)(e.parent===this);const t=this.children.indexOf(e);Object(p.a)(t>=0),this.children.splice(t,1),e.parent=null,this.notifyDidChangeChildren(e)}newDirectory(e){"string"==typeof e&&(e=e.split("/"));let t=this;for(;e.length;){const n=e.shift();let i=t.getImmediateChild(n);i?t=i:(i=new y(n),t.addFile(i),t=i)}return Object(p.a)(t instanceof y),t}newFile(e,t,n=!1,i=!1){"string"==typeof e&&(e=e.split("/"));let r=this;e.length>1&&(r=this.newDirectory(e.slice(0,e.length-1)));const s=e[e.length-1];let o=r.getFile(s);return o&&!i?Object(p.a)(o.type===t):(o=new v(e[e.length-1],t),r.addFile(o)),o.isTransient=n,o}getImmediateChild(e){return this.children.find(t=>t.name===e)}getFile(e){"string"==typeof e&&(e=e.split("/"));const t=this.getImmediateChild(e[0]);return e.length>1?t&&t.type===i.Directory?t.getFile(e.slice(1)):null:t}list(){const e=[];return function t(n,i){n&&(n+="/"),i.forEachFile(i=>{const r=n+i.name;i instanceof y?t(r,i):e.push(r)})}("",this),e}glob(e){const t=new g.Minimatch(e);return this.list().filter(e=>t.match(e))}globFiles(e){return this.glob(e).map(e=>this.getFile(e))}hasChildren(){return this.children.length>0}}class w extends y{constructor(){super("Project"),this.onDidChangeStatus=new m("Status Change"),this.onChange=new m("Project Change"),this.onDirtyFileUsed=new m("Dirty File Used"),this.status=["Idle"]}hasStatus(){return this.status.length>1}getStatus(){return this.hasStatus()?this.status[this.status.length-1]:""}pushStatus(e){this.status.push(e),this.onDidChangeStatus.dispatch()}popStatus(){Object(p.a)(this.status.length),this.status.pop(),this.onDidChangeStatus.dispatch()}}const E=new WeakMap;class C{constructor(e){this.obj=e}getModel(){return this.obj}static getRef(e){if(E.has(e))return E.get(e);const t=new C(e);return E.set(e,t),t}}n.d(t,"d",function(){return i}),n.d(t,"m",function(){return r}),n.d(t,"n",function(){return s}),n.d(t,"p",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"k",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"o",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"l",function(){return h}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return w}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return C}),n.d(t,"a",function(){return y}),n.d(t,"c",function(){return v})},function(e,t,n){"use strict";n.d(t,"l",function(){return r}),n.d(t,"j",function(){return s}),n.d(t,"i",function(){return o}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return m}),n.d(t,"d",function(){return g}),n.d(t,"h",function(){return y}),n.d(t,"k",function(){return w}),n.d(t,"a",function(){return E}),n.d(t,"c",function(){return C}),n.d(t,"m",function(){return k}),n.d(t,"g",function(){return S}),n.d(t,"e",function(){return D});var i=n(1);function r(e){let t=e.toString(16);for(;t.length<6;)t="0"+t;return"0x"+t}function s(e,t,n){for(e=String(e);e.length<t;)e+=n;return e}function o(e,t,n){for(e=String(e);e.length<t;)e=n+e;return e}const a=["jmp","ja","jae","jb","jbe","jc","je","jg","jge","jl","jle","jna","jnae","jnb","jnbe","jnc","jne","jng","jnge","jnl","jnle","jno","jnp","jns","jnz","jo","jp","jpe","jpo","js","jz"];function l(e){return a.indexOf(e.mnemonic)>=0}const c=[62,0,0,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,0,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],u=43,d=61,h=new Array(3),p=new Array(4);new Array(9);function f(e,t,n,i){return p[0]=e,p[1]=t,p[2]=n,p[3]=i,p.join("")}function m(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=e.byteLength,r=i%3,s=i-r;let o,a,l,c,u;for(let i=0;i<s;i+=3)t+=f(n[o=(16515072&(u=e[i]<<16|e[i+1]<<8|e[i+2]))>>18],n[a=(258048&u)>>12],n[l=(4032&u)>>6],n[c=63&u]);return 1===r?t+=function(e,t,n){return h[0]=e,h[1]=t,h[2]=n,h.join("")}(n[o=(252&(u=e[s]))>>2],n[a=(3&u)<<4],"==="):2===r&&(t+=f(n[o=(64512&(u=e[s]<<8|e[s+1]))>>10],n[a=(1008&u)>>4],n[l=(15&u)<<2],"=")),t}function g(e){let t,n,i;const r=e.length,s="="===e.charAt(r-2)?2:"="===e.charAt(r-1)?1:0,o=new Uint8Array(3*(e.length>>2)-s);for(let r=0,s=0;r<e.length;){if(t=e.charCodeAt(r++),n=c[t-u],t=e.charCodeAt(r++),i=c[t-u],o[s++]=n<<2|(48&i)>>4,(t=e.charCodeAt(r++))===d)return o;if(n=c[t-u],o[s++]=(15&i)<<4|(60&n)>>2,(t=e.charCodeAt(r++))===d)return o;i=c[t-u],o[s++]=(3&n)<<6|i}return o}const b=10;let v=0;function y(){v&&window.clearTimeout(v),window.setTimeout(()=>{v=0,document.dispatchEvent(new Event("layout"))},b)}function w(){window.getSelection().removeAllRanges()}function E(e,t){if(!e)throw new Error(t)}function C(e,t,n){return Math.min(Math.max(t,e),n)}async function _(e,t){const n=new FileReader;return new Promise((i,r)=>{n.onerror=(()=>{n.abort(),r(new DOMException("Problem parsing input file."))}),n.onload=(()=>{i(n.result)}),"text"===t?n.readAsText(e):"arrayBuffer"===t?n.readAsArrayBuffer(e):E(!1,"NYI")})}async function x(e,t,n){e.createReader().readEntries(e=>{e.forEach(async e=>{if(e.isDirectory)return x(e,t,n);e.file(async r=>{try{const s=r.name;let o=e.fullPath.replace(/^\/+/g,"");if(n){const e=o.split("/");e[0]=n,o=e.join("/")}const a=Object(i.i)(s.split(".").pop()),l=await _(r,Object(i.m)(a)?"arrayBuffer":"text");t.newFile(o,a,!1,!0).setData(l)}catch(e){console.log("Unable to read the file!")}})})})}async function k(e,t){Array.from(e).forEach(async e=>{if("function"==typeof e.webkitGetAsEntry){const n=e.webkitGetAsEntry();if(n.isDirectory){if(t.getImmediateChild(n.name)){const e=t.handleNameCollision(n.name);return x(n,t,e)}return x(n,t)}}let n;const r=(n=e instanceof DataTransferItem?e.getAsFile():e).name,s=n.webkitRelativePath||r,o=Object(i.i)(r.split(".").pop());let a;try{a=await _(n,Object(i.m)(o)?"arrayBuffer":"text"),t.newFile(s,o,!1,!0).setData(a)}catch(e){console.log("Unable to read the file!")}})}function S(e){return""===e||Object(i.j)(e)!==i.d.Unknown}let O=0;function D(){return O++}},function(e,t,n){"use strict";var i=n(1),r=n(2);function s(e,t,n,i){"function"==typeof gtag&&gtag("event",e,{event_category:t,event_label:n,value:i})}var o,a=n(4),l=n(7),c=n(6);!function(e){e.C="c",e.Cpp="cpp",e.Wat="wat",e.Wasm="wasm",e.Rust="rust",e.Cretonne="cton",e.x86="x86",e.Json="json",e.JavaScript="javascript",e.TypeScript="typescript",e.Toml="toml",e.Text="text"}(o||(o={}));var u,d=n(10);async function h(e){const t=await Object(d.a)();switch(e){case u.Rustc:return t.rustc;case u.Cargo:return t.cargo;case u.Clang:return t.clang;case u.Service:return t.serviceUrl;default:throw new Error(`Invalid ServiceType: ${e}`)}}async function p(e){const t=await e.text();if(200===e.status)try{return JSON.parse(t)}catch(e){}return{success:!1,message:t.replace(/(^<pre>)|(<\/pre>$)/gi,"")}}async function f(e,t){const n=await h(t);return p(await fetch(n,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})}))}!function(e){e[e.Rustc=0]="Rustc",e[e.Cargo=1]="Cargo",e[e.Clang=2]="Clang",e[e.Service=3]="Service"}(u||(u={}));var m=n(22);async function g(e){let t=Object(r.d)(e);return function(e){const[t,n]=e;return 120===t&&(1===n||156===n||218===n)}(t)&&(t=await async function(e){const{inflate:t}=await n.e(1).then(n.t.bind(null,429,7));return t(e)}(t)),t.buffer}var b=n(25);class v{async compile(e){let t,n;const i=e.options;if(i.cargo){const s=new b,o=e.files;Object.entries(o).forEach(([e,t])=>{s.append(e,t.content,{})});const a=Object(r.b)(s.out);t=await f({tar:a,options:i},u.Cargo),n=Object.keys(o)[0]}else{const r=Object.values(e.files);if(1!==r.length)throw new Error(`Supporting compilation of a single file, but ${r.length} file(s) found`);n=Object.keys(e.files)[0];const s=r[0].content;t=await f({code:s,options:i},u.Rustc)}let s,o;t.success&&(s=await g(t.output)),t.tasks&&t.tasks.length>0&&(o=t.tasks[0].console);const a={};return t.wasmBindgenJs&&(a["wasm_bindgen.js"]={content:t.wasmBindgenJs}),{success:t.success,items:{"a.wasm":{content:s,fileRef:n,console:o},...a},console:t.message}}}class y{constructor(e){this.lang=e}async compile(e){const t=Object.values(e.files);if(1!==t.length)throw new Error(`Supporting compilation of a single file, but ${t.length} file(s) found`);const[n]=Object.keys(e.files),i=t[0].content,r=this.lang,s={output:"wasm",compress:!0,files:[{type:r,name:"file."+r,options:e.options,src:i}]},o=await f(s,u.Clang);let a,l;return o.success&&(a=await g(o.output)),o.tasks&&o.tasks.length>0&&(l=o.tasks[0].console),{success:o.success,items:{"a.wasm":{content:a,fileRef:n,console:l}},console:o.message}}}class w{async compile(e){const t=Object.values(e.files);if(1!==t.length)throw new Error(`Supporting compilation of a single file, but ${t.length} file(s) found`);const n=t[0].content,i=e.options,r=encodeURIComponent(function(e){return Object(m.fromByteArray)(new Uint8Array(e))}(n));return{success:!0,items:{"a.json":{content:await async function(e,t){const n=await h(t);return p(await fetch(n,{method:"POST",body:e,headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"})}))}("input="+r+"&action=wasm2assembly&options="+encodeURIComponent(i),u.Service)}}}}}async function E(e,t){if(e===o.Rust&&t===o.Wasm)return new v;if((e===o.C||e===o.Cpp)&&t===o.Wasm)return new y(e);if(e===o.Wasm&&t===o.x86)return new w;throw new Error(`createCompilerService: not supported ${e}->${t}`)}function C(e){const t=e.getProject();return e.getPath(t)}n.d(t,"a",function(){return _}),n.d(t,!1,function(){return o});class _{static getMarkers(e){const t=[];if(0!==e.indexOf("(module")){const n=/^.*?:(\d+?):(\d+?):\s(.*)$/gm;let i;for(;null!==(i=n.exec(e));){i.index===n.lastIndex&&n.lastIndex++;const e=parseInt(i[1],10),r=parseInt(i[2],10),s=i[3];let o=monaco.MarkerSeverity.Info;s.indexOf("error")>=0?o=monaco.MarkerSeverity.Error:s.indexOf("warning")>=0&&(o=monaco.MarkerSeverity.Warning),t.push({severity:o,message:s,startLineNumber:e,startColumn:r,endLineNumber:e,endColumn:r})}const r=/^.*?:\d+?:\d+?:\{(\d+?):(\d+?)-(\d+?):(\d+?)\}:\s(.*)$/gm;for(;null!==(i=r.exec(e));){i.index===r.lastIndex&&r.lastIndex++;const e=i[5];let n=monaco.MarkerSeverity.Info;e.indexOf("error")>=0?n=monaco.MarkerSeverity.Error:e.indexOf("warning")>=0&&(n=monaco.MarkerSeverity.Warning),t.push({severity:n,message:e,startLineNumber:parseInt(i[1],10),startColumn:parseInt(i[2],10),endLineNumber:parseInt(i[3],10),endColumn:parseInt(i[4],10)})}}return t}static async compileFiles(e,t,n,r=""){s("compile","Service",`${t}->${n}`);const o=await E(t,n),a=e.reduce((e,t)=>(e[C(t)]=t,e),{}),l={files:e.reduce((e,t)=>(e[C(t)]={content:t.getData()},e),{}),options:r},c=await o.compile(l);for(const t of e)t.setProblems([]);for(const[e,t]of Object.entries(c.items)){const{fileRef:e,console:n}=t;if(!e||!n)continue;const r=a[e];if(!r)continue;const s=_.getMarkers(n);s.length>0&&(monaco.editor.setModelMarkers(r.buffer,"compiler",s),r.setProblems(s.map(e=>i.f.fromMarker(r,e))))}if(!c.success)throw new Error(c.console);const u={};for(const[e,t]of Object.entries(c.items)){const{content:n}=t;n&&(u[e]=n)}return u}static async compileFile(e,t,n,i=""){return(await _.compileFileWithBindings(e,t,n,i)).wasm}static async compileFileWithBindings(e,t,n,i=""){if(n!==o.Wasm)throw new Error(`Only wasm target is supported, but "${n}" was found`);const r=await _.compileFiles([e],t,n,i);let s={wasm:r["a.wasm"]};return r["wasm_bindgen.js"]&&(s={...s,wasmBindgenJs:r["wasm_bindgen.js"]}),s}static async disassembleWasm(e,t){s("disassemble","Service","wabt"),t&&t.push("Disassembling with Wabt");const n=await this.worker.disassembleWasmWithWabt(e);return t&&t.pop(),n}static async disassembleWasmWithWabt(e,t){const n=await _.disassembleWasm(e.getData(),t),r=e.parent.newFile(e.name+".wat",i.d.Wat);r.description="Disassembled from "+e.name+" using Wabt.",r.setData(n)}static async assembleWat(e,t){s("assemble","Service","wabt"),t&&t.push("Assembling Wat with Wabt");let n=null;try{n=await this.worker.assembleWatWithWabt(e)}catch(e){throw e}finally{t&&t.pop()}return n}static async assembleWatWithWabt(e,t){const n=await _.assembleWat(e.getData(),t),r=e.parent.newFile(e.name+".wasm",i.d.Wasm);r.description="Assembled from "+e.name+" using Wabt.",r.setData(n)}static async createGist(e){const t=await fetch("https://api.github.com/gists",{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json; charset=utf-8"})});return JSON.parse(await t.text()).html_url}static async loadJSON(e){const t="https://webassembly-studio-fiddles.herokuapp.com/fiddle/"+e,n=await fetch(t,{headers:new Headers({"Content-type":"application/json; charset=utf-8"})});return await n.json()}static async saveJSON(e,t){if(!!t)throw new Error("NYI");{const t=await fetch("https://webassembly-studio-fiddles.herokuapp.com/set-fiddle",{method:"POST",headers:new Headers({"Content-type":"application/json; charset=utf-8"}),body:JSON.stringify(e)});let n=(await t.json()).id;return n=n.substring(n.lastIndexOf("/")+1)}}static parseFiddleURI(){let e=window.location.search.substring(1);if(e){const t=e.indexOf("/");t>0&&(e=e.substring(0,t))}return e}static async exportToGist(e,t){s("export","Service","gist");const n={};!function e(t){t instanceof i.a?t.mapEachFile(t=>e(t),!0):n[t.name]={content:t.data}}(e);const r={description:"source: https://webassembly.studio",public:!0,files:n};return void 0!==t&&(r.description=r.description+`/?f=${t}`),await this.createGist(r)}static async saveProject(e,t,n){const s=[];return e.forEachFile(t=>{let n,o;Object(i.m)(t.type)?(n=Object(r.b)(new Uint8Array(t.data)),o="binary"):(n=t.data,o="text");const a={name:t.getPath(e),data:n,type:o};s.push(a)},!0,!0),await this.saveJSON({files:s},n)}static async loadFilesIntoProject(e,t,n=null){for(const s of e){const e=Object(i.k)(s.name),o=t.newFile(s.name,e,!1);let a;if(s.data)a="binary"===s.type?Object(r.d)(s.data).buffer:s.data;else{const e=await fetch(new URL(s.name,n).toString());a="binary"===s.type?await e.arrayBuffer():await e.text()}o.setData(a)}}static lazyLoad(e,t){return new Promise((n,i)=>{t&&t.push("Loading "+e);const r=window.document,s=r.body,o=r.createElement("script");o.async=!0,o.src=e,s.appendChild(o),o.onload=function(){t&&t.pop(),n(this)}})}static async optimizeWasmWithBinaryen(e,t){Object(r.a)(this.worker),s("optimize","Service","binaryen");let n=e.getData();t&&t.push("Optimizing with Binaryen"),n=await this.worker.optimizeWasmWithBinaryen(n),t&&t.pop(),e.setData(n),e.buffer.setValue(await _.disassembleWasm(n,t))}static async validateWasmWithBinaryen(e,t){s("validate","Service","binaryen");const n=e.getData();t&&t.push("Validating with Binaryen");const i=await this.worker.validateWasmWithBinaryen(n);return t&&t.pop(),!!i}static async getWasmCallGraphWithBinaryen(e,t){s("call-graph","Service","binaryen");const n=e.getData();t&&t.push("Creating Call Graph with Binaryen");const r=await this.worker.createWasmCallGraphWithBinaryen(n);t&&t.pop();const o=e.parent.newFile(e.name+".dot",i.d.DOT);o.description="Call graph created from "+e.name+" using Binaryen's print-call-graph pass.",o.setData(r)}static async disassembleWasmWithBinaryen(e,t){s("disassemble","Service","binaryen");const n=e.getData();t&&t.push("Disassembling with Binaryen");const r=await this.worker.disassembleWasmWithBinaryen(n);t&&t.pop();const o=e.parent.newFile(e.name+".wat",i.d.Wat);o.description="Disassembled from "+e.name+" using Binaryen.",o.setData(r)}static async convertWasmToAsmWithBinaryen(e,t){s("asm.js","Service","binaryen");const n=e.getData();t&&t.push("Converting to asm.js with Binaryen");const r=await this.worker.convertWasmToAsmWithBinaryen(n);t&&t.pop();const o=e.parent.newFile(e.name+".asm.js",i.d.JavaScript);o.description="Converted from "+e.name+" using Binaryen.",o.setData(r)}static async assembleWatWithBinaryen(e,t){s("assemble","Service","binaryen");const n=e.getData();t&&t.push("Assembling with Binaryen");const r=await this.worker.assembleWatWithBinaryen(n);t&&t.pop();const o=e.parent.newFile(e.name+".wasm",i.d.Wasm);o.description="Converted from "+e.name+" using Binaryen.",o.setData(r)}static download(e){_.downloadLink||(_.downloadLink=document.createElement("a"),_.downloadLink.style.display="none",document.body.appendChild(_.downloadLink));const t=URL.createObjectURL(new Blob([e.getData()],{type:"application/octet-stream"}));_.downloadLink.href=t,_.downloadLink.download=e.name,_.downloadLink.href!==document.location&&_.downloadLink.click()}static async clangFormat(e,t){function n(){const t=_.clangFormatModule.ccall("formatCode","string",["string"],[e.buffer.getValue()]);e.buffer.setValue(t)}if(s("format","Service","clang-format"),_.clangFormatModule)n();else{await _.lazyLoad("lib/clang-format.js",t);const e=await fetch("lib/clang-format.wasm"),i=await e.arrayBuffer(),r={postRun(){n()},wasmBinary:i};_.clangFormatModule=Module(r)}}static async disassembleX86(e,t,n=""){s("disassemble","Service","capstone.x86"),"undefined"==typeof capstone&&await _.lazyLoad("lib/capstone.x86.min.js",t);const a=e.parent.newFile(e.name+".x86",i.d.x86);function l(e){return e.map(function(e){return Object(r.i)(Number(e).toString(16),2,"0")}).join(" ")}const c=await E(o.Wasm,o.x86),u={files:{"in.wasm":{content:e.getData()}},options:n},d=(await c.compile(u)).items["a.json"].content;let h="";const p=new capstone.Cs(capstone.ARCH_X86,capstone.MODE_64),f=Object.create(null);for(let e=0;e<d.regions.length;e++){const t=d.regions[e];h+=t.name+":\n";const n=Object(r.d)(t.bytes),i=p.disasm(n,t.entry),s={};i.forEach(function(e,t){if(f[e.address]=e,Object(r.f)(e)){const n=parseInt(e.op_str,10);s[n]||(s[n]=[]),s[n].push(e.address),t+1<i.length&&(s[i[t+1].address]=[])}}),i.forEach(function(e){s[e.address]&&(h+=" "+Object(r.j)(Object(r.l)(e.address)+":",39," "),s[e.address].length>0&&(h+="; "+Object(r.l)(e.address)+" from: ["+s[e.address].map(r.l).join(", ")+"]"),h+="\n"),h+="  "+Object(r.j)(e.mnemonic+" "+e.op_str,38," "),h+="; "+Object(r.l)(e.address)+" "+l(e.bytes)+"\n"}),h+="\n"}a.setData(h)}static openBinaryExplorer(e){window.open("//wasdk.github.io/wasmcodeexplorer/?api=postmessage","","toolbar=no,ocation=no,directories=no,status=no,menubar=no,location=no,scrollbars=yes,resizable=yes,width=1024,height=568"),_.binaryExplorerMessageListener&&window.removeEventListener("message",_.binaryExplorerMessageListener,!1),_.binaryExplorerMessageListener=(t=>{if("wasmexplorer-ready"===t.data.type){window.removeEventListener("message",_.binaryExplorerMessageListener,!1),_.binaryExplorerMessageListener=null;const n=new Uint8Array(e.data.slice(0));t.source.postMessage({type:"wasmexplorer-load",data:n},"*",[n.buffer])}}),window.addEventListener("message",_.binaryExplorerMessageListener,!1)}static async import(e){const{project:t,global:n}=Object(c.b)(),i=new l.a(t);i.logLn=console.log,i.createFile=((e,t)=>{const i=new n.Blob([e],{type:t});return n.URL.createObjectURL(i)});const r=Object(l.b)(i,e),s=n.document.createElement("script");s.setAttribute("type","module"),s.setAttribute("async","async");const o=`__import__${Math.random().toString(36).substr(2)}`,a=new Promise((e,t)=>{n[o]=e});s.textContent=`import * as i from '${r}'; ${o}(i);`,n.document.head.appendChild(s);const u=await a;return s.remove(),delete n[o],u}static async compileMarkdownToHtml(e){"undefined"==typeof showdown&&await _.lazyLoad("lib/showdown.min.js");const t=new showdown.Converter({tables:!0,ghCodeBlocks:!0});return showdown.setFlavor("github"),t.makeHtml(e)}static async twiggyWasm(e,t){const n=e.getData();s("disassemble","Service","twiggy"),t&&t.push("Analyze with Twiggy");const r=await this.worker.twiggyWasm(n),o=e.parent.newFile(e.name+".md",i.d.Markdown);return o.description="Analyzed "+e.name+" using Twiggy.",o.setData(r),t&&t.pop(),r}}_.worker=new class{constructor(){this.workerCallbacks=[],this.nextId=0,this.worker=new Worker("dist/worker.bundle.js"),this.worker.addEventListener("message",e=>{if(!e.data.id)return;const t=this.workerCallbacks[e.data.id];e.data.success?t.fn(e):t.ex(e),this.workerCallbacks[e.data.id]=null})}getNextId(){return String(this.nextId++)}setWorkerCallback(e,t,n){Object(r.a)(!this.workerCallbacks[e]),this.workerCallbacks[e]={fn:t,ex:n}}async postMessage(e,t){return new Promise((n,i)=>{const r=this.getNextId();this.setWorkerCallback(r,e=>{n(e.data.payload)},e=>{i(e.data.payload)}),this.worker.postMessage({id:r,command:e,payload:t},void 0)})}async optimizeWasmWithBinaryen(e){return await this.postMessage(a.a.OptimizeWasmWithBinaryen,e)}async validateWasmWithBinaryen(e){return await this.postMessage(a.a.ValidateWasmWithBinaryen,e)}async createWasmCallGraphWithBinaryen(e){return await this.postMessage(a.a.CreateWasmCallGraphWithBinaryen,e)}async convertWasmToAsmWithBinaryen(e){return await this.postMessage(a.a.ConvertWasmToAsmWithBinaryen,e)}async disassembleWasmWithBinaryen(e){return await this.postMessage(a.a.DisassembleWasmWithBinaryen,e)}async assembleWatWithBinaryen(e){return await this.postMessage(a.a.AssembleWatWithBinaryen,e)}async disassembleWasmWithWabt(e){return await this.postMessage(a.a.DisassembleWasmWithWabt,e)}async assembleWatWithWabt(e){return await this.postMessage(a.a.AssembleWatWithWabt,e)}async twiggyWasm(e){return await this.postMessage(a.a.TwiggyWasm,e)}},_.downloadLink=null,_.clangFormatModule=null},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e[e.OptimizeWasmWithBinaryen=0]="OptimizeWasmWithBinaryen",e[e.ValidateWasmWithBinaryen=1]="ValidateWasmWithBinaryen",e[e.CreateWasmCallGraphWithBinaryen=2]="CreateWasmCallGraphWithBinaryen",e[e.ConvertWasmToAsmWithBinaryen=3]="ConvertWasmToAsmWithBinaryen",e[e.DisassembleWasmWithBinaryen=4]="DisassembleWasmWithBinaryen",e[e.AssembleWatWithBinaryen=5]="AssembleWatWithBinaryen",e[e.DisassembleWasmWithWabt=6]="DisassembleWasmWithWabt",e[e.AssembleWatWithWabt=7]="AssembleWatWithWabt",e[e.TwiggyWasm=8]="TwiggyWasm"}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(45));t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";var i=n(1);class r{constructor(e,t){this.dependencies=e,this.promiseMaker=t}}class s{constructor(e){this.task=e,this.promise=null}makePromise(){return this.promise?this.promise:this.promise=this.task.promiseMaker()}}class o{constructor(e){this.tasks=new Map,this.gulpy=e}ensureInstance(e){let t=this.tasks.get(e);return t||(t=new s(e),this.tasks.set(e,t),t)}async runInstance(e){const t=e.task.dependencies.map(e=>this.ensureInstance(e));return await Promise.all(t.map(e=>this.runInstance(e))),e.makePromise()}async run(e){return this.runInstance(this.ensureInstance(e))}}class a{constructor(){this.tasks={}}task(e,t,n){let i=[],s=null;3===arguments.length?(i=t,s=n):2===arguments.length&&(Array.isArray(t)?(i=t,s=n||(()=>{})):s=t),this.tasks[e]=new r(i.map(e=>this.tasks[e]),s)}series(e){return null}parallel(e){return null}hasTask(e){return e in this.tasks}async run(e){const t=new o(this);await t.run(this.tasks[e])}}var l,c=n(3),u=n(11);function d(e,t){const n=Object.keys(t),i=Object.values(t);return Function.apply(null,[...n,e]).apply(window,i)}n.d(t,"a",function(){return l}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return m}),function(e){e[e.Default=0]="Default",e[e.Arc=1]="Arc",e[e.Setup=2]="Setup"}(l||(l={}));const h=new WeakMap;window.addEventListener("message",e=>{if("object"!=typeof e.data||!e.data||"taskRunner-sandbox-ready"!==e.data.type)return;const t=e.source,n=t.frameElement;h.get(n)(t);const r=window.fetch;t.fetch=((e,n)=>{let s=null;if(p&&p.global===t){const t=new URL(e,"https://example.org/src/main.html");s=p.project.getFile(t.pathname.substr(1))}return s?Promise.resolve(new Response(s.getData(),{status:200,statusText:"OK",headers:{"Content-Type":Object(i.o)(s.type)}})):r(e,n)})});let p=null;function f(){return p}async function m(e,t,n,r,s,o){const f=await async function(){const e=document.createElement("iframe");e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("src",URL.createObjectURL(new Blob(['<!DOCTYPE html>\n<html><body>\n<script>window.parent.postMessage({type: "taskRunner-sandbox-ready"}, "*");<\/script>\n</body></html>'],{type:"text/html"})));const t=document.getElementById("task-runner-content");return t.textContent="",t.appendChild(e),new Promise(t=>{h.set(e,t)})}();p={global:f,project:r};const m=new a;if(function(e,t=window,n=window,i={},r={}){function s(e,t){return"string"==typeof e?r.hasOwnProperty(e)?r[e]:window.require(e):window.require(e,t)}Object.defineProperty(s,"config",{value:window.require.config});const o=Object.keys(i).concat("require","exports","return ()=>{"+e+"}"),a=Object.values(i).concat(s,{});return(t||window).Function.apply(null,o).apply(n,a)}(e,f,m,{gulp:m,Service:c.a,project:r,logLn:s,fileTypeForExtension:i.i,monaco:o===l.Setup?monaco:void 0},{gulp:m,"@wasm/studio-utils":{Service:c.a,project:r,logLn:s,fileTypeForExtension:i.i,Arc:o===l.Arc?u.a:void 0,eval:o===l.Setup?d:void 0}})(),m.hasTask(t))try{await m.run(t)}catch(e){s(e.message,"error")}else n||s(`Task ${t} is not optional.`,"error");p=null,document.getElementById("task-runner-content").textContent=""}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o});class i{constructor(e){this.project=e,this.processedFiles=Object.create(null)}}function r(e,t){return new URL(e,"https://example.org/"+t).pathname.substr(1)}function s(e,t){if(e.processedFiles[t])return e.processedFiles[t];const n=function(e,t){const n=e.project.getFile(t);return n?n.getData().replace(/\bfrom\s+['"](.+?)['"](\s*[;\n])/g,(n,i,o)=>{const a=r(i,t),l=s(e,a);return l?`from "${l}"${o}`:((0,e.logLn)(`Cannot find file '${i}' mentioned in ${t}`),n)}):null}(e,t),i=e.createFile(n,"application/javascript");return e.processedFiles[t]=i,i}function o(e,t){const n=e.project.getFile(t);return n?n.getData().replace(/\bsrc\s*=\s*['"](.+?)['"]/g,(n,i)=>{const o=r(i,t),a=s(e,o);return a?`src="${a}"`:((0,e.logLn)(`Cannot find file '${i}' mentioned in ${t}`),n)}):null}},function(e,t,n){(function(t){var i=n(34),r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},s=r.Raven,o=new i;o.noConflict=function(){return r.Raven=s,o},o.afterLoad(),e.exports=o,e.exports.Client=i}).call(this,n(9))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return s});const i="./config.json";let r;async function s(){return r||(r=await fetch(i).then(e=>e.json())),r}},function(e,t,n){"use strict";function i(e){window.parent.postMessage({type:"wasm-studio/fork",fiddle:e},"*")}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});class r{static publish(e){window.parent.postMessage({type:"wasm-studio/module-publish",manifest:e},"*")}}},function(e,t){e.exports=ReactDOM},function(e,t,n){var i;!function(r,s,o){if(r){for(var a,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h=1;h<20;++h)l[111+h]="f"+h;for(h=0;h<=9;++h)l[h+96]=h.toString();y.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},y.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},y.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},y.prototype.reset=function(){return this._callbacks={},this._directMap={},this},y.prototype.stopCallback=function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!function e(t,n){return null!==t&&t!==s&&(t===n||e(t.parentNode,n))}(t,this.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},y.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},y.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);a=null},y.init=function(){var e=y(s);for(var t in e)"_"!==t.charAt(0)&&(y[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},y.init(),r.Mousetrap=y,void 0!==e&&e.exports&&(e.exports=y),void 0===(i=function(){return y}.call(t,n,t,e))||(e.exports=i)}function p(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function f(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function m(e,t){return e.sort().join(",")===t.sort().join(",")}function g(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function b(e,t,n){return n||(n=function(){if(!a)for(var e in a={},l)e>95&&e<112||l.hasOwnProperty(e)&&(a[l[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function v(e,t){var n,i,r,s=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),r=0;r<n.length;++r)i=n[r],d[i]&&(i=d[i]),t&&"keypress"!=t&&u[i]&&(i=u[i],s.push("shift")),g(i)&&s.push(i);return{key:i,modifiers:s,action:t=b(i,s,t)}}function y(e){var t=this;if(e=e||s,!(t instanceof y))return new y(e);t.target=e,t._callbacks={},t._directMap={};var n,i={},r=!1,o=!1,a=!1;function l(e){e=e||{};var t,n=!1;for(t in i)e[t]?n=!0:i[t]=0;n||(a=!1)}function c(e,n,r,s,o,a){var l,c,u=[],d=r.type;if(!t._callbacks[e])return[];for("keyup"==d&&g(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(s||!c.seq||i[c.seq]==c.level)&&d==c.action&&("keypress"==d&&!r.metaKey&&!r.ctrlKey||m(n,c.modifiers))){var h=!s&&c.combo==o,p=s&&c.seq==s&&c.level==a;(h||p)&&t._callbacks[e].splice(l,1),u.push(c)}return u}function u(e,n,i,r){t.stopCallback(n,n.target||n.srcElement,i,r)||!1===e(n,i)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=f(e);n&&("keyup"!=e.type||r!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):r=!1)}function h(e,t,s,o){function c(t){return function(){a=t,++i[e],clearTimeout(n),n=setTimeout(l,1e3)}}function d(t){u(s,t,e),"keyup"!==o&&(r=f(t)),setTimeout(l,10)}i[e]=0;for(var h=0;h<t.length;++h){var p=h+1===t.length?d:c(o||v(t[h+1]).action);b(t[h],p,o,e,h)}}function b(e,n,i,r,s){t._directMap[e+":"+i]=n;var o,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?h(e,a,n,i):(o=v(e,i),t._callbacks[o.key]=t._callbacks[o.key]||[],c(o.key,o.modifiers,{type:o.action},r,e,s),t._callbacks[o.key][r?"unshift":"push"]({callback:n,modifiers:o.modifiers,action:o.action,seq:r,level:s,combo:e}))}t._handleKey=function(e,t,n){var i,r=c(e,t,n),s={},d=0,h=!1;for(i=0;i<r.length;++i)r[i].seq&&(d=Math.max(d,r[i].level));for(i=0;i<r.length;++i)if(r[i].seq){if(r[i].level!=d)continue;h=!0,s[r[i].seq]=1,u(r[i].callback,n,r[i].combo,r[i].seq)}else h||u(r[i].callback,n,r[i].combo);var p="keypress"==n.type&&o;n.type!=a||g(e)||p||l(s),o=h&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)b(e[i],t,n)},p(e,"keypress",d),p(e,"keydown",d),p(e,"keyup",d)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){(function(t){var i=n(16),r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function s(e){return void 0===e}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(){if(!("fetch"in r))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function u(e,t){var n,i;if(s(e.length))for(n in e)h(e,n)&&t.call(null,n,e[n]);else if(i=e.length)for(n=0;n<i;n++)t.call(null,n,e[n])}function d(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"…"}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){for(var t,n=[],i=0,r=e.length;i<r;i++)a(t=e[i])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function f(e){var t,n,i,r,s,o=[];if(!e||!e.tagName)return"";if(o.push(e.tagName.toLowerCase()),e.id&&o.push("#"+e.id),(t=e.className)&&a(t))for(n=t.split(/\s+/),s=0;s<n.length;s++)o.push("."+n[s]);var l=["type","name","title","alt"];for(s=0;s<l.length;s++)i=l[s],(r=e.getAttribute(i))&&o.push("["+i+'="'+r+'"]');return o.join("")}function m(e,t){return!!(!!e^!!t)}function g(e,t){if(m(e,t))return!1;var n,i,r=e.frames,s=t.frames;if(void 0===r||void 0===s)return!1;if(r.length!==s.length)return!1;for(var o=0;o<r.length;o++)if(n=r[o],i=s[o],n.filename!==i.filename||n.lineno!==i.lineno||n.colno!==i.colno||n.function!==i.function)return!1;return!0}var b=3,v=51200,y=40;function w(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function E(e){if("string"==typeof e){return d(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:s,isFunction:function(e){return"function"==typeof e},isPlainObject:o,isString:a,isArray:l,isEmptyObject:function(e){if(!o(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:c,supportsReferrerPolicy:function(){if(!c())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var i=e(t)||t;return n&&n(i)||i}},each:u,objectMerge:function(e,t){return t?(u(t,function(t,n){e[t]=n}),e):e},truncate:d,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:h,joinRegExp:p,urlencode:function(e){var t=[];return u(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")},uuid4:function(){var e=r.crypto||r.msCrypto;if(!s(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},htmlTreeAsString:function(e){for(var t,n=[],i=0,r=0,s=" > ".length;e&&i++<5&&!("html"===(t=f(e))||i>1&&r+n.length*s+t.length>=80);)n.push(t),r+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:f,isSameException:function(e,t){return!m(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&!function(e,t){return s(e)&&s(t)}(e.stacktrace,t.stacktrace)&&g(e.stacktrace,t.stacktrace))},isSameStacktrace:g,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",i=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+i}},fill:function(e,t,n,i){if(null!=e){var r=e[t];e[t]=n(r),e[t].__raven__=!0,e[t].__orig__=r,i&&i.push([e,t,r])}},safeJoin:function(e,t){if(!l(e))return"";for(var n=[],i=0;i<e.length;i++)try{n.push(String(e[i]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,r){if(!o(t))return t;r="number"!=typeof(n="number"!=typeof n?b:n)?v:r;var s=function e(t,n){return 0===n?E(t):o(t)?Object.keys(t).reduce(function(i,r){return i[r]=e(t[r],n-1),i},{}):Array.isArray(t)?t.map(function(t){return e(t,n-1)}):E(t)}(t,n);return w(i(s))>r?e(t,n-1):s},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter(function(e){return"string"==typeof e})).length)return"[object has no keys]";if(t="number"!=typeof t?y:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var i=e.slice(0,n).join(", ");if(!(i.length>t))return n===e.length?i:i+"…"}return""},sanitize:function(e,t){if(!l(t)||l(t)&&0===t.length)return e;var n,r=p(t),s="********";try{n=JSON.parse(i(e))}catch(t){return e}return function e(t){return l(t)?t.map(function(t){return e(t)}):o(t)?Object.keys(t).reduce(function(n,i){return r.test(i)?n[i]=s:n[i]=e(t[i]),n},{}):t}(n)}}}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(37)).default,r=i.canUseDOM?window.HTMLElement:{};t.canUseDOM=i.canUseDOM;t.default=r},function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function i(e,t){var i=[],r=[];return null==t&&(t=function(e,t){return i[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n(i,t)).join(".")+"]"}),function(s,o){if(i.length>0){var a=n(i,this);~a?i.splice(a+1):i.push(this),~a?r.splice(a,1/0,s):r.push(s),~n(i,o)&&(o=t.call(this,s,o))}else i.push(o);return null==e?o instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(o):o:e.call(this,s,o)}}(e.exports=function(e,t,n,r){return JSON.stringify(e,i(t,r),n)}).getSerialize=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=o,t.setElement=function(e){var t=e;if("string"==typeof t&&r.canUseDOM){var n=document.querySelectorAll(t);o(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=a,t.hide=function(e){a(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){a(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),r=n(15);var s=null;function o(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function a(e){return!(!e&&!s)||((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(o)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var i=/input|select|textarea|button|object/;function r(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function s(e,t){var n=e.nodeName.toLowerCase();return(i.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(r(t))return!1;t=t.parentNode}return!0}(e)}function o(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&s(e,!n)}e.exports=t.default},function(e,t,n){e.exports=n(44)()},function(e,t,n){"use strict";var i=function(e){};e.exports=function(e,t,n,r,s,o,a,l){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,o,a,l],d=0;(c=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t){!function(){"use strict";var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];function n(e){var t,n=new Uint8Array(e);for(t=0;t<e;t+=1)n[t]=0;return n}e.exports.clean=n,e.exports.pad=function(e,t,n){return e=e.toString(n||8),"000000000000".substr(e.length+12-t)+e},e.exports.extend=function(e,t,i,r){var s=n((parseInt((t+i)/r)+1)*r);return s.set(e),s},e.exports.stringToUint8=function(e,t,i){var r,s;for(t=t||n(e.length),i=i||0,r=0,s=e.length;r<s;r+=1)t[i]=e.charCodeAt(r),i+=1;return t},e.exports.uint8ToBase64=function(e){var n,i,r=e.length%3,s="";function o(e){return t[e>>18&63]+t[e>>12&63]+t[e>>6&63]+t[63&e]}for(n=0,i=e.length-r;n<i;n+=3)s+=o((e[n]<<16)+(e[n+1]<<8)+e[n+2]);switch(s.length%4){case 1:s+="=";break;case 2:s+="=="}return s},e.exports.base64ToUint8=function(e){for(var i,r=e.match(/^([^=]+)/)[1],s=e.match(/(=*)$/)[1].length,o=0,a=r.length,l=0,c=n(.75*r.length+s);o<a;)i=0,i|=t.indexOf(r.charAt(o)||"A")<<18,o+=1,i|=t.indexOf(r.charAt(o)||"A")<<12,o+=1,i|=t.indexOf(r.charAt(o)||"A")<<6,o+=1,i|=t.indexOf(r.charAt(o)||"A"),o+=1,c[l]=i>>16&255,c[l+=1]=i>>8&255,c[l+=1]=255&i,l+=1;return c}}()},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){for(var t,n=c(e),i=n[0],o=n[1],a=new s(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),l=0,u=o>0?i-4:i,d=0;d<u;d+=4)t=r[e.charCodeAt(d)]<<18|r[e.charCodeAt(d+1)]<<12|r[e.charCodeAt(d+2)]<<6|r[e.charCodeAt(d+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=255&t;2===o&&(t=r[e.charCodeAt(d)]<<2|r[e.charCodeAt(d+1)]>>4,a[l++]=255&t);1===o&&(t=r[e.charCodeAt(d)]<<10|r[e.charCodeAt(d+1)]<<4|r[e.charCodeAt(d+2)]>>2,a[l++]=t>>8&255,a[l++]=255&t);return a},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,s=[],o=0,a=n-r;o<a;o+=16383)s.push(d(e,o,o+16383>a?a:o+16383));1===r?(t=e[n-1],s.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],s.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return s.join("")};for(var i=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)i[a]=o[a],r[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function d(e,t,n){for(var i,r=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),r.push(u(i));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e){e.exports={serviceUrl:"//wasmexplorer-service.herokuapp.com/service.php",clang:"//webassembly-studio-clang.herokuapp.com/build",rustc:"//webassembly-studio-rust.herokuapp.com/rustc",cargo:"//webassembly-studio-rust.herokuapp.com/cargo",templates:{default:"/dist/templates/index.js",arc:"/dist/arc-templates/index.js"},sentryDNS:"https://756ae32005ed49cf9d4dd2aa106ccd4a@sentry.io/1229949"}},function(e,t,n){e.exports.Dispatcher=n(48)},function(e,t,n){!function(){"use strict";var t,i=n(49),r=n(21),s=512;function o(e){this.written=0,t=(e||20)*s,this.out=r.clean(t)}o.prototype.append=function(e,n,o,a){var l,c,u,d,h,p,f;if("string"==typeof n)n=r.stringToUint8(n);else if(n.constructor!==Uint8Array.prototype.constructor)throw"Invalid input type. You gave me: "+n.constructor.toString().match(/function\s*([$A-Za-z_][0-9A-Za-z_]*)\s*\(/)[1];return"function"==typeof o&&(a=o,o={}),u=(o=o||{}).mode||4095&parseInt("777",8),d=o.mtime||Math.floor(+new Date/1e3),h=o.uid||0,p=o.gid||0,l={fileName:e,fileMode:r.pad(u,7),uid:r.pad(h,7),gid:r.pad(p,7),fileSize:r.pad(n.length,11),mtime:r.pad(d,11),checksum:"        ",type:"0",ustar:"ustar  ",owner:o.owner||"",group:o.group||""},c=0,Object.keys(l).forEach(function(e){var t,n,i=l[e];for(t=0,n=i.length;t<n;t+=1)c+=i.charCodeAt(t)}),l.checksum=r.pad(c,6)+"\0 ",f=i.format(l),this.out.set(f,this.written),this.written+=f.length,this.written+n.length>this.out.length&&(this.out=r.extend(this.out,this.written,n.length,t)),this.out.set(n,this.written),this.written+=n.length+(s-(n.length%s||s)),this.out.length-this.written<2*s&&(this.out=r.extend(this.out,this.written,2*s,t)),"function"==typeof a&&a(this.out),this.out},o.prototype.clear=function(){this.written=0,this.out=r.clean(t)},o.utils=r,o.stringToUint8=r.stringToUint8,o.uint8ToBase64=r.uint8ToBase64,o.base64ToUint8=r.base64ToUint8,e.exports=o}()},function(e,t,n){e.exports=f,f.Minimatch=m;var i={sep:"/"};try{i=n(53)}catch(e){}var r=f.GLOBSTAR=m.GLOBSTAR={},s=n(52),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",l=a+"*?",c="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",u="(?:(?!(?:\\/|^)\\.).)*?",d=function(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}("().*{}+?[]^$\\!");var h=/\/+/;function p(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function f(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new m(t,n).match(e))}function m(e,t){if(!(this instanceof m))return new m(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==i.sep&&(e=e.split(i.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function g(e,t){if(t||(t=this instanceof m?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:s(e)}f.filter=function(e,t){return t=t||{},function(n,i,r){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,i,r){return t.minimatch(n,i,p(e,r))};return n.Minimatch=function(n,i){return new t.Minimatch(n,p(e,i))},n},m.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:m},m.prototype.debug=function(){},m.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(h)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},m.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(this.options.nonegate)return;for(var i=0,r=e.length;i<r&&"!"===e.charAt(i);i++)t=!t,n++;n&&(this.pattern=e.substr(n));this.negate=t},f.braceExpand=function(e,t){return g(e,t)},m.prototype.braceExpand=g,m.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return r;if(""===e)return"";var i,s="",c=!!n.nocase,u=!1,h=[],p=[],f=!1,m=-1,g=-1,v="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function w(){if(i){switch(i){case"*":s+=l,c=!0;break;case"?":s+=a,c=!0;break;default:s+="\\"+i}y.debug("clearStateChar %j %j",i,s),i=!1}}for(var E,C=0,_=e.length;C<_&&(E=e.charAt(C));C++)if(this.debug("%s\t%s %s %j",e,C,s,E),u&&d[E])s+="\\"+E,u=!1;else switch(E){case"/":return!1;case"\\":w(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,C,s,E),f){this.debug("  in class"),"!"===E&&C===g+1&&(E="^"),s+=E;continue}y.debug("call clearStateChar %j",i),w(),i=E,n.noext&&w();continue;case"(":if(f){s+="(";continue}if(!i){s+="\\(";continue}h.push({type:i,start:C-1,reStart:s.length,open:o[i].open,close:o[i].close}),s+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,s),i=!1;continue;case")":if(f||!h.length){s+="\\)";continue}w(),c=!0;var x=h.pop();s+=x.close,"!"===x.type&&p.push(x),x.reEnd=s.length;continue;case"|":if(f||!h.length||u){s+="\\|",u=!1;continue}w(),s+="|";continue;case"[":if(w(),f){s+="\\"+E;continue}f=!0,g=C,m=s.length,s+=E;continue;case"]":if(C===g+1||!f){s+="\\"+E,u=!1;continue}if(f){var k=e.substring(g+1,C);try{RegExp("["+k+"]")}catch(e){var S=this.parse(k,b);s=s.substr(0,m)+"\\["+S[0]+"\\]",c=c||S[1],f=!1;continue}}c=!0,f=!1,s+=E;continue;default:w(),u?u=!1:!d[E]||"^"===E&&f||(s+="\\"),s+=E}f&&(k=e.substr(g+1),S=this.parse(k,b),s=s.substr(0,m)+"\\["+S[0],c=c||S[1]);for(x=h.pop();x;x=h.pop()){var O=s.slice(x.reStart+x.open.length);this.debug("setting tail",s,x),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n   %s",O,O,x,s);var D="*"===x.type?l:"?"===x.type?a:"\\"+x.type;c=!0,s=s.slice(0,x.reStart)+D+"\\("+O}w(),u&&(s+="\\\\");var T=!1;switch(s.charAt(0)){case".":case"[":case"(":T=!0}for(var j=p.length-1;j>-1;j--){var M=p[j],A=s.slice(0,M.reStart),P=s.slice(M.reStart,M.reEnd-8),R=s.slice(M.reEnd-8,M.reEnd),N=s.slice(M.reEnd);R+=N;var L=A.split("(").length-1,F=N;for(C=0;C<L;C++)F=F.replace(/\)[+*?]?/,"");var V="";""===(N=F)&&t!==b&&(V="$");var I=A+P+N+V+R;s=I}""!==s&&c&&(s="(?=.)"+s);T&&(s=v+s);if(t===b)return[s,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var W=n.nocase?"i":"";try{var z=new RegExp("^"+s+"$",W)}catch(e){return new RegExp("$.")}return z._glob=e,z._src=s,z};var b={};f.makeRe=function(e,t){return new m(e,t||{}).makeRe()},m.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?l:t.dot?c:u,i=t.nocase?"i":"",s=e.map(function(e){return e.map(function(e){return e===r?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var i=new m(t,n=n||{});return e=e.filter(function(e){return i.match(e)}),i.options.nonull&&!e.length&&e.push(t),e},m.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/"));e=e.split(h),this.debug(this.pattern,"split",e);var r,s,o=this.set;for(this.debug(this.pattern,"set",o),s=e.length-1;s>=0&&!(r=e[s]);s--);for(s=0;s<o.length;s++){var a=o[s],l=e;n.matchBase&&1===a.length&&(l=[r]);var c=this.matchOne(l,a,t);if(c)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},m.prototype.matchOne=function(e,t,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,o=0,a=e.length,l=t.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c,u=t[o],d=e[s];if(this.debug(t,u,d),!1===u)return!1;if(u===r){this.debug("GLOBSTAR",[t,u,d]);var h=s,p=o+1;if(p===l){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!i.dot&&"."===e[s].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),n))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof u?(c=i.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,c)):(c=d.match(u),this.debug("pattern match",u,d,c)),!c)return!1}if(s===a&&o===l)return!0;if(s===a)return n;if(o===l)return s===a-1&&""===e[s];throw new Error("wtf?")}},function(e,t){var n,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=a(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(12);class s extends i.Component{render(){return i.createElement("div",{className:"wasmStudioHeader"},i.createElement("span",{className:"waHeaderText"},"WebAssembly Studio"))}}var o,a=n(1),l=n(3);class c{static async initialize(){await n.e(0).then(n.t.bind(null,604,7));const{Action:e}=await n.e(0).then(n.bind(null,119)),{ContextSubMenu:t}=await n.e(0).then(n.bind(null,602)),{ContextMenuService:i}=await n.e(0).then(n.bind(null,364)),{ContextViewService:r}=await n.e(0).then(n.bind(null,464)),{Tree:s}=await n.e(0).then(n.bind(null,299)),o=await n.e(0).then(n.bind(null,152));c.Action=e,c.ContextSubMenu=t,c.ContextMenuService=i,c.ContextViewService=r,c.Tree=s,c.TreeDefaults=o}}function u(e){switch(e){case a.d.Markdown:return o.Markdown;case a.d.DOT:return o.Viz;default:return o.Editor}}function d(e){return!(!e||!e.file)&&e.file.isDirty}!function(e){e[e.Editor=0]="Editor",e[e.Markdown=1]="Markdown",e[e.Binary=2]="Binary",e[e.Viz=3]="Viz"}(o||(o={}));class h{constructor(e,t=o.Editor){this.file=e,this.type=t}clone(){return new h(this.file,this.type)}}var p=new(n(24).Dispatcher),f=n(2);class m{constructor(e,t=[]){this.currentView=e,this.views=t}open(e,t=!0){const n=this.views;if(n.indexOf(e)>=0)return this.currentView=e,void(t||this.preview!==e||(this.preview=null));if(t)if(this.preview){const t=n.indexOf(this.preview);Object(f.a)(t>=0),this.currentView=this.preview=n[t]=e}else n.push(e),this.currentView=this.preview=e;else n.push(e),this.currentView=e,this.preview=null}openFile(e,t=o.Editor,n=!0){const i=this.views.findIndex(n=>n.file===e&&n.type===t),r=i>=0?this.views[i]:new h(e,t);this.open(r,n)}close(e){const t=this.views.indexOf(e);if(t<0)return;this.views.splice(t,1);const n=this.views.length;this.currentView=n?this.views[Math.min(n-1,t)]:null,e===this.preview&&(this.preview=null)}}const g=new class{constructor(){this.onLoadProject=new a.b("AppStore onLoadProject"),this.onDidChangeStatus=new a.b("AppStore onDidChangeStatus"),this.onDidChangeProblems=new a.b("AppStore onDidChangeProblems"),this.onChange=new a.b("AppStore onChange"),this.onDirtyFileUsed=new a.b("AppStore onDirtyFileUsed"),this.onDidChangeBuffer=new a.b("AppStore onDidChangeBuffer"),this.onDidChangeData=new a.b("AppStore onDidChangeData"),this.onDidChangeDirty=new a.b("AppStore onDidChangeDirty"),this.onDidChangeChildren=new a.b("AppStore onDidChangeChildren"),this.onOutputChanged=new a.b("AppStore onOutputChanged"),this.onTabsChange=new a.b("AppStore onTabsChange"),this.onSandboxRun=new a.b("AppStore onSandboxRun"),this.onDidChangeIsContentModified=new a.b("AppStore onDidChangeIsContentModified"),this.project=null,this.output=null,this.isContentModified=!1}initStore(){this.project=new a.g,this.activeTabGroup=new m(null,[]),this.tabGroups=[this.activeTabGroup],this.bindProject(),this.isContentModified=!1,this.output=new a.c("output",a.d.Log)}loadProject(e){this.project=e,this.bindProject(),this.isContentModified=!1,this.onLoadProject.dispatch()}bindProject(){this.project.onDidChangeStatus.register(()=>this.onDidChangeStatus.dispatch()),this.project.onDidChangeProblems.register(()=>this.onDidChangeProblems.dispatch()),this.project.onChange.register(()=>this.onChange.dispatch()),this.project.onDirtyFileUsed.register(e=>this.onDirtyFileUsed.dispatch(e)),this.project.onDidChangeBuffer.register(()=>this.onDidChangeBuffer.dispatch()),this.project.onDidChangeData.register(()=>{this.setContentModified(!0),this.onDidChangeData.dispatch()}),this.project.onDidChangeDirty.register(e=>this.onDidChangeDirty.dispatch(e)),this.project.onDidChangeChildren.register(()=>{this.setContentModified(!0),this.onDidChangeChildren.dispatch()})}setContentModified(e){this.isContentModified!==e&&(this.isContentModified=e,this.onDidChangeIsContentModified.dispatch())}addFileTo(e,t){e.parent&&this.deleteFile(e),t.addFile(e)}deleteFile(e){e.parent.removeFile(e)}updateFileNameAndDescription(e,t,n){e.setNameAndDescription(t,n)}getActiveTabGroup(){return this.activeTabGroup}getTabGroups(){return this.tabGroups}getProject(){return a.e.getRef(this.project)}getIsContentModified(){return this.isContentModified}getOutput(){return a.e.getRef(this.output)}getFileByName(e){const t=this.project.getFile(e);return t?a.e.getRef(t):null}getFileSource(e){return e.getModel().getData()}getFileBuffer(e){return e.getModel().buffer}getParent(e){const{parent:t}=e.getModel();return t?a.e.getRef(t):null}getImmediateChild(e,t){const n=e.getModel().getImmediateChild(t);return n?a.e.getRef(n):null}getPath(e){return e.getModel().getPath()}getStatus(){return this.project.getStatus()}hasStatus(){return this.project.hasStatus()}logLn(e,t=""){e+="\n",t&&(e="["+t+"]: "+e);const n=this.output.buffer,i=n.getLineCount(),r=n.getLineMaxColumn(i),s=new monaco.Range(i,r,i,r);n.applyEdits([{forceMoveMarkers:!0,range:s,text:e}]),this.onOutputChanged.dispatch()}splitGroup(){const{tabGroups:e,activeTabGroup:t}=this;if(0===t.views.length)return;const n=e.findIndex(e=>e===t),i=t.currentView.clone(),r=new m(i,[i]);this.tabGroups.splice(n+1,0,r),this.activeTabGroup=r,this.onTabsChange.dispatch()}openFile(e,t,n){this.activeTabGroup.openFile(e,t,n),this.onTabsChange.dispatch()}openView(e,t){this.activeTabGroup.open(e,t),this.onTabsChange.dispatch()}closeView(e){const{activeTabGroup:t}=this;t.close(e),0===t.views.length&&this.closeGroup(t),this.onTabsChange.dispatch()}closeTabs(e){const{tabGroups:t}=this,n=[];t.forEach(t=>{const i=t.views.find(t=>t.file===e);t.close(i),0===t.views.length&&n.push(t)}),n.forEach(e=>{this.closeGroup(e)}),this.onTabsChange.dispatch()}closeGroup(e){const{activeTabGroup:t,tabGroups:n}=this,i=this.tabGroups.indexOf(e);if(!(e.views.length>0||1===n.length)&&(n.splice(i,1),t===e)){const e=n.length,t=e?n[Math.min(e-1,i)]:null;this.activeTabGroup=t}}openFiles(e){const t=e.map(e=>{const t=e.map(e=>{const t=this.getFileByName(e).getModel();return new h(t,u(t.type))});return Object(f.a)(t.length>0),new m(t[0],t)});this.activeTabGroup=t[0],this.tabGroups=t,this.onTabsChange.dispatch()}setViewType(e,t){e.type=t,this.onTabsChange.dispatch()}sendSandboxRun(e){this.onSandboxRun.dispatch({project:this.project,src:e})}handleActions(e){switch(e.type){case y.OPEN_VIEW:{const{view:t,preview:n}=e;this.openView(t,n);break}case y.CLOSE_VIEW:{const{view:t}=e;this.closeView(t);break}case y.CLOSE_TABS:{const{file:t}=e;this.closeTabs(t);break}case y.FOCUS_TAB_GROUP:{const{group:t}=e;this.activeTabGroup=t,this.onTabsChange.dispatch();break}case y.OPEN_FILE:{const{file:t,viewType:n,preview:i}=e;this.openFile(t,n,i);break}case y.OPEN_FILES:{const{files:t}=e;this.openFiles(t);break}case y.SPLIT_GROUP:this.splitGroup();break;case y.ADD_FILE_TO:{const{file:t,parent:n}=e;this.addFileTo(t,n);break}case y.DELETE_FILE:{const{file:t}=e;this.deleteFile(t);break}case y.UPDATE_FILE_NAME_AND_DESCRIPTION:{const{file:t,name:n,description:i}=e;this.updateFileNameAndDescription(t,n,i);break}case y.LOAD_PROJECT:{const{project:t}=e;this.loadProject(t);break}case y.CLEAR_PROJECT_MODIFIED:this.setContentModified(!1);break;case y.INIT_STORE:this.initStore();break;case y.SET_VIEW_TYPE:{const{view:t,viewType:n}=e;this.setViewType(t,n);break}case y.LOG_LN:{const{message:t,kind:n}=e;this.logLn(t,n);break}case y.PUSH_STATUS:{const{status:t}=e;this.project.pushStatus(t);break}case y.POP_STATUS:this.project.popStatus();break;case y.SANDBOX_RUN:{const{src:t}=e;this.sendSandboxRun(t);break}}}};p.register(e=>g.handleActions(e));var b=g;const v={BuildFileMissing:"Build File (build.ts / build.js) is missing."};var y,w,E,C=n(7),_=n(6);function x(e,t){p.dispatch({type:y.ADD_FILE_TO,file:e,parent:t})}function k(e,t,n){p.dispatch({type:y.UPDATE_FILE_NAME_AND_DESCRIPTION,file:e,name:t,description:n})}function S(e,t=""){p.dispatch({type:y.LOG_LN,message:e,kind:t})}function O(e,t=!0){p.dispatch({type:y.OPEN_VIEW,view:e,preview:t})}function D(e,t=o.Editor,n=!0){p.dispatch({type:y.OPEN_FILE,file:e,viewType:t,preview:n})}function T(e){p.dispatch({type:y.OPEN_FILES,files:e})}async function j(e){S("Saving Project ...");const t=b.getTabGroups(),n=b.getProject().getModel(),i=t.map(e=>e.views.map(e=>e.file.getPath())),r=await l.a.saveProject(n,i,e);return S("Saved Project OK"),p.dispatch({type:y.CLEAR_PROJECT_MODIFIED}),r}function M(e){p.dispatch({type:y.FOCUS_TAB_GROUP,group:e})}function A(e){p.dispatch({type:y.PUSH_STATUS,status:e})}function P(){p.dispatch({type:y.POP_STATUS})}async function R(e,t=!1,n=_.a.Default){const i=async i=>{const r=b.getProject().getModel();await Object(_.c)(i,e,t,r,S,n)};let r=b.getFileByName("gulpfile.js");if(r)await i(b.getFileSource(r));else if(r=b.getFileByName("build.ts")){const e=await r.getModel().getEmitOutput();await i(e.outputFiles[0].text)}else(r=b.getFileByName("build.js"))?await i(b.getFileSource(r)):S(v.BuildFileMissing,"error")}async function N(){const e=b.getProject().getModel(),t=new C.a(e);t.logLn=S,t.createFile=((e,t)=>{const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)});const n=Object(C.c)(t,"src/main.html");n?p.dispatch({type:y.SANDBOX_RUN,src:n}):S("Cannot translate and open src/main.html")}async function L(){A("Building Project"),await R("default"),P()}!function(e){e.ADD_FILE_TO="ADD_FILE_TO",e.LOAD_PROJECT="LOAD_PROJECT",e.CLEAR_PROJECT_MODIFIED="CLEAR_PROJECT_MODIFIED",e.INIT_STORE="INIT_STORE",e.UPDATE_FILE_NAME_AND_DESCRIPTION="UPDATE_FILE_NAME_AND_DESCRIPTION",e.DELETE_FILE="DELETE_FILE",e.SPLIT_GROUP="SPLIT_GROUP",e.SET_VIEW_TYPE="SET_VIEW_TYPE",e.OPEN_FILE="OPEN_FILE",e.OPEN_FILES="OPEN_PROJECT_FILES",e.FOCUS_TAB_GROUP="FOCUS_TAB_GROUP",e.LOG_LN="LOG_LN",e.PUSH_STATUS="PUSH_STATUS",e.POP_STATUS="POP_STATUS",e.SANDBOX_RUN="SANDBOX_RUN",e.CLOSE_VIEW="CLOSE_VIEW",e.CLOSE_TABS="CLOSE_TABS",e.OPEN_VIEW="OPEN_VIEW"}(y||(y={}));class F{constructor(e){this.monacoIconLabel=document.createElement("div"),this.monacoIconLabel.className="monaco-icon-label",this.monacoIconLabel.style.display="flex",e.appendChild(this.monacoIconLabel);const t=document.createElement("div");t.className="monaco-icon-label-description-container",this.monacoIconLabel.appendChild(t),this.label=document.createElement("a"),this.label.className="label-name",t.appendChild(this.label),this.description=document.createElement("span"),this.description.className="label-description",t.appendChild(this.description)}}class V extends F{constructor(e){super(e)}dispose(){}set(e){this.label.classList.toggle(e.severity+"-dark",!0);const t=e.marker,n=`(${t.startLineNumber}, ${t.startColumn})`;this.label.innerHTML=t.message,this.description.innerHTML=n}}class I extends F{constructor(e){super(e)}dispose(){}set(e){let t="";switch(e.type){case a.d.C:t="c-lang-file-icon";break;case a.d.Cpp:t="cpp-lang-file-icon";break;case a.d.JavaScript:t="javascript-lang-file-icon";break;case a.d.HTML:t="html-lang-file-icon";break;case a.d.TypeScript:t="typescript-lang-file-icon";break;case a.d.Markdown:t="markdown-lang-file-icon";break;case a.d.JSON:t="json-lang-file-icon";break;case a.d.Wasm:t="wasm-lang-file-icon";break;case a.d.Wat:t="wat-lang-file-icon"}e instanceof a.a?(this.monacoIconLabel.classList.remove("file-icon"),this.monacoIconLabel.classList.add("folder-icon")):this.monacoIconLabel.classList.add("file-icon"),t&&this.monacoIconLabel.classList.add(t),this.label.innerHTML=e.name,this.monacoIconLabel.classList.toggle("dirty",e.isDirty),this.monacoIconLabel.classList.toggle("transient",e.isTransient);let n="";e.isDirty&&e.isTransient?n="File has been modified and is transient.":e.isDirty&&!e.isTransient?n="File has been modified.":!e.isDirty&&e.isTransient&&(n="File is transient."),this.monacoIconLabel.title=n}}function W(e,t,n){return new(function(e,t,n){return class extends c.TreeDefaults.DefaultController{onContextMenu(i,r,s){i.setFocus(r);const o=-10,a=-3,l={x:s.posx+o,y:s.posy+a},c=t&&t(r,s);return!(!c||!c.length||(e.contextMenuService.showContextMenu({getAnchor:()=>l,getActions:()=>monaco.Promise.as(c||[]),getActionItem:e=>null,onHide:e=>{e&&i.DOMFocus()}}),super.onContextMenu(i,r,s),n&&this.resolveMenuHeight(s),0))}resolveMenuHeight(e){document.querySelector(".context-view.monaco-menu-container").style.maxHeight=Math.min(window.innerHeight-e.posy-10,380)+"px"}}}(e,t,n))}!function(e){e[e.COPY=0]="COPY",e[e.MOVE=1]="MOVE"}(w||(w={})),function(e){e[e.BUBBLE_DOWN=0]="BUBBLE_DOWN",e[e.BUBBLE_UP=1]="BUBBLE_UP"}(E||(E={}));E.BUBBLE_UP,E.BUBBLE_UP,w.COPY;class z{constructor(e){this.target=e}getDragURI(e,t){return t.key}getDragLabel(e,t){return t[0].name}onDragStart(e,t,n){}onDragOver(e,t,n,i){if(!t.elements){const e=Array.from(i.browserEvent.dataTransfer.items),t=e.some(e=>"text/uri-list"===e.type);if(e.length&&!t)return{accept:e.every(e=>Object(f.g)(e.type)),bubble:E.BUBBLE_DOWN,autoExpand:!0}}const r=t.getData()[0];return{accept:n instanceof a.a&&n!==r&&!n.isDescendantOf(r),bubble:E.BUBBLE_DOWN,autoExpand:!0}}async drop(e,t,n,i){const r=i.browserEvent.dataTransfer.items;if(!t.elements&&r.length)return void await Object(f.m)(r,n);const s=t.getData()[0];return this.target.props.onMoveFile&&this.target.props.onMoveFile(s,n)}}class B extends i.Component{constructor(e){super(e),this.lastClickedTime=Date.now(),this.lastClickedFile=null,this.onLayout=(()=>{this.tree.layout()}),this.contextViewService=new c.ContextViewService(document.documentElement,null,{trace:()=>{}}),this.contextMenuService=new c.ContextMenuService(document.documentElement,null,null,this.contextViewService),this.state={directory:this.props.directory},this.status={push:A,pop:P,logLn:S}}componentDidMount(){this.ensureTree(),this.tree.model.setInput(this.props.directory.getModel()),this.tree.model.onDidSelect(e=>{e.selection.length&&this.onClickFile(e.selection[0])}),document.addEventListener("layout",this.onLayout)}componentWillUnmount(){document.removeEventListener("layout",this.onLayout)}componentWillReceiveProps(e){this.state.directory!==e.directory?(this.tree.model.setInput(e.directory.getModel()),this.setState({directory:e.directory})):(this.tree.refresh(),this.tree.expandAll())}setContainer(e){null!=e&&(this.container=e)}ensureTree(){this.container.lastChild&&this.container.removeChild(this.container.lastChild),this.tree=new c.Tree(this.container,{dataSource:{getId:function(e,t){return t.key},hasChildren:function(e,t){return t instanceof a.a},getChildren:function(e,t){return monaco.Promise.as(t.children)},getParent:function(e,t){return monaco.Promise.as(t.parent)}},renderer:{getHeight:function(e,t){return 24},renderTemplate:function(e,t,n){return new I(n)},renderElement:function(e,t,n,i){i.set(t)},disposeTemplate:function(e,t,n){n.dispose()}},controller:W(this,(e,t)=>this.getActions(e,t),!0),dnd:new z(this)})}getActions(e,t){const n=[];return this.props.onlyUploadActions?e.parent?(this.props.onDeleteFile&&n.push(new c.Action("x","Delete","octicon-x",!0,()=>this.props.onDeleteFile(e))),this.props.onEditFile&&n.push(new c.Action("x","Edit","octicon-pencil",!0,()=>this.props.onEditFile(e))),n):n:(e instanceof a.a&&(this.props.onNewFile&&n.push(new c.Action("x","New File","octicon-file-add",!0,()=>this.props.onNewFile(e))),this.props.onNewDirectory&&n.push(new c.Action("x","New Directory","octicon-file-add",!0,()=>this.props.onNewDirectory(e))),this.props.onUploadFile&&n.push(new c.Action("x","Upload Files","octicon-cloud-upload",!0,()=>this.props.onUploadFile(e)))),e instanceof a.g||(this.props.onEditFile&&n.push(new c.Action("x","Edit","octicon-pencil",!0,()=>this.props.onEditFile(e))),this.props.onDeleteFile&&n.push(new c.Action("x","Delete","octicon-x",!0,()=>this.props.onDeleteFile(e))),n.push(new c.Action("x","Download","octicon-cloud-download",!0,()=>{l.a.download(e)}))),Object(a.m)(e.type)||this.props.onCreateGist&&n.push(new c.Action("x","Create Gist","octicon-gist",!0,()=>this.props.onCreateGist(e))),e.type===a.d.Wasm?(n.push(new c.Action("x","Validate","octicon-check ruler",!0,async()=>{const t=await l.a.validateWasmWithBinaryen(e,this.status);window.alert(t?"Module is valid":"Module is not valid")})),n.push(new c.Action("x","Optimize","octicon-gear",!0,()=>{l.a.optimizeWasmWithBinaryen(e,this.status)})),n.push(new c.Action("x","Disassemble","octicon-file-code",!0,()=>{l.a.disassembleWasmWithWabt(e,this.status)})),n.push(new c.Action("x","Disassemble w/ Binaryen","octicon-file-code",!0,()=>{l.a.disassembleWasmWithBinaryen(e,this.status)})),n.push(new c.Action("x","To asm.js","octicon-file-code",!0,()=>{l.a.convertWasmToAsmWithBinaryen(e,this.status)})),n.push(new c.Action("x","Generate Call Graph","octicon-gear",!0,()=>{l.a.getWasmCallGraphWithBinaryen(e,this.status)})),n.push(new c.Action("x","To Firefox x86","octicon-file-binary",!0,()=>{l.a.disassembleX86(e,this.status)})),n.push(new c.Action("x","To Firefox x86 Baseline","octicon-file-binary",!0,()=>{l.a.disassembleX86(e,this.status,"--wasm-always-baseline")})),n.push(new c.Action("x","Binary Explorer","octicon-file-binary",!0,()=>{l.a.openBinaryExplorer(e)})),n.push(new c.Action("x","View as Binary","octicon-file-binary",!0,()=>{D(e,o.Binary,!1)})),n.push(new c.Action("x","Twiggy","octicon-file-binary",!0,()=>{l.a.twiggyWasm(e,this.status)}))):e.type===a.d.C||e.type===a.d.Cpp?n.push(new c.Action("x","Clang-Format","octicon-quote ruler",!0,()=>{l.a.clangFormat(e,this.status)})):e.type===a.d.Wat&&(n.push(new c.Action("x","Assemble","octicon-file-binary ruler",!0,()=>{l.a.assembleWatWithWabt(e,this.status)})),n.push(new c.Action("x","Assemble w/ Binaryen","octicon-file-binary",!0,()=>{l.a.assembleWatWithBinaryen(e,this.status)}))),n)}onClickFile(e){e instanceof a.a||(Date.now()-this.lastClickedTime<500&&this.lastClickedFile===e&&this.props.onDoubleClickFile?this.props.onDoubleClickFile(e):this.props.onClickFile&&this.props.onClickFile(e),this.lastClickedTime=Date.now(),this.lastClickedFile=e)}render(){return i.createElement("div",{className:"fill",ref:e=>this.setContainer(e)})}}function U(e,t){for(const n in t)n in e||(e[n]=t[n]);return e}const H=n(47);var q;!function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical"}(q||(q={}));class $ extends i.Component{constructor(e){super(e),this.index=-1,this.onResizerMouseUp=(()=>{if(!(this.index<0))return this.index=-1,$.onResizeEnd.dispatch(this),this.solver.endEdit(),window.document.documentElement.style.pointerEvents="auto",this.querySolver(this.state.splits),this.props.onChange&&this.props.onChange(this.state.splits)}),this.onResizerMouseMove=(e=>{if(this.index<0)return;const t=this.vars,n=this.props.orientation===q.Vertical,i=this.container.getBoundingClientRect(),r=n?e.clientX-i.left:e.clientY-i.top;this.solver.suggestValue(t[this.index+1],r),this.solver.resolve();const s=this.state.splits;this.querySolver(s),this.setState({splits:s}),e.preventDefault()}),this.state={splits:[]}}componentDidMount(){document.addEventListener("mousemove",this.onResizerMouseMove),document.addEventListener("mouseup",this.onResizerMouseUp);const e=this.canonicalizeSplits(this.props);this.setupSolver(e,this.getContainerSize(this.props.orientation)),this.querySolver(e),this.setState({splits:e})}componentWillReceiveProps(e){this.onResizerMouseUp();const t=this.canonicalizeSplits(e);this.setupSolver(t,this.getContainerSize(e.orientation)),this.querySolver(t),this.setState({splits:t})}componentWillUnmount(){document.removeEventListener("mousemove",this.onResizerMouseMove),document.removeEventListener("mouseup",this.onResizerMouseUp)}onResizerMouseDown(e){this.index=e,this.solver.addEditVar(this.vars[this.index+1],H.Strength.strong).beginEdit(),$.onResizeBegin.dispatch(this),window.document.documentElement.style.pointerEvents="none"}querySolver(e){const t=this.vars;for(let n=0;n<e.length;n++)e[n].value=t[n+1].value-t[n].value}getContainerSize(e){return e===q.Horizontal?this.container.clientHeight:this.container.clientWidth}canonicalizeSplits(e){const t=i.Children.count(e.children),n=this.getContainerSize(e.orientation),r=[];for(let i=0;i<t;i++){const t={};e.splits&&i<e.splits.length&&U(t,e.splits[i]),e.defaultSplit&&U(t,e.defaultSplit),r.push(U(t,{min:32,max:n}))}return r}setupSolver(e,t){Object(f.a)(this.index<0,"Should not be in a dragging state.");const n=H.Strength.weak,i=(H.Strength.medium,H.Strength.strong),r=H.Strength.required;function s(e,t,n,i){return new H.Inequality(e,H.GEQ,t,n,i)}function o(e,t,n,i){return new H.Inequality(e,H.LEQ,t,n,i)}const a=this.vars=[new H.Variable],l=this.solver=new H.SimplexSolver;for(let t=0;t<e.length;t++)a.push(new H.Variable);a[0].value=0,a[a.length-1].value=t,l.addStay(a[0],r),l.addStay(a[a.length-1],r);for(let t=0;t<a.length-1;t++){const{min:n,max:r}=e[t],c=a[t],u=a[t+1];l.addConstraint(s(H.minus(u,c),n,i)),l.addConstraint(o(H.minus(u,c),r,i))}for(let e=1;e<a.length-1;e++)l.addStay(a[e],n);this.suggestVarValues(e)}suggestVarValues(e){const t=this.vars;for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1];e[n].value&&(n<t.length-2?(this.solver.addEditVar(r,H.Strength.strong).beginEdit(),this.solver.suggestValue(r,i.value+e[n].value)):(this.solver.addEditVar(i,H.Strength.strong).beginEdit(),this.solver.suggestValue(i,r.value-e[n].value)),this.solver.endEdit(),this.solver.resolve())}}render(){const{splits:e}=this.state;let t="resizer";const n=this.props.orientation===q.Horizontal;t+=n?" horizontal":" vertical";const r=i.Children.count(this.props.children),s=[];return i.Children.forEach(this.props.children,(n,o)=>{const a={};o<r-1&&o<e.length?a.flexBasis=function(e){return(0|e)+"px"}(Math.round(e[o].value)):a.flex=1,s.push(i.createElement("div",{key:o,className:"split-pane",style:a},n)),o<r-1&&s.push(i.createElement("div",{key:"split:"+o,className:t,onMouseDown:this.onResizerMouseDown.bind(this,o)}))}),i.createElement("div",{className:"split",ref:e=>{this.container=e},style:{flexDirection:n?"column":"row"}},s)}}$.onResizeBegin=new a.b("Resize Begin"),$.onResizeEnd=new a.b("Resize End");class G extends i.Component{constructor(e){super(e),this.refreshTree=(()=>{this.directoryTree.tree.refresh()}),this.state={splits:[]}}componentDidMount(){b.onDidChangeDirty.register(this.refreshTree),b.onDidChangeChildren.register(this.refreshTree)}componentWillUnmount(){b.onDidChangeDirty.unregister(this.refreshTree),b.onDidChangeChildren.unregister(this.refreshTree)}render(){const e=this.props.project;return i.createElement("div",{className:"workspaceContainer"},i.createElement(s,null),i.createElement("div",{style:{height:"calc(100% - 41px)"}},i.createElement($,{name:"Workspace",orientation:q.Horizontal,splits:this.state.splits,onChange:e=>{this.setState({splits:e})}},i.createElement("div",null),i.createElement(B,{ref:e=>this.directoryTree=e,directory:e,value:this.props.file,onNewFile:this.props.onNewFile,onNewDirectory:this.props.onNewDirectory,onEditFile:this.props.onEditFile,onDeleteFile:this.props.onDeleteFile,onUploadFile:this.props.onUploadFile,onMoveFile:this.props.onMoveFile,onClickFile:this.props.onClickFile,onDoubleClickFile:this.props.onDoubleClickFile,onCreateGist:this.props.onCreateGist}))))}}class J extends i.Component{constructor(e){super(e),this.onLayout=(()=>{this.editor.layout()}),this.status={push:A,pop:P,logLn:S}}revealLastLine(){this.editor.revealLine(this.editor.getModel().getLineCount())}componentDidMount(){const{view:e}=this.props;e&&(this.ensureEditor(),this.editor.setModel(e.file.buffer),monaco.editor.setModelLanguage(this.editor.getModel(),Object(a.n)(e.file.type)),this.editor.restoreViewState(e.state),this.editor.updateOptions({readOnly:e.file.isBufferReadOnly})),document.addEventListener("layout",this.onLayout)}componentWillReceiveProps(e){this.props.view!==e.view&&(this.props.view.state=this.editor.saveViewState())}shouldComponentUpdate(e,t){return this.props.view!==e.view}componentDidUpdate(){const{view:e}=this.props;e&&(this.ensureEditor(),this.editor.setModel(e.file.buffer),this.editor.restoreViewState(e.state),this.editor.updateOptions({readOnly:e.file.isBufferReadOnly}))}componentWillUnmount(){document.removeEventListener("layout",this.onLayout),this.props.view.state=this.editor.saveViewState()}registerActions(){const e=this;this.editor.addAction({id:"save",label:"Save",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_S],precondition:null,keybindingContext:null,run:function(){const t=e.props.view;return t&&!t.file.isBufferReadOnly&&t.file.save(e.status),null}}),this.editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_B,function(){L()},null),this.editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.Enter,function(){N()},null),this.editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyMod.Alt|monaco.KeyCode.Enter,function(){L().then(N)},null)}ensureEditor(){if(this.editor)return;const e=Object.assign({value:"",theme:"fiddle-theme",minimap:{enabled:!1},fontWeight:"bold",renderLineHighlight:"none"},this.props.options);this.container.lastChild&&this.container.removeChild(this.container.lastChild),this.editor=monaco.editor.create(this.container,e),this.editor.onContextMenu(e=>{this.resolveMenuPosition(e),this.disableEditorScroll()}),this.editor.onDidFocusEditor(()=>this.enableEditorScroll()),this.editor.onDidFocusEditorText(()=>this.enableEditorScroll()),this.registerActions(),console.info("Created a new Monaco editor.")}resolveMenuPosition(e){const t=-10,n=-3,i=this.container.querySelector(".monaco-editor > .monaco-menu-container"),r=parseInt(i.style.top,10)+e.event.editorPos.y+n,s=parseInt(i.style.left,10)+e.event.editorPos.x+t;i.style.top=r+"px",i.style.left=s+"px",i.style.maxHeight=Math.min(window.innerHeight-r-10,380)+"px"}disableEditorScroll(){this.editor.updateOptions({scrollbar:{handleMouseWheel:!1}})}enableEditorScroll(){this.editor.updateOptions({scrollbar:{handleMouseWheel:!0}})}setContainer(e){null!=e&&(this.container=e)}render(){return i.createElement("div",{className:"fill",ref:e=>this.setContainer(e)})}}class K extends i.Component{setMonaco(e){this.monaco=e}revealLastLine(){this.monaco.revealLastLine()}render(){const e=this.props.view.file;return e.description?i.createElement("div",{className:"fill"},i.createElement("div",{className:"editor-status-bar"},i.createElement("div",{className:"status-bar-item"},e.description)),i.createElement("div",{className:"editor-container"},i.createElement(J,{ref:e=>this.setMonaco(e),view:this.props.view,options:this.props.options})),";"):i.createElement("div",{className:"fill"},i.createElement(J,{ref:e=>this.setMonaco(e),view:this.props.view,options:this.props.options}))}}class X extends i.Component{constructor(){super(...arguments),this.state={scrollLeft:0},this.onWheel=(e=>{const t=Object(f.c)(e.deltaY,-16,16);let{scrollLeft:n}=this.state;n+=t,n=Object(f.c)(n,0,this.container.clientWidth),this.setState({scrollLeft:n}),e.preventDefault()}),this.onDoubleClick=(e=>{this.props.onDoubleClick()}),this.setContainerRef=(e=>{this.container=e})}componentDidUpdate(){this.container.scrollLeft=this.state.scrollLeft}render(){const{onDoubleClick:e,children:t,commands:n}=this.props;return i.createElement("div",{className:"tabs-container"},i.createElement("div",{ref:this.setContainerRef,className:"tabs-tab-container",onWheel:this.onWheel,onDoubleClick:this.onDoubleClick},t),i.createElement("div",{className:"tabs-command-container"},n))}}X.defaultProps={onDoubleClick:()=>{}};class Y extends i.PureComponent{constructor(){super(...arguments),this.onMouseHandle=((e,t)=>{e.stopPropagation(),t(this.props.value)}),this.onClick=(e=>{this.onMouseHandle(e,this.props.onClick)}),this.onDoubleClick=(e=>{this.onMouseHandle(e,this.props.onDoubleClick)}),this.onClose=(e=>{this.onMouseHandle(e,this.props.onClose)})}render(){const{label:e,icon:t,isActive:n,isMarked:r,isItalic:s}=this.props;let o="tab";return n&&(o+=" active"),r&&(o+=" marked"),s&&(o+=" italic"),i.createElement("div",{className:o,onClick:this.onClick,onDoubleClick:this.onDoubleClick},i.createElement("div",{className:"monaco-icon-label file-icon "+t}),i.createElement("div",{className:"label"},e),i.createElement("div",{className:"close",onClick:this.onClose}))}}Y.defaultProps={onClick:()=>{},onDoubleClick:()=>{},onClose:()=>{}};class Q extends i.Component{constructor(e){super(e),this.state={html:"Loading ..."}}async componentDidMount(){const e=await l.a.compileMarkdownToHtml(this.props.src);this.setState({html:e})}async componentWillReceiveProps(e){if(this.props.src!==e.src){const t=await l.a.compileMarkdownToHtml(e.src);this.setState({html:t})}}render(){return i.createElement("div",{style:{padding:"8px",height:"100%",overflow:"scroll"},className:"md",dangerouslySetInnerHTML:{__html:this.state.html}})}}class Z extends i.Component{constructor(e){super(e),this.onDidChangeBuffer=(()=>{this.setState({markdown:this.props.view.file.buffer.getValue()})}),this.state={markdown:this.props.view.file.buffer.getValue()}}componentDidMount(){this.props.view.file.onDidChangeBuffer.register(this.onDidChangeBuffer)}componentWillUnmount(){this.props.view.file.onDidChangeBuffer.unregister(this.onDidChangeBuffer)}componentWillReceiveProps(e){const t=this.props.view,n=e.view;t!==n&&(t.file.onDidChangeBuffer.unregister(this.onDidChangeBuffer),n.file.onDidChangeBuffer.register(this.onDidChangeBuffer),this.setState({markdown:e.view.file.buffer.getValue()}))}render(){return i.createElement(Q,{src:this.state.markdown})}}class ee extends i.Component{render(){let e="button ";return this.props.customClassName&&(e+=this.props.customClassName),this.props.isDisabled&&(e+=" disabled"),this.props.href&&!this.props.isDisabled?i.createElement("a",{href:this.props.href,target:this.props.target||"",rel:this.props.rel||"",className:e,title:this.props.title},this.props.icon," ",this.props.label):i.createElement("div",{className:e,onClick:()=>{this.props.onClick&&!this.props.isDisabled&&this.props.onClick()},title:this.props.title},this.props.icon," ",this.props.label)}}class te extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-repo-forked",viewBox:"0 0 10 16",version:"1.1",width:"10",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"}))}}class ne extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-beaker",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M14.38 14.59L11 7V3h1V2H3v1h1v4L.63 14.59A1 1 0 0 0 1.54 16h11.94c.72 0 1.2-.75.91-1.41h-.01zM3.75 10L5 7V3h5v4l1.25 3h-7.5zM8 8h1v1H8V8zM7 7H6V6h1v1zm0-3h1v1H7V4zm0-3H6V0h1v1z"}))}}class ie extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-gear",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"}))}}class re extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-gear",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("defs",null,i.createElement("clipPath",{id:"cut-off-beaker"},i.createElement("rect",{x:"0",y:"0",width:"7",height:"16"})),i.createElement("clipPath",{id:"cut-off-gear"},i.createElement("rect",{x:"7",y:"0",width:"7",height:"16"}))),i.createElement("g",null,i.createElement("path",{fillRule:"evenodd",clipPath:"url(#cut-off-beaker)",d:"M14.38 14.59L11 7V3h1V2H3v1h1v4L.63 14.59A1 1 0 0 0 1.54 16h11.94c.72 0 1.2-.75.91-1.41h-.01zM3.75 10L5 7V3h5v4l1.25 3h-7.5zM8 8h1v1H8V8zM7 7H6V6h1v1zm0-3h1v1H7V4zm0-3H6V0h1v1z"})),i.createElement("g",null,i.createElement("path",{fillRule:"evenodd",clipPath:"url(#cut-off-gear)",d:"M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"})))}}class se extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-book",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"}))}}class oe extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-rocket",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M12.17 3.83c-.27-.27-.47-.55-.63-.88-.16-.31-.27-.66-.34-1.02-.58.33-1.16.7-1.73 1.13-.58.44-1.14.94-1.69 1.48-.7.7-1.33 1.81-1.78 2.45H3L0 10h3l2-2c-.34.77-1.02 2.98-1 3l1 1c.02.02 2.23-.64 3-1l-2 2v3l3-3v-3c.64-.45 1.75-1.09 2.45-1.78.55-.55 1.05-1.13 1.47-1.7.44-.58.81-1.16 1.14-1.72-.36-.08-.7-.19-1.03-.34a3.39 3.39 0 0 1-.86-.63M16 0s-.09.38-.3 1.06c-.2.7-.55 1.58-1.06 2.66-.7-.08-1.27-.33-1.66-.72-.39-.39-.63-.94-.7-1.64C13.36.84 14.23.48 14.92.28 15.62.08 16 0 16 0"}))}}class ae extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-pencil",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"}))}}class le extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-file",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}))}}class ce extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-file-directory",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"}))}}class ue extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-desktop-download",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M4 6h3V0h2v6h3l-4 4-4-4zm11-4h-4v1h4v8H1V3h4V2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1z"}))}}class de extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-x",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"}))}}class he extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-three-bars",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z"}))}}class pe extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-gist",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"}))}}class fe extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-issue-opened",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))}}class me extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-question",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M6 10h2v2H6v-2zm4-3.5C10 8.64 8 9 8 9H6c0-.55.45-1 1-1h.5c.28 0 .5-.22.5-.5v-1c0-.28-.22-.5-.5-.5h-1c-.28 0-.5.22-.5.5V7H4c0-1.5 1.5-3 3-3s3 1 3 2.5zM7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7z"}))}}class ge extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-clippy",viewBox:"0 0 12 14",version:"1.1",width:"12",height:"14","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"}))}}class be extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-eye",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16"},i.createElement("path",{d:"M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"}))}}class ve extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-code",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"}))}}class ye extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-cloud-upload",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M7 9H5l3-3 3 3H9v5H7V9zm5-4c0-.44-.91-3-4.5-3C5.08 2 3 3.92 3 6 1.02 6 0 7.52 0 9c0 1.53 1 3 3 3h3v-1.3H3c-1.62 0-1.7-1.42-1.7-1.7 0-.17.05-1.7 1.7-1.7h1.3V6c0-1.39 1.56-2.7 3.2-2.7 2.55 0 3.13 1.55 3.2 1.8v1.2H12c.81 0 2.7.22 2.7 2.2 0 2.09-2.25 2.2-2.7 2.2h-2V12h2c2.08 0 4-1.16 4-3.5C16 6.06 14.08 5 12 5z"}))}}class we extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-sync",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M10.24 7.4a4.15 4.15 0 0 1-1.2 3.6 4.346 4.346 0 0 1-5.41.54L4.8 10.4.5 9.8l.6 4.2 1.31-1.26c2.36 1.74 5.7 1.57 7.84-.54a5.876 5.876 0 0 0 1.74-4.46l-1.75-.34zM2.96 5a4.346 4.346 0 0 1 5.41-.54L7.2 5.6l4.3.6-.6-4.2-1.31 1.26c-2.36-1.74-5.7-1.57-7.85.54C.5 5.03-.06 6.65.01 8.26l1.75.35A4.17 4.17 0 0 1 2.96 5z"}))}}const Ee=["#ead780","#efb8f6","#89ee39","#bbc3fe","#cbed3a","#d0cdee","#7aec58","#f2bcd5","#35ed72","#cbd5e7","#e2de49","#79d8f6","#f3c63e","#66e9de","#bee869","#e6cdc7","#71ec77","#f3bea5","#67eb8f","#edca95","#53efb6","#ebe8c8","#a0eb7f","#b3e1e0","#d3e484","#8de6c0","#bfee98","#c0e0c5","#88e99a","#cee1a8","#8be8ad","#a6e0a3"];function Ce(e,t){let n=e.toString(16).toUpperCase();for(;n.length<t;)n="0"+n;return n}class _e extends i.Component{constructor(e){super(e),this.onDidChangeData=(()=>{const e=this.props.view.file.getData();this.setState({data:e})});const t=this.props.view.file.getData();this.state={data:t}}componentDidMount(){this.props.view.file.onDidChangeData.register(this.onDidChangeData)}componentWillUnmount(){this.props.view.file.onDidChangeData.unregister(this.onDidChangeData)}componentWillReceiveProps(e){const t=this.props.view,n=e.view;t!==n&&(t.file.onDidChangeData.unregister(this.onDidChangeData),n.file.onDidChangeData.register(this.onDidChangeData))}render(){const e=new Uint8Array(this.state.data),t=Math.max(1,Math.ceil(e.length/16)),n=[];for(let r=0;r<t;r++){const t=16*r,s=Math.min(e.length-t,16),o=[];let a="";for(let n=0;n<s;n++){const r=e[t+n];o.push(i.createElement("span",{className:"byte",key:"col"+n,style:{color:Ee[31&r]}},Ce(r,2))),a+=r>=32&&r<127?String.fromCharCode(r):"."}n.push(i.createElement("div",{className:"row",key:"row"+r},i.createElement("div",null,i.createElement("span",{className:"address"},"0x"+Ce(t,8)),i.createElement("span",{className:"bytes"},o),i.createElement("span",null,a))))}return i.createElement("div",{className:"binary"},n)}}function xe(){return"undefined"!=typeof Viz}class ke extends i.Component{constructor(e){super(e),this.updateThrottleDuration=500,this.updateTimeout=0,this.onDidChangeBuffer=(()=>{this.updateTimeout&&window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.updateTimeout=0,this.setState({content:this.props.view.file.buffer.getValue()})},this.updateThrottleDuration)}),this.state={isVizLoaded:xe(),content:this.props.view.file.buffer.getValue()}}async componentWillMount(){this.state.isVizLoaded||(await async function(){await l.a.lazyLoad("lib/viz-lite.js")}(),this.setState({isVizLoaded:xe()}))}componentDidMount(){this.props.view.file.onDidChangeBuffer.register(this.onDidChangeBuffer)}componentWillUnmount(){this.props.view.file.onDidChangeBuffer.unregister(this.onDidChangeBuffer)}componentWillReceiveProps(e){const t=this.props.view,n=e.view;t!==n&&(t.file.onDidChangeBuffer.unregister(this.onDidChangeBuffer),n.file.onDidChangeBuffer.register(this.onDidChangeBuffer))}render(){if(!this.state.isVizLoaded)return i.createElement("div",null,"Loading GraphViz, please wait ...");try{const e=Viz(this.state.content);return i.createElement("div",{style:{width:"100%",height:"100%",overflow:"scroll"},dangerouslySetInnerHTML:{__html:e}})}catch(e){return i.createElement("div",null,"GraphViz Error")}}}class Se extends i.Component{constructor(e){super(e),this.onFileDidChangeDirty=(()=>{this.setState({isActiveViewFileDirty:d(this.props.view)})}),this.status={push:A,pop:P,logLn:S},this.state={isActiveViewFileDirty:d(e.view)}}componentDidMount(){b.onDidChangeDirty.register(this.onFileDidChangeDirty)}componentWillUnmount(){b.onDidChangeDirty.unregister(this.onFileDidChangeDirty)}componentWillReceiveProps(e){this.props.view!==e.view&&this.setState({isActiveViewFileDirty:d(e.view)})}renderViewCommands(){const{view:e}=this.props,t=[i.createElement(ee,{key:"split",icon:i.createElement(se,null),title:"Split Editor",onClick:()=>this.props.onSplitViews()}),i.createElement(ee,{key:"save",icon:i.createElement(ge,null),label:"Save",title:"Save: CtrlCmd + S",isDisabled:!this.state.isActiveViewFileDirty,onClick:()=>{this.props.view.file.save(this.status)}})];if(e.file.type===a.d.Markdown){const n=e.type===o.Markdown;t.unshift(i.createElement(ee,{key:"toggle",icon:n?i.createElement(ve,null):i.createElement(be,null),title:n?"Edit Markdown":"Preview Markdown",onClick:()=>this.props.onChangeViewType(e,n?o.Editor:o.Markdown)}))}else if(e.file.type===a.d.DOT){const n=e.type===o.Viz;t.unshift(i.createElement(ee,{key:"toggle",icon:n?i.createElement(ve,null):i.createElement(be,null),title:n?"Edit GraphViz DOT File":"Preview GraphViz DOT File",onClick:()=>this.props.onChangeViewType(e,n?o.Editor:o.Viz)}))}return t}render(){const{onClickView:e,onDoubleClickView:t,onClose:n,view:r,views:s,preview:l,hasFocus:c}=this.props;if(!r)return i.createElement("div",null);const{file:u}=r;let d;if(u&&u.type===a.d.Markdown&&r.type===o.Markdown)d=i.createElement(Z,{view:r});else if(u&&u.type===a.d.DOT&&r.type===o.Viz)d=i.createElement(ke,{view:r});else if(r.type===o.Binary)d=i.createElement(_e,{view:r});else{if(!u)return i.createElement("div",{className:"editor-pane-container empty"});d=i.createElement(K,{view:r,options:{readOnly:u.isBufferReadOnly}})}let h="editor-pane-container";return c||(h+=" blurred"),i.createElement("div",{className:h,onClick:this.props.onFocus},i.createElement(X,{onDoubleClick:()=>this.props.onNewFile(),commands:this.renderViewCommands()},s.map(s=>{const{file:c}=s;let u=c.name;return s.type===o.Binary?u="Binary "+u:s.type!==o.Markdown&&s.type!==o.Viz||(u="Preview "+u),i.createElement(Y,{key:c.key,label:u,value:s,icon:Object(a.l)(c.type),isMarked:c.isDirty,isActive:s===r,isItalic:s===l,onClick:e,onDoubleClick:t,onClose:n})})),i.createElement("div",{style:{height:"calc(100% - 40px)"}},d))}}Se.defaultProps={view:null,views:[],onChangeViewType:(e,t)=>{},onNewFile:()=>{},onSplitViews:()=>{}};class Oe extends i.Component{render(){return i.createElement("div",{className:"toolbar"},this.props.children)}}var De=n(13),Te=n(5);class je extends i.Component{render(){return i.createElement("div",{style:{height:this.props.height}})}}class Me extends i.Component{constructor(e){super(e)}render(){const e=i.createElement("input",{className:"text-input-box",type:"text",value:this.props.value,onChange:this.props.onChange});return this.props.label?i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:"text-input-box-label"},this.props.label),i.createElement("div",{style:{flex:1}},e),this.props.error&&i.createElement("div",{className:"text-input-box-error"},this.props.error)):e}}class Ae extends i.Component{setInputElement(e){this.inputElement=e}constructor(e){super(e)}open(e){this.inputElement&&"directory"===e?(this.inputElement.setAttribute("directory","true"),this.inputElement.setAttribute("webkitdirectory","true"),this.inputElement.setAttribute("allowdirs","true")):(this.inputElement.removeAttribute("directory"),this.inputElement.removeAttribute("webkitdirectory"),this.inputElement.removeAttribute("allowdirs")),this.inputElement.click()}render(){return i.createElement("input",{id:"file-upload-input",ref:e=>this.setInputElement(e),type:"file",onChange:this.props.onChange,multiple:!0,hidden:!0})}}class Pe extends i.Component{render(){let e="list-item";this.props.selected&&(e+=" selected");let t=i.createElement("div",{className:"label"},this.props.label);return this.props.error&&(t=i.createElement("div",{className:"list-item-flex"},i.createElement("div",{className:"label"},this.props.label),i.createElement("div",{className:"error"},this.props.error))),i.createElement("div",{className:e,onClick:this.props.onClick},i.createElement("div",{className:"monaco-icon-label file-icon "+this.props.icon}),t)}}class Re extends i.Component{constructor(e){super(e)}render(){const{children:e,onSelect:t}=this.props,n=i.Children.map(e,(e,n)=>i.cloneElement(e,{onClick:()=>t&&t(e.props.value),selected:this.props.value===e.props.value}));return i.createElement("div",{className:"list-box",style:{height:this.props.height}},n)}}class Ne extends i.Component{constructor(e){super(e),this.onChangeName=(e=>{this.setState({name:e.target.value})}),this.state={fileType:a.d.C,description:"",name:""}}getNameError(){const e=this.props.directory;if(this.state.name){if(!/^[a-z0-9\.\-\_]+$/i.test(this.state.name))return"Illegal characters in file name.";if(!this.state.name.endsWith(Object(a.h)(this.state.fileType)))return Object(a.p)(this.state.fileType)+" file extension is missing.";if(e&&b.getImmediateChild(e,this.state.name))return`File '${this.state.name}' already exists.`}return""}fileName(){let e=this.state.name;const t=Object(a.h)(this.state.fileType);return e.endsWith("."+t)||(e+="."+t),e}createButtonLabel(){return"Create"}render(){return i.createElement(Te,{isOpen:this.props.isOpen,contentLabel:"Create New File",className:"modal show-file-icons",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Create New File"),i.createElement("div",null,i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:{width:250}},i.createElement(Re,{value:this.state.fileType,height:240,onSelect:e=>{let t="";switch(e){case a.d.C:t="Creates a file containing C source code.";break;case a.d.Cpp:t="Creates a file containing C++ source code.";break;case a.d.Cretonne:t="Cretonne intermediate language (IL) source code.";break;default:t="Creates a "+Object(a.p)(e)+" file."}this.setState({fileType:e,description:t})}},i.createElement(Pe,{value:a.d.C,label:"C File (.c)",icon:Object(a.l)(a.d.C)}),i.createElement(Pe,{value:a.d.Cpp,label:"C++ File (.cpp)",icon:Object(a.l)(a.d.Cpp)}),i.createElement(Pe,{value:a.d.Rust,label:"Rust File (.rs)",icon:Object(a.l)(a.d.Rust)}),i.createElement(Pe,{value:a.d.Cretonne,label:"Cretonne (.cton)",icon:Object(a.l)(a.d.Cretonne)}),i.createElement(Pe,{value:a.d.Wat,label:"Wat (.wat)",icon:Object(a.l)(a.d.Wat)}),i.createElement(Pe,{value:a.d.JavaScript,label:"JavaScript (.js)",icon:Object(a.l)(a.d.JavaScript)}),i.createElement(Pe,{value:a.d.TypeScript,label:"TypeScript (.ts)",icon:Object(a.l)(a.d.TypeScript)}),i.createElement(Pe,{value:a.d.HTML,label:"HTML (.html)",icon:Object(a.l)(a.d.HTML)}),i.createElement(Pe,{value:a.d.CSS,label:"CSS (.css)",icon:Object(a.l)(a.d.CSS)}),i.createElement(Pe,{value:a.d.Markdown,label:"Markdown (.md)",icon:Object(a.l)(a.d.Markdown)}),i.createElement(Pe,{value:a.d.JSON,label:"JSON (.json)",icon:Object(a.l)(a.d.JSON)}),i.createElement(Pe,{value:a.d.DOT,label:"GraphViz DOT (.dot)",icon:Object(a.l)(a.d.DOT)}),i.createElement(Pe,{value:a.d.TOML,label:"TOML Document (.toml)",icon:Object(a.l)(a.d.TOML)}))),i.createElement("div",{className:"new-file-dialog-description"},this.state.description))),i.createElement("div",{style:{flex:1,padding:"8px"}},i.createElement(Me,{label:"Name: "+(this.props.directory?b.getPath(this.props.directory)+"/":""),error:this.getNameError(),value:this.state.name,onChange:this.onChangeName})),i.createElement("div",null,i.createElement(ee,{icon:i.createElement(de,null),label:"Cancel",title:"Create New File",onClick:()=>{this.props.onCancel()}}),i.createElement(ee,{icon:i.createElement(le,null),label:this.createButtonLabel(),title:"Create New File",isDisabled:!this.state.fileType||!this.state.name||!!this.getNameError(),onClick:()=>{const e=new a.c(this.fileName(),this.state.fileType);return this.props.onCreate&&this.props.onCreate(e)}}))))}}class Le extends i.Component{constructor(e){super(e),this.onChangeName=(e=>{this.setState({name:e.target.value})}),this.onChangeDescription=(e=>{this.setState({description:e.target.value})});const{description:t,name:n,type:i}=e.file.getModel();this.state={description:t,name:n,fileType:i}}getNameError(){const e=b.getParent(this.props.file),t=b.getImmediateChild(e,this.state.name);return/^[a-z0-9\.\-\_]+$/i.test(this.state.name)?this.state.name.endsWith(Object(a.h)(this.state.fileType))?t&&this.props.file!==t?`File '${this.state.name}' already exists.`:"":Object(a.p)(this.state.fileType)+" file extension is missing.":"Illegal characters in file name."}render(){const e=this.props.file.getModel();return i.createElement(Te,{isOpen:this.props.isOpen,contentLabel:"Edit "+(e instanceof a.a?"Directory":"File"),className:"modal",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},`Edit ${e instanceof a.a?"Directory":"File"} ${e.name}`),i.createElement("div",{style:{flex:1,padding:"8px"}},i.createElement(Me,{label:"Name:",error:this.getNameError(),value:this.state.name,onChange:this.onChangeName}),i.createElement(je,{height:8}),i.createElement(Me,{label:"Description:",value:this.state.description,onChange:this.onChangeDescription})),i.createElement("div",null,i.createElement(ee,{icon:i.createElement(de,null),label:"Cancel",title:"Cancel",onClick:()=>{this.props.onCancel()}}),i.createElement(ee,{icon:i.createElement(ae,null),label:"Edit",title:"Edit",isDisabled:!this.state.name||!!this.getNameError(),onClick:()=>this.props.onChange&&this.props.onChange(this.state.name,this.state.description)}))))}}class Fe extends i.Component{constructor(e){super(e),this.root=a.e.getRef(new a.a("root")),this.root.getModel().onDidChangeChildren.register(()=>this.onRootChildrenChange()),this.state={hasFilesToUpload:!1}}async handleUpload(e){await Object(f.m)(e,this.root.getModel())}onRootChildrenChange(){this.setState({hasFilesToUpload:this.root.getModel().hasChildren()})}render(){const e=this.root.getModel();return i.createElement(Te,{isOpen:this.props.isOpen,contentLabel:"Upload",className:"modal show-file-icons",overlayClassName:"overlay",ariaHideApp:!1},this.state.editFileDialogFile&&i.createElement(Le,{isOpen:!0,file:this.state.editFileDialogFile,onCancel:()=>{this.setState({editFileDialogFile:null})},onChange:(e,t)=>{k(this.state.editFileDialogFile.getModel(),e,t),this.setState({editFileDialogFile:null})}}),i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Upload Files & Directories to ",this.props.directory.getModel().getPath()),i.createElement("div",{className:"row"},i.createElement("div",{className:"column"},i.createElement(Ae,{ref:e=>this.uploadInput=e,onChange:e=>{this.handleUpload(e.target.files)}})),i.createElement("div",{className:"column",style:{height:"290px"}},i.createElement(B,{onlyUploadActions:!0,directory:this.root,onDeleteFile:e=>{e.parent.removeFile(e)},onEditFile:e=>{this.setState({editFileDialogFile:a.e.getRef(e)})},onMoveFile:(e,t)=>{x(e,t)}}))),i.createElement("div",null,i.createElement(ee,{icon:i.createElement(de,null),label:"Cancel",title:"Cancel",onClick:()=>{this.props.onCancel()}}),i.createElement(ee,{icon:i.createElement(le,null),label:"Files",title:"Select Files",onClick:()=>{this.uploadInput.open("files")}}),i.createElement(ee,{icon:i.createElement(ce,null),label:"Directory",title:"Select Directory",onClick:()=>{this.uploadInput.open("directory")}}),i.createElement(ee,{icon:i.createElement(ye,null),label:"Upload",title:"Upload",isDisabled:!this.state.hasFilesToUpload,onClick:()=>this.props.onUpload&&this.props.onUpload(e.children.slice(0))}),1===e.children.length&&e.children[0]instanceof a.a&&i.createElement(ee,{icon:i.createElement(ye,null),label:"Upload Root Contents",title:"Upload contents of "+e.children[0].name,onClick:()=>this.props.onUpload&&this.props.onUpload(e.children[0].children.slice(0))}))))}}class Ve extends i.Component{constructor(e){super(e),this.state={toasts:[]}}showToast(e,t="info"){const{toasts:n}=this.state;n.push({message:e,kind:t}),this.setState({toasts:n})}onDismiss(e){this.setState(t=>({toasts:t.toasts.filter((t,n)=>n!==e)}))}render(){return 0===this.state.toasts.length?null:i.createElement("div",{className:"toast-container"},this.state.toasts.map((e,t)=>i.createElement(Ie,{onDismiss:this.onDismiss.bind(this,t),key:t,message:e.message,kind:e.kind})))}}class Ie extends i.Component{render(){const{message:e,onDismiss:t}=this.props,n="toast "+this.props.kind;return i.createElement("div",{className:n},i.createElement("div",{className:"toast-header"},e,i.createElement(ee,{icon:i.createElement(de,null),customClassName:"button-toast",label:"Dismiss",title:"Dismiss",onClick:t})))}}Ie.defaultProps={message:null,kind:"info",onDismiss:()=>{}};class We extends i.Component{constructor(e){super(e),this.state={}}render(){const e=`${location.protocol}//${location.host}${location.pathname}`;return i.createElement(Te,{isOpen:this.props.isOpen,contentLabel:"Share Project",className:"modal",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Share Project"),i.createElement("div",{style:{flex:1,padding:"8px"}},i.createElement(Me,{label:"URL",value:`${e}?f=${this.props.fiddle}`}),i.createElement(Me,{label:"IFrame",value:`<iframe src="${e}?embed&f=${this.props.fiddle}" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>`})),i.createElement("div",null,i.createElement(ee,{icon:i.createElement(de,null),label:"Cancel",title:"Cancel",onClick:()=>{this.props.onCancel()}}))))}}var ze=n(10);class Be extends i.Component{constructor(e){super(e),this.state={template:null,description:"",name:"",templates:[]}}async componentDidMount(){const e=(await Object(ze.a)()).templates[this.props.templatesName],t=await async function(e){const t=await fetch(e);return JSON.parse(await t.text())}(e),n=new URL(e,location.href),i=[];for(const[e,r]of Object.entries(t)){const t=r.name||"",s=r.description||"",o=r.icon||"";i.push({name:t,description:s,icon:o,files:r.files,baseUrl:new URL(e+"/",n)})}this.setState({templates:i}),this.setTemplate(i[0])}async setTemplate(e){const t=await l.a.compileMarkdownToHtml(e.description);this.setState({template:e,description:t})}render(){return i.createElement(Te,{isOpen:this.props.isOpen,contentLabel:"Create New Project",className:"modal show-file-icons",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Create New Project"),i.createElement("div",null,i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:{width:200}},i.createElement(Re,{value:this.state.template,height:240,onSelect:e=>{this.setTemplate(e)}},this.state.templates.map(e=>i.createElement(Pe,{key:e.name,value:e,label:e.name,icon:e.icon})))),i.createElement("div",{style:{flex:1},className:"new-project-dialog-description"},i.createElement("div",{className:"md",dangerouslySetInnerHTML:{__html:this.state.description}})))),i.createElement("div",{style:{flex:1,padding:"8px"}}),i.createElement("div",null,i.createElement(ee,{icon:i.createElement(de,null),label:"Cancel",title:"Cancel",onClick:()=>{this.props.onCancel()}}),i.createElement(ee,{icon:i.createElement(le,null),label:"Create",title:"Create",isDisabled:!this.state.template,onClick:()=>this.props.onCreate&&this.props.onCreate(this.state.template)}))))}}class Ue extends i.Component{constructor(e){super(e),this.onChangeName=(e=>{this.setState({name:e.target.value})}),this.state={name:""}}nameError(){const e=this.props.directory;if(this.state.name){if(!/^[a-z0-9\.\-\_]+$/i.test(this.state.name))return"Illegal characters in directory name.";if(e&&b.getImmediateChild(e,this.state.name))return`Directory '${this.state.name}' already exists.`}return""}createButtonLabel(){return"Create"}render(){return i.createElement(Te,{isOpen:this.props.isOpen,contentLabel:"Create New Directory",className:"modal",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Create New Directory"),i.createElement("div",{style:{flex:1,padding:"8px"}},i.createElement(Me,{label:"Name:",error:this.nameError(),value:this.state.name,onChange:this.onChangeName})),i.createElement("div",null,i.createElement(ee,{icon:i.createElement(de,null),label:"Cancel",title:"Cancel",onClick:()=>{this.props.onCancel()}}),i.createElement(ee,{icon:i.createElement(le,null),label:this.createButtonLabel(),title:"Create New Directory",isDisabled:!this.state.name||!!this.nameError(),onClick:()=>{const e=new a.a(this.state.name);return this.props.onCreate&&this.props.onCreate(e)}}))))}}class He extends i.Component{constructor(){super(...arguments),this.onResizeBegin=(()=>{this.container.style.pointerEvents="none"}),this.onResizeEnd=(()=>{this.container.style.pointerEvents="auto"}),this.onSandboxRun=(e=>{this.run(e.project,e.src)})}setContainer(e){null!=e&&(this.container=e)}componentDidMount(){$.onResizeBegin.register(this.onResizeBegin),$.onResizeEnd.register(this.onResizeEnd),b.onSandboxRun.register(this.onSandboxRun)}componentWillUnmount(){$.onResizeBegin.unregister(this.onResizeBegin),$.onResizeEnd.unregister(this.onResizeEnd),b.onSandboxRun.unregister(this.onSandboxRun)}run(e,t){const n=document.createElement("iframe");n.className="sandbox",n.src=URL.createObjectURL(new Blob([t],{type:"text/html"})),this.container.firstChild&&this.container.removeChild(this.container.firstChild),this.container.appendChild(n);const i=n.contentWindow,r={logLn:S};i.console.log=(e=>(function(){r.logLn(Array.prototype.join.call(arguments)),e.apply(i.console,arguments)}))(i.console.log),i.console.info=(e=>(function(){r.logLn(Array.prototype.join.call(arguments),"info"),e.apply(i.console,arguments)}))(i.console.info),i.console.warn=(e=>(function(){r.logLn(Array.prototype.join.call(arguments),"warn"),e.apply(i.console,arguments)}))(i.console.warn),i.console.error=(e=>(function(){r.logLn(Array.prototype.join.call(arguments),"error"),e.apply(i.console,arguments)}))(i.console.error),i.fetch=(async(t,n)=>{const i=new URL(t,"http://example.org/src/main.html"),r=e.getFile(i.pathname.substr(1));if(r)return Promise.resolve(new Response(r.getData(),{status:200,statusText:"OK",headers:{"Content-Type":Object(a.o)(r.type)}}));const s=await fetch(t,n);return 404===s.status?Promise.reject(`Failed to fetch: ${s.url}`):Promise.resolve(s)}),i.getFileURL=(t=>{const n=e.getFile(t);if(!n)return void r.logLn(`Cannot find file ${t}`,"error");const i=new Blob([n.getData()],{type:Object(a.o)(n.type)});return window.URL.createObjectURL(i)});new Promise(e=>{n.onready=(()=>{e(i)})})}render(){return i.createElement("div",{className:"fill",ref:e=>this.setContainer(e)})}}class qe extends i.Component{constructor(e){super(e),this.contextViewService=new c.ContextViewService(document.documentElement,null,{trace:()=>{}}),this.contextMenuService=new c.ContextMenuService(document.documentElement,null,null,this.contextViewService)}componentDidMount(){this.ensureTree(),this.tree.model.setInput(b.getProject().getModel()),this.tree.model.onDidSelect(e=>{e.selection.length&&this.onSelectProblem(e.selection[0])}),b.onDidChangeProblems.register(()=>{this.tree.refresh(),this.tree.expandAll()}),b.onLoadProject.register(()=>{this.tree.model.setInput(b.getProject().getModel())})}componentWillReceiveProps(e){this.tree.refresh(),this.tree.expandAll()}setContainer(e){null!=e&&(this.container=e)}ensureTree(){this.container.lastChild&&this.container.removeChild(this.container.lastChild),this.tree=new c.Tree(this.container,{dataSource:{getId:function(e,t){return t.key},hasChildren:function(e,t){return!!(t instanceof a.a&&t.children.length)||t instanceof a.c&&t.problems.length>0},getChildren:function(e,t){if(t instanceof a.a&&t.children.length){const e=[];return t.forEachFile(t=>{t.problems.length&&e.push(t)},!1,!0),monaco.Promise.as(e)}return t instanceof a.c?monaco.Promise.as(t.problems):null},getParent:function(e,t){return t instanceof a.c?monaco.Promise.as(t.getProject()):monaco.Promise.as(t.file)}},renderer:{getHeight:function(e,t){return 24},getTemplateId:(e,t)=>t instanceof a.c?"file":"problem",renderTemplate:function(e,t,n){return"problem"===t?new V(n):new I(n)},renderElement:function(e,t,n,i){i.set(t)},disposeTemplate:function(e,t,n){n.dispose()}},controller:W(this)})}onSelectProblem(e){e instanceof a.c||D(e.file,o.Editor,!0)}render(){return i.createElement("div",{className:"fill",ref:e=>this.setContainer(e)})}}class $e extends i.Component{constructor(e){super(e),this.onOutputChanged=(()=>{this.updateOutputView()}),this.onDidChangeProblems=(()=>{this.updateOutputView()});const t=b.getOutput().getModel();this.outputView=new h(t),this.state={visible:"output",splits:[{min:128,value:512},{min:128,value:256}],problemCount:this.getProblemCount(),outputLineCount:this.getOutputLineCount()}}componentDidMount(){b.onOutputChanged.register(this.onOutputChanged),b.onDidChangeProblems.register(this.onDidChangeProblems)}componentWillUnmount(){b.onOutputChanged.unregister(this.onOutputChanged),b.onDidChangeProblems.unregister(this.onDidChangeProblems)}setOutputViewEditor(e){this.outputViewEditor=e}updateOutputView(){this.updateOutputViewTimeout||(this.updateOutputViewTimeout=window.setTimeout(()=>{this.updateOutputViewTimeout=null,this.setState({problemCount:this.getProblemCount(),outputLineCount:this.getOutputLineCount()})})),this.outputViewEditor&&this.outputViewEditor.revealLastLine()}createPane(){switch(this.state.visible){case"output":return i.createElement(K,{ref:e=>this.setOutputViewEditor(e),view:this.outputView,options:{renderIndentGuides:!1}});case"problems":return i.createElement(qe,null);default:return null}}getOutputLineCount(){return this.outputView.file.buffer.getLineCount()}getProblemCount(){let e=0;return b.getProject().getModel().forEachFile(t=>{e+=t.problems.length},!1,!0),e}render(){return i.createElement("div",{className:"fill"},i.createElement("div",{className:"tabs",style:{display:"flex"}},i.createElement("div",null,i.createElement(ee,{icon:i.createElement(he,null),title:"View Console",onClick:()=>this.props.onToggle&&this.props.onToggle()})),i.createElement("div",null,i.createElement(X,null,i.createElement(Y,{label:`Output (${this.state.outputLineCount})`,isActive:"output"===this.state.visible,onClick:()=>{this.setState({visible:"output"})}}),i.createElement(Y,{label:`Problems (${this.state.problemCount})`,isActive:"problems"===this.state.visible,onClick:()=>{this.setState({visible:"problems"})}})))),i.createElement("div",{style:{height:"calc(100% - 40px)"}},this.props.showSandbox?i.createElement($,{name:"editor/sandbox",orientation:q.Vertical,defaultSplit:{min:256},splits:this.state.splits,onChange:e=>{this.setState({splits:e}),Object(f.h)()}},this.createPane(),i.createElement(He,null)):this.createPane()))}}class Ge extends i.Component{constructor(e){super(e),this.onDidChangeStatus=(()=>{this.setState({hasStatus:b.hasStatus(),status:b.getStatus()})}),this.state={hasStatus:!1,status:""}}componentDidMount(){b.onDidChangeStatus.register(this.onDidChangeStatus)}componentWillUnmount(){b.onDidChangeStatus.unregister(this.onDidChangeStatus)}render(){let e="status-bar";return this.state.hasStatus&&(e+=" active"),i.createElement("div",{className:e},i.createElement("div",{className:"status-bar-item"},this.state.status))}}var Je,Ke=n(11);async function Xe(){A("Previewing Arc Project"),await R("publish",!1,_.a.Arc),P()}!function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Arc=2]="Arc"}(Je||(Je={}));class Ye extends i.Component{constructor(e){super(e),this.workspaceSplit=null,this.state={fiddle:e.fiddle,project:null,file:null,newFileDialogDirectory:null,editFileDialogFile:null,newProjectDialog:!e.fiddle,shareDialog:!1,workspaceSplits:[{min:200,max:400,value:200},{min:256}],controlCenterSplits:[{min:100},{min:40,value:256}],editorSplits:[],showProblems:!0,showSandbox:e.embeddingParams.type!==Je.Arc,uploadFileDialogDirectory:null,newDirectoryDialog:null,tabGroups:null,activeTabGroup:null,windowDimensions:Ye.getWindowDimensions(),hasStatus:!1,isContentModified:!1}}async initializeProject(){p.dispatch({type:y.INIT_STORE}),this.setState({project:b.getProject(),tabGroups:b.getTabGroups(),activeTabGroup:b.getActiveTabGroup(),hasStatus:b.hasStatus()}),this.bindAppStoreEvents(),this.state.fiddle&&this.loadProjectFromFiddle(this.state.fiddle)}static getWindowDimensions(){return`${window.innerWidth}x${window.innerHeight}@${window.devicePixelRatio}`}async loadProjectFromFiddle(e){const t=new a.g;A("Downloading Project");const n=await l.a.loadJSON(e);P(),n.success?(await l.a.loadFilesIntoProject(n.files,t),function(e){p.dispatch({type:y.LOAD_PROJECT,project:e})}(t),t.getFile("README.md")&&T([["README.md"]])):this.toastContainer&&this.toastContainer.showToast(i.createElement("span",null,"Project ",e," was not found."),"error")}bindAppStoreEvents(){b.onLoadProject.register(()=>{this.setState({project:b.getProject()}),R("project:load",!0,_.a.Setup)}),b.onDirtyFileUsed.register(e=>{this.logLn(`Changes in ${e.getPath()} were ignored, save your changes.`,"warn")}),b.onTabsChange.register(()=>{this.setState({tabGroups:b.getTabGroups(),activeTabGroup:b.getActiveTabGroup()}),Object(f.h)()}),b.onDidChangeStatus.register(()=>{this.setState({hasStatus:b.hasStatus()})}),b.onDidChangeIsContentModified.register(()=>{this.props.windowContext.promptWhenClosing=b.getIsContentModified(),this.setState({isContentModified:b.getIsContentModified()})})}async loadReleaseNotes(){const e=await fetch("notes/notes.md"),t=await e.text(),n=new a.c("Release Notes",a.d.Markdown);n.setData(t),D(n,u(n.type))}async loadHelp(){const e=await fetch("notes/help.md"),t=await e.text(),n=new a.c("Help",a.d.Markdown);n.setData(t),D(n,u(n.type))}publishArc(){return this.state.isContentModified?this.fork().then(Xe):Xe()}registerShortcuts(){De.bind("command+b",()=>{L()}),De.bind("command+enter",()=>{this.props.embeddingParams.type!==Je.Arc?N():this.publishArc()}),De.bind("command+alt+enter",()=>{this.props.embeddingParams.type!==Je.Arc?L().then(N):L().then(()=>this.publishArc())})}logLn(e,t=""){S(e,t)}componentWillMount(){this.initializeProject()}componentDidMount(){Object(f.h)(),this.registerShortcuts(),window.addEventListener("resize",()=>{this.setState({windowDimensions:Ye.getWindowDimensions()})},!1),this.props.embeddingParams.type===Je.Arc&&window.addEventListener("message",e=>{"object"==typeof e.data&&null!==e.data&&"arc/fork"===e.data.type&&this.fork()})}share(){this.setState({shareDialog:!0})}async update(){j(this.state.fiddle)}async fork(){A("Forking Project");const e=await j("");P();const t=window.location.search;if(this.state.fiddle)Object(f.a)(t.indexOf(this.state.fiddle)>=0),history.replaceState({},e,t.replace(this.state.fiddle,e));else{const n=t?t+"&":"?";history.pushState({},e,`${n}f=${e}`)}this.setState({fiddle:e}),this.props.embeddingParams.type===Je.Arc&&function(e){Object(Ke.b)(e)}(e)}async gist(e){A("Exporting Project");const t=e||this.state.project.getModel(),n=await l.a.exportToGist(t,this.state.fiddle);P(),n?(this.toastContainer&&this.toastContainer.showToast(i.createElement("span",null,'"Gist Created!" ',i.createElement("a",{href:n,target:"_blank",className:"toast-span"},"Open in new tab."))),console.log(`Gist created: ${n}`)):console.log("Failed!")}async download(){this.logLn("Downloading Project ...");const e=await Promise.all([n.e(1),n.e(3),n.e(4)]).then(n.bind(null,603)),t=this.state.project.getModel();await e.downloadProject(t,this.state.fiddle),this.logLn("Project Zip CREATED ")}toolbarButtonsAreDisabled(){return this.state.hasStatus}makeToolbarButtons(){const e=[i.createElement(ee,{key:"ViewWorkspace",icon:i.createElement(he,null),title:"View Project Workspace",onClick:()=>{const e=this.state.workspaceSplits,t=e[0],n=e[1];this.workspaceSplit?(Object.assign(t,this.workspaceSplit),this.workspaceSplit=null,delete n.value):(this.workspaceSplit=Object.assign({},t),t.max=t.min=0),this.setState({workspaceSplits:e})}})];return this.props.embeddingParams.type===Je.Default&&e.push(i.createElement(ee,{key:"EditInWebAssemblyStudio",icon:i.createElement(ae,null),label:"Edit in WebAssembly Studio",title:"Edit Project in WebAssembly Studio",isDisabled:!this.state.fiddle,href:`//webassembly.studio/?f=${this.state.fiddle}`,target:"wasm.studio",rel:"noopener noreferrer"})),this.props.embeddingParams.type===Je.None&&this.props.update&&e.push(i.createElement(ee,{key:"UpdateProject",icon:i.createElement(ae,null),label:"Update",title:"Update Project",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{this.update()}})),this.props.embeddingParams.type!==Je.None&&this.props.embeddingParams.type!==Je.Arc||e.push(i.createElement(ee,{key:"ForkProject",icon:i.createElement(te,null),label:"Fork",title:"Fork Project",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{this.fork()}})),this.props.embeddingParams.type===Je.None&&e.push(i.createElement(ee,{key:"CreateGist",icon:i.createElement(pe,null),label:"Create Gist",title:"Create GitHub Gist from Project",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{this.gist()}}),i.createElement(ee,{key:"Download",icon:i.createElement(ue,null),label:"Download",title:"Download Project",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{this.download()}}),i.createElement(ee,{key:"Share",icon:i.createElement(oe,null),label:"Share",title:this.state.fiddle?"Share Project":"Cannot share a project that has not been forked yet.",isDisabled:this.toolbarButtonsAreDisabled()||!this.state.fiddle,onClick:()=>{this.share()}})),e.push(i.createElement(ee,{key:"Build",icon:i.createElement(ne,null),label:"Build",title:"Build Project: CtrlCmd + B",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{L()}})),this.props.embeddingParams.type!==Je.Arc&&e.push(i.createElement(ee,{key:"Run",icon:i.createElement(ie,null),label:"Run",title:"Run Project: CtrlCmd + Enter",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{N()}}),i.createElement(ee,{key:"BuildAndRun",icon:i.createElement(re,null),label:"Build & Run",title:"Build & Run Project: CtrlCmd + Alt + Enter",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{L().then(N)}})),this.props.embeddingParams.type===Je.Arc&&(e.push(i.createElement(ee,{key:"Preview",icon:i.createElement(ie,null),label:"Preview",title:"Preview Project: CtrlCmd + Enter",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{this.publishArc()}})),e.push(i.createElement(ee,{key:"BuildAndPreview",icon:i.createElement(ie,null),label:"Build & Preview",title:"Build & Preview Project: CtrlCmd + Alt + Enter",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{L().then(()=>this.publishArc())}}))),this.props.embeddingParams.type===Je.None&&e.push(i.createElement(ee,{key:"GithubIssues",icon:i.createElement(fe,null),label:"GitHub Issues",title:"GitHub Issues",customClassName:"issue",href:"https://github.com/wasdk/WebAssemblyStudio",target:"_blank",rel:"noopener noreferrer"}),i.createElement(ee,{key:"HelpAndPrivacy",icon:i.createElement(me,null),label:"Help & Privacy",title:"Help & Privacy",customClassName:"help",onClick:()=>{this.loadHelp()}})),e}render(){const e=i.createElement($,{name:"Editors",orientation:q.Vertical,defaultSplit:{min:128},splits:this.state.editorSplits,onChange:e=>{this.setState({editorSplits:e}),Object(f.h)()}},(()=>{const e=this.state.tabGroups,t=this.state.activeTabGroup;return 0===e.length?i.createElement("div",null,"No Groups"):e.map((e,n)=>i.createElement(Se,{key:`editorPane${n}`,views:e.views.slice(0),view:e.currentView,preview:e.preview,onSplitViews:()=>void p.dispatch({type:y.SPLIT_GROUP}),hasFocus:t===e,onFocus:()=>{M(e)},onChangeViewType:(e,t)=>(function(e,t){p.dispatch({type:y.SET_VIEW_TYPE,view:e,viewType:t})})(e,t),onClickView:t=>{b.getActiveTabGroup().currentView!==t&&Object(f.k)(),M(e),O(t)},onDoubleClickView:t=>{M(e),O(t,!1)},onClose:t=>{M(e),function(e){p.dispatch({type:y.CLOSE_VIEW,view:e})}(t)}}))})());return i.createElement("div",{className:"fill"},i.createElement(Ve,{ref:e=>this.toastContainer=e}),this.state.newProjectDialog&&i.createElement(Be,{isOpen:!0,templatesName:this.props.embeddingParams.templatesName,onCancel:()=>{this.setState({newProjectDialog:null})},onCreate:async e=>{await async function(e){const t=new a.g;await l.a.loadFilesIntoProject(e.files,t,e.baseUrl),p.dispatch({type:y.LOAD_PROJECT,project:t}),t.getFile("README.md")&&T([["README.md"]])}(e),this.setState({newProjectDialog:!1})}}),this.state.newFileDialogDirectory&&i.createElement(Ne,{isOpen:!0,directory:this.state.newFileDialogDirectory,onCancel:()=>{this.setState({newFileDialogDirectory:null})},onCreate:e=>{x(e,this.state.newFileDialogDirectory.getModel()),this.setState({newFileDialogDirectory:null})}}),this.state.editFileDialogFile&&i.createElement(Le,{isOpen:!0,file:this.state.editFileDialogFile,onCancel:()=>{this.setState({editFileDialogFile:null})},onChange:(e,t)=>{k(this.state.editFileDialogFile.getModel(),e,t),this.setState({editFileDialogFile:null})}}),this.state.shareDialog&&i.createElement(We,{isOpen:!0,fiddle:this.state.fiddle,onCancel:()=>{this.setState({shareDialog:!1})}}),this.state.uploadFileDialogDirectory&&i.createElement(Fe,{isOpen:!0,directory:this.state.uploadFileDialogDirectory,onCancel:()=>{this.setState({uploadFileDialogDirectory:null})},onUpload:e=>{e.map(e=>{x(e,this.state.uploadFileDialogDirectory.getModel())}),this.setState({uploadFileDialogDirectory:null})}}),this.state.newDirectoryDialog&&i.createElement(Ue,{isOpen:!0,directory:this.state.newDirectoryDialog,onCancel:()=>{this.setState({newDirectoryDialog:null})},onCreate:e=>{x(e,this.state.newDirectoryDialog.getModel()),this.setState({newDirectoryDialog:null})}}),i.createElement("div",{style:{height:"calc(100% - 22px)"}},i.createElement($,{name:"Workspace",orientation:q.Vertical,splits:this.state.workspaceSplits,onChange:e=>{this.setState({workspaceSplits:e}),Object(f.h)()}},i.createElement(G,{project:this.state.project,file:this.state.file,onNewFile:e=>{this.setState({newFileDialogDirectory:a.e.getRef(e)})},onEditFile:e=>{this.setState({editFileDialogFile:a.e.getRef(e)})},onDeleteFile:e=>{let t="";t=e instanceof a.a?`Are you sure you want to delete '${e.name}' and its contents?`:`Are you sure you want to delete '${e.name}'?`,confirm(t)&&(function(e){p.dispatch({type:y.CLOSE_TABS,file:e})}(e),function(e){p.dispatch({type:y.DELETE_FILE,file:e})}(e))},onClickFile:e=>{Object(f.k)(),D(e,u(e.type))},onDoubleClickFile:e=>{e instanceof a.a||D(e,u(e.type),!1)},onMoveFile:(e,t)=>{x(e,t)},onUploadFile:e=>{this.setState({uploadFileDialogDirectory:a.e.getRef(e)})},onNewDirectory:e=>{this.setState({newDirectoryDialog:a.e.getRef(e)})},onCreateGist:e=>{this.gist(e)}}),i.createElement("div",{className:"fill"},i.createElement("div",{style:{height:"40px"}},i.createElement(Oe,null,this.makeToolbarButtons())),i.createElement("div",{style:{height:"calc(100% - 40px)"}},i.createElement($,{name:"Console",orientation:q.Horizontal,splits:this.state.controlCenterSplits,onChange:e=>{this.setState({controlCenterSplits:e}),Object(f.h)()}},e,i.createElement($e,{showSandbox:this.state.showSandbox,onToggle:()=>{const e=this.state.controlCenterSplits;e[1].value=40===e[1].value?256:40,this.setState({controlCenterSplits:e}),Object(f.h)()}})))))),i.createElement(Ge,null),i.createElement("div",{id:"task-runner-content"}))}}class Qe extends i.Component{constructor(e){super(e)}render(){return i.createElement(Te,{isOpen:!0,contentLabel:"Browser Not Supported",className:"modal",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Browser Version Not Supported"),i.createElement("div",{className:"browser-not-supported-description"},i.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/WebAssembly"},"WebAssembly")," is not available in your browser. Please try using the latest version of Edge, Safari, Chrome or Firefox.")))}}let Ze=null;function et(){const e=monaco.languages.CompletionItemKind.Keyword;return Ze||(Ze=[{label:"module",documentation:"",kind:e,insertText:"module"},{label:"func",documentation:"function declaration",kind:e,insertText:"func"},{label:"param",documentation:"parameter",kind:e,insertText:{value:"param ${1:identifier} ${2:type}"}},{label:"i32",documentation:"32-bit integer",kind:e,insertText:"i32"},{label:"i64",documentation:"64-bit integer",kind:e,insertText:"i64"},{label:"f32",documentation:"32-bit floating point",kind:e,insertText:"f32"},{label:"f64",documentation:"64-bit floating point",kind:e,insertText:"f64"},{label:"anyfunc",documentation:"function reference",kind:e,insertText:"anyfunc"},{label:"i32.load8_s",documentation:"load 1 byte and sign-extend i8 to i32",kind:e,insertText:"i32.load8_s"},{label:"i32.load8_u",documentation:"load 1 byte and zero-extend i8 to i32",kind:e,insertText:"i32.load8_u"},{label:"i32.load16_s",documentation:"load 2 bytes and sign-extend i16 to i32",kind:e,insertText:"i32.load16_s"},{label:"i32.load16_u",documentation:"load 2 bytes and zero-extend i16 to i32",kind:e,insertText:"i32.load16_u"},{label:"i32.load",documentation:"load 4 bytes as i32",kind:e,insertText:"i32.load"},{label:"i64.load8_s",documentation:"load 1 byte and sign-extend i8 to i64",kind:e,insertText:"i64.load8_s"},{label:"i64.load8_u",documentation:"load 1 byte and zero-extend i8 to i64",kind:e,insertText:"i64.load8_u"},{label:"i64.load16_s",documentation:"load 2 bytes and sign-extend i16 to i64",kind:e,insertText:"i64.load16_s"},{label:"i64.load16_u",documentation:"load 2 bytes and zero-extend i16 to i64",kind:e,insertText:"i64.load16_u"},{label:"i64.load32_s",documentation:"load 4 bytes and sign-extend i32 to i64",kind:e,insertText:"i64.load32_s"},{label:"i64.load32_u",documentation:"load 4 bytes and zero-extend i32 to i64",kind:e,insertText:"i64.load32_u"},{label:"i64.load",documentation:"load 8 bytes as i64",kind:e,insertText:"i64.load"},{label:"f32.load",documentation:"load 4 bytes as f32",kind:e,insertText:"f32.load"},{label:"f64.load",documentation:"load 8 bytes as f64",kind:e,insertText:"f64.load"},{label:"i32.store8",documentation:"wrap i32 to i8 and store 1 byte",kind:e,insertText:"i32.store8"},{label:"i32.store16",documentation:"wrap i32 to i16 and store 2 bytes",kind:e,insertText:"i32.store16"},{label:"i32.store",documentation:"(no conversion) store 4 bytes",kind:e,insertText:"i32.store"},{label:"i64.store8",documentation:"wrap i64 to i8 and store 1 byte",kind:e,insertText:"i64.store8"},{label:"i64.store16",documentation:"wrap i64 to i16 and store 2 bytes",kind:e,insertText:"i64.store16"},{label:"i64.store32",documentation:"wrap i64 to i32 and store 4 bytes",kind:e,insertText:"i64.store32"},{label:"i64.store",documentation:"(no conversion) store 8 bytes",kind:e,insertText:"i64.store"},{label:"f32.store",documentation:"(no conversion) store 4 bytes",kind:e,insertText:"f32.store"},{label:"f64.store",documentation:"(no conversion) store 8 bytes",kind:e,insertText:"f64.store"},{label:"get_local",documentation:"read the current value of a local variable",kind:e,insertText:"get_local"},{label:"set_local",documentation:"set the current value of a local variable",kind:e,insertText:"set_local"},{label:"tee_local",documentation:"like `set_local`, but also returns the set value",kind:e,insertText:"tee_local"},{label:"get_global",documentation:"get the current value of a global variable",kind:e,insertText:"get_global"},{label:"set_global",documentation:"set the current value of a global variable",kind:e,insertText:"set_global"},{label:"nop",documentation:"no operation, no effect",kind:e,insertText:"nop"},{label:"block",documentation:"the beginning of a block construct, a sequence of instructions with a label at the end",kind:e,insertText:"block"},{label:"loop",documentation:"a block with a label at the beginning which may be used to form loops",kind:e,insertText:"loop"},{label:"if",documentation:"the beginning of an if construct with an implicit *then* block",kind:e,insertText:"if"},{label:"else",documentation:"marks the else block of an if",kind:e,insertText:"else"},{label:"br",documentation:"branch to a given label in an enclosing construct",kind:e,insertText:"br"},{label:"br_if",documentation:"conditionally branch to a given label in an enclosing construct",kind:e,insertText:"br_if"},{label:"br_table",documentation:"a jump table which jumps to a label in an enclosing construct",kind:e,insertText:"br_table"},{label:"return",documentation:"return zero or more values from this function",kind:e,insertText:"return"},{label:"end",documentation:"an instruction that marks the end of a block, loop, if, or function",kind:e,insertText:"end"},{label:"call",documentation:"call function directly",kind:e,insertText:"call"},{label:"call_indirect",documentation:"call function indirectly",kind:e,insertText:"call_indirect"},{label:"i64.const",documentation:"produce the value of an i64 immediate",kind:e,insertText:{value:"i64.const ${1:constant}"}},{label:"i32.const",documentation:"produce the value of an i32 immediate",kind:e,insertText:{value:"i32.const ${1:constant}"}},{label:"f32.const",documentation:"produce the value of an f32 immediate",kind:e,insertText:{value:"f32.const ${1:constant}"}},{label:"f64.const",documentation:"produce the value of an f64 immediate",kind:e,insertText:{value:"f64.const ${1:constant}"}},{label:"i32.add",documentation:"sign-agnostic addition",kind:e,insertText:"i32.add"},{label:"i32.sub",documentation:"sign-agnostic subtraction",kind:e,insertText:"i32.sub"},{label:"i32.mul",documentation:"sign-agnostic multiplication (lower 32-bits)",kind:e,insertText:"i32.mul"},{label:"i32.div_s",documentation:"signed division (result is truncated toward zero)",kind:e,insertText:"i32.div_s"},{label:"i32.div_u",documentation:"unsigned division (result is [floored](https://en.wikipedia.org/wiki/Floor_and_ceiling_functions))",kind:e,insertText:"i32.div_u"},{label:"i32.rem_s",documentation:"signed remainder (result has the sign of the dividend)",kind:e,insertText:"i32.rem_s"},{label:"i32.rem_u",documentation:"unsigned remainder",kind:e,insertText:"i32.rem_u"},{label:"i32.and",documentation:"sign-agnostic bitwise and",kind:e,insertText:"i32.and"},{label:"i32.or",documentation:"sign-agnostic bitwise inclusive or",kind:e,insertText:"i32.or"},{label:"i32.xor",documentation:"sign-agnostic bitwise exclusive or",kind:e,insertText:"i32.xor"},{label:"i32.shl",documentation:"sign-agnostic shift left",kind:e,insertText:"i32.shl"},{label:"i32.shr_u",documentation:"zero-replicating (logical) shift right",kind:e,insertText:"i32.shr_u"},{label:"i32.shr_s",documentation:"sign-replicating (arithmetic) shift right",kind:e,insertText:"i32.shr_s"},{label:"i32.rotl",documentation:"sign-agnostic rotate left",kind:e,insertText:"i32.rotl"},{label:"i32.rotr",documentation:"sign-agnostic rotate right",kind:e,insertText:"i32.rotr"},{label:"i32.eq",documentation:"sign-agnostic compare equal",kind:e,insertText:"i32.eq"},{label:"i32.ne",documentation:"sign-agnostic compare unequal",kind:e,insertText:"i32.ne"},{label:"i32.lt_s",documentation:"signed less than",kind:e,insertText:"i32.lt_s"},{label:"i32.le_s",documentation:"signed less than or equal",kind:e,insertText:"i32.le_s"},{label:"i32.lt_u",documentation:"unsigned less than",kind:e,insertText:"i32.lt_u"},{label:"i32.le_u",documentation:"unsigned less than or equal",kind:e,insertText:"i32.le_u"},{label:"i32.gt_s",documentation:"signed greater than",kind:e,insertText:"i32.gt_s"},{label:"i32.ge_s",documentation:"signed greater than or equal",kind:e,insertText:"i32.ge_s"},{label:"i32.gt_u",documentation:"unsigned greater than",kind:e,insertText:"i32.gt_u"},{label:"i32.ge_u",documentation:"unsigned greater than or equal",kind:e,insertText:"i32.ge_u"},{label:"i32.clz",documentation:"sign-agnostic count leading zero bits (All zero bits are considered leading if the value is zero)",kind:e,insertText:"i32.clz"},{label:"i32.ctz",documentation:"sign-agnostic count trailing zero bits (All zero bits are considered trailing if the value is zero)",kind:e,insertText:"i32.ctz"},{label:"i32.popcnt",documentation:"sign-agnostic count number of one bits",kind:e,insertText:"i32.popcnt"},{label:"i32.eqz",documentation:"compare equal to zero (return 1 if operand is zero, 0 otherwise)",kind:e,insertText:"i32.eqz"},{label:"f32.add",documentation:"addition",kind:e,insertText:"f32.add"},{label:"f32.sub",documentation:"subtraction",kind:e,insertText:"f32.sub"},{label:"f32.mul",documentation:"multiplication",kind:e,insertText:"f32.mul"},{label:"f32.div",documentation:"division",kind:e,insertText:"f32.div"},{label:"f32.abs",documentation:"absolute value",kind:e,insertText:"f32.abs"},{label:"f32.neg",documentation:"negation",kind:e,insertText:"f32.neg"},{label:"f32.copysign",documentation:"copysign",kind:e,insertText:"f32.copysign"},{label:"f32.ceil",documentation:"ceiling operator",kind:e,insertText:"f32.ceil"},{label:"f32.floor",documentation:"floor operator",kind:e,insertText:"f32.floor"},{label:"f32.trunc",documentation:"round to nearest integer towards zero",kind:e,insertText:"f32.trunc"},{label:"f32.nearest",documentation:"round to nearest integer, ties to even",kind:e,insertText:"f32.nearest"},{label:"f32.eq",documentation:"compare ordered and equal",kind:e,insertText:"f32.eq"},{label:"f32.ne",documentation:"compare unordered or unequal",kind:e,insertText:"f32.ne"},{label:"f32.lt",documentation:"compare ordered and less than",kind:e,insertText:"f32.lt"},{label:"f32.le",documentation:"compare ordered and less than or equal",kind:e,insertText:"f32.le"},{label:"f32.gt",documentation:"compare ordered and greater than",kind:e,insertText:"f32.gt"},{label:"f32.ge",documentation:"compare ordered and greater than or equal",kind:e,insertText:"f32.ge"},{label:"f32.sqrt",documentation:"square root",kind:e,insertText:"f32.sqrt"},{label:"f32.min",documentation:"minimum (binary operator); if either operand is NaN, returns NaN",kind:e,insertText:"f32.min"},{label:"f32.max",documentation:"maximum (binary operator); if either operand is NaN, returns NaN",kind:e,insertText:"f32.max"},{label:"f64.add",documentation:"addition",kind:e,insertText:"f64.add"},{label:"f64.sub",documentation:"subtraction",kind:e,insertText:"f64.sub"},{label:"f64.mul",documentation:"multiplication",kind:e,insertText:"f64.mul"},{label:"f64.div",documentation:"division",kind:e,insertText:"f64.div"},{label:"f64.abs",documentation:"absolute value",kind:e,insertText:"f64.abs"},{label:"f64.neg",documentation:"negation",kind:e,insertText:"f64.neg"},{label:"f64.copysign",documentation:"copysign",kind:e,insertText:"f64.copysign"},{label:"f64.ceil",documentation:"ceiling operator",kind:e,insertText:"f64.ceil"},{label:"f64.floor",documentation:"floor operator",kind:e,insertText:"f64.floor"},{label:"f64.trunc",documentation:"round to nearest integer towards zero",kind:e,insertText:"f64.trunc"},{label:"f64.nearest",documentation:"round to nearest integer, ties to even",kind:e,insertText:"f64.nearest"},{label:"f64.eq",documentation:"compare ordered and equal",kind:e,insertText:"f64.eq"},{label:"f64.ne",documentation:"compare unordered or unequal",kind:e,insertText:"f64.ne"},{label:"f64.lt",documentation:"compare ordered and less than",kind:e,insertText:"f64.lt"},{label:"f64.le",documentation:"compare ordered and less than or equal",kind:e,insertText:"f64.le"},{label:"f64.gt",documentation:"compare ordered and greater than",kind:e,insertText:"f64.gt"},{label:"f64.ge",documentation:"compare ordered and greater than or equal",kind:e,insertText:"f64.ge"},{label:"f64.sqrt",documentation:"square root",kind:e,insertText:"f64.sqrt"},{label:"f64.min",documentation:"minimum (binary operator); if either operand is NaN, returns NaN",kind:e,insertText:"f64.min"},{label:"f64.max",documentation:"maximum (binary operator); if either operand is NaN, returns NaN",kind:e,insertText:"f64.max"},{label:"i32.wrap/i64",documentation:"wrap a 64-bit integer to a 32-bit integer",kind:e,insertText:"i32.wrap/i64"},{label:"i32.trunc_s/f32",documentation:"truncate a 32-bit float to a signed 32-bit integer",kind:e,insertText:"i32.trunc_s/f32"},{label:"i32.trunc_s/f64",documentation:"truncate a 64-bit float to a signed 32-bit integer",kind:e,insertText:"i32.trunc_s/f64"},{label:"i32.trunc_u/f32",documentation:"truncate a 32-bit float to an unsigned 32-bit integer",kind:e,insertText:"i32.trunc_u/f32"},{label:"i32.trunc_u/f64",documentation:"truncate a 64-bit float to an unsigned 32-bit integer",kind:e,insertText:"i32.trunc_u/f64"},{label:"i32.reinterpret/f32",documentation:"reinterpret the bits of a 32-bit float as a 32-bit integer",kind:e,insertText:"i32.reinterpret/f32"},{label:"i64.extend_s/i32",documentation:"extend a signed 32-bit integer to a 64-bit integer",kind:e,insertText:"i64.extend_s/i32"},{label:"i64.extend_u/i32",documentation:"extend an unsigned 32-bit integer to a 64-bit integer",kind:e,insertText:"i64.extend_u/i32"},{label:"i64.trunc_s/f32",documentation:"truncate a 32-bit float to a signed 64-bit integer",kind:e,insertText:"i64.trunc_s/f32"},{label:"i64.trunc_s/f64",documentation:"truncate a 64-bit float to a signed 64-bit integer",kind:e,insertText:"i64.trunc_s/f64"},{label:"i64.trunc_u/f32",documentation:"truncate a 32-bit float to an unsigned 64-bit integer",kind:e,insertText:"i64.trunc_u/f32"},{label:"i64.trunc_u/f64",documentation:"truncate a 64-bit float to an unsigned 64-bit integer",kind:e,insertText:"i64.trunc_u/f64"},{label:"i64.reinterpret/f64",documentation:"reinterpret the bits of a 64-bit float as a 64-bit integer",kind:e,insertText:"i64.reinterpret/f64"},{label:"f32.demote/f64",documentation:"demote a 64-bit float to a 32-bit float",kind:e,insertText:"f32.demote/f64"},{label:"f32.convert_s/i32",documentation:"convert a signed 32-bit integer to a 32-bit float",kind:e,insertText:"f32.convert_s/i32"},{label:"f32.convert_s/i64",documentation:"convert a signed 64-bit integer to a 32-bit float",kind:e,insertText:"f32.convert_s/i64"},{label:"f32.convert_u/i32",documentation:"convert an unsigned 32-bit integer to a 32-bit float",kind:e,insertText:"f32.convert_u/i32"},{label:"f32.convert_u/i64",documentation:"convert an unsigned 64-bit integer to a 32-bit float",kind:e,insertText:"f32.convert_u/i64"},{label:"f32.reinterpret/i32",documentation:"reinterpret the bits of a 32-bit integer as a 32-bit float",kind:e,insertText:"f32.reinterpret/i32"},{label:"f64.promote/f32",documentation:"promote a 32-bit float to a 64-bit float",kind:e,insertText:"f64.promote/f32"},{label:"f64.convert_s/i32",documentation:"convert a signed 32-bit integer to a 64-bit float",kind:e,insertText:"f64.convert_s/i32"},{label:"f64.convert_s/i64",documentation:"convert a signed 64-bit integer to a 64-bit float",kind:e,insertText:"f64.convert_s/i64"},{label:"f64.convert_u/i32",documentation:"convert an unsigned 32-bit integer to a 64-bit float",kind:e,insertText:"f64.convert_u/i32"},{label:"f64.convert_u/i64",documentation:"convert an unsigned 64-bit integer to a 64-bit float",kind:e,insertText:"f64.convert_u/i64"},{label:"f64.reinterpret/i64",documentation:"reinterpret the bits of a 64-bit integer as a 64-bit float",kind:e,insertText:"f64.reinterpret/i64"},{label:"current_memory",documentation:"current memory size in 64k pages",kind:e,insertText:"current_memory"},{label:"grow_memory",documentation:"grow memory size by the specified amount of 64k pages",kind:e,insertText:"grow_memory"}])}const tt={MonarchDefinitions:{keywords:["module","table","memory","export","import","func","result","offset","anyfunc","type","data","start","element","global","local","mut","param","result","i32.load8_s","i32.load8_u","i32.load16_s","i32.load16_u","i32.load","i64.load8_s","i64.load8_u","i64.load16_s","i64.load16_u","i64.load32_s","i64.load32_u","i64.load","f32.load","f64.load","i32.store8","i32.store16","i32.store","i64.store8","i64.store16","i64.store32","i64.store","f32.store","f64.store","i32.const","i64.const","f32.const","f64.const","i32.add","i32.sub","i32.mul","i32.div_s","i32.div_u","i32.rem_s","i32.rem_u","i32.and","i32.or","i32.xor","i32.shl","i32.shr_u","i32.shr_s","i32.rotl","i32.rotr","i32.eq","i32.ne","i32.lt_s","i32.le_s","i32.lt_u","i32.le_u","i32.gt_s","i32.ge_s","i32.gt_u","i32.ge_u","i32.clz","i32.ctz","i32.popcnt","i32.eqz","f32.add","f32.sub","f32.mul","f32.div","f32.abs","f32.neg","f32.copysign","f32.ceil","f32.floor","f32.trunc","f32.nearest","f32.eq","f32.ne","f32.lt","f32.le","f32.gt","f32.ge","f32.sqrt","f32.min","f32.max","f64.add","f64.sub","f64.mul","f64.div","f64.abs","f64.neg","f64.copysign","f64.ceil","f64.floor","f64.trunc","f64.nearest","f64.eq","f64.ne","f64.lt","f64.le","f64.gt","f64.ge","f64.sqrt","f64.min","f64.max","i32.wrap/i64","i32.trunc_s/f32","i32.trunc_s/f64","i32.trunc_u/f32","i32.trunc_u/f64","i32.reinterpret/f32","i64.extend_s/i32","i64.extend_u/i32","i64.trunc_s/f32","i64.trunc_s/f64","i64.trunc_u/f32","i64.trunc_u/f64","i64.reinterpret/f64","f32.demote/f64","f32.convert_s/i32","f32.convert_s/i64","f32.convert_u/i32","f32.convert_u/i64","f32.reinterpret/i32","f64.promote/f32","f64.convert_s/i32","f64.convert_s/i64","f64.convert_u/i32","f64.convert_u/i64","f64.reinterpret/i64","get_local","set_local","tee_local","get_global","set_global","current_memory","grow_memory"],typeKeywords:["i32","i64","f32","f64","anyfunc"],operators:[],brackets:[["(",")","bracket.parenthesis"],["{","}","bracket.curly"],["[","]","bracket.square"]],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$\.]*/,{cases:{"@keywords":"keyword","@typeKeywords":"type","@default":"type.identifier"}}],[/\d+/,"number"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/[{}()\[\]]/,"@brackets"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}},LanguageConfiguration:{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}]},CompletionItemProvider:{provideCompletionItems:function(e,t){return et()}},HoverProvider:{provideHover:function(e,t){const n=e.getLineContent(t.lineNumber),{index:i,word:r}=function(e,t){const n=e.slice(0,t+1).search(/[A-Za-z0-9_\.\/]+$/),i=e.slice(t).search(/[^A-Za-z0-9_\.\/]/);return i<0?{index:n,word:e.slice(n)}:{index:n,word:e.slice(n,i+t)}}(n,t.column-1);if(!r)return;const s=et().find(e=>e.label===r);return s?{range:new monaco.Range(t.lineNumber,i+1,t.lineNumber,i+1+r.length),contents:["**DETAILS**",{language:"html",value:s.documentation}]}:void 0}}},nt={MonarchTokensProvider:{tokenizer:{root:[[/\[error.*/,"custom-error"],[/\[warn.*/,"custom-warn"],[/\[notice.*/,"custom-notice"],[/\[info.*/,"custom-info"]]}}};let it=null;const rt={MonarchDefinitions:{defaultToken:"invalid",keywords:["abstract","alignof","as","become","box","break","const","continue","crate","do","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","offsetof","override","priv","proc","pub","pure","ref","return","Self","self","sizeof","static","struct","super","trait","true","type","typeof","unsafe","unsized","use","virtual","where","while","yield","macro_rules","block","expr","ident","item","pat","path","stmt","meta","tt","ty"],typeKeywords:["array","bool","char","f32","f64","i16","i32","i64","i8","isize","pointer","slice","str","tuple","u16","u32","u64","u8","usize","Vec","String"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/^%]+/,escapes:/\\(?:[abfnrtv\\""]|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@typeKeywords":"keyword.type","@default":"identifier"}}],[/[A-Z][\w$]*/,"type.identifier"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/#!?\[[^]*\]/,"annotation"],[/#!?.*$/,"annotation.invalid"],[/\d*\.\d+([eE][\-+]?\d+)?[fFdD]?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F][Ll]?/,"number.hex"],[/0[0-7_]*[0-7][Ll]?/,"number.octal"],[/0[bB][0-1_]*[0-1][Ll]?/,"number.binary"],[/\d+[lL]?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/"[^\\"]"/,"string"],[/(")(@escapes)(")/,["string","string.escape","string"]],[/"/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],[/\/\*/,"comment.invalid"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}},LanguageConfiguration:{comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}]},CompletionItemProvider:{provideCompletionItems:(e,t)=>(monaco.languages.CompletionItemKind.Keyword,it||(it=[]))},HoverProvider:{provideHover:(e,t)=>({range:new monaco.Range(1,1,e.getLineCount(),e.getLineMaxColumn(e.getLineCount())),contents:["**DETAILS**",{language:"html",value:"TODO"}]})}};let st=null;const ot={MonarchDefinitions:{keywords:["function","jump"],typeKeywords:["i32","i64","f32","f64"],operators:[],symbols:/[=><~&|+\-*\/%@#]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$\.]*/,{cases:{"@keywords":"keyword","@typeKeywords":"type","@default":"type.identifier"}}],[/\d+/,"number"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/[{}()\[\]]/,"@brackets"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/;.*$/,"comment"]]}},LanguageConfiguration:{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}]},CompletionItemProvider:{provideCompletionItems:function(e,t){return monaco.languages.CompletionItemKind.Keyword,st||(st=[])}},HoverProvider:{provideHover:function(e,t){return{range:new monaco.Range(1,1,e.getLineCount(),e.getLineMaxColumn(e.getLineCount())),contents:["**DETAILS**",{language:"html",value:"TODO"}]}}}};let at=null;const lt={MonarchDefinitions:{defaultToken:"invalid",ignoreCase:!0,keywords:["qword","ptr"],typeKeywords:["i32","i64","f32","f64"],ops:["add","sub","mov","jmp","ret","int3","nop","cmp"],registers:["R8","R9","R10","R11","R12","R13","R14","R15","CS","DS","ES","FS","GS","SS","RAX","EAX","RBX","EBX","RCX","ECX","RDX","EDX","RCX","RIP","EIP","IP","RSP","ESP","SP","RSI","ESI","SI","RDI","EDI","DI","RFLAGS","EFLAGS","FLAGS"],escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$\.]*/,{cases:{"@ops":"keyword","@registers":"type","@keywords":"keyword","@typeKeywords":"keyword.type","@default":"identifier"}}],{include:"@whitespace"},[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/[{}()\[\]]/,"@brackets"]],comment:[[/;.*/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/;.*$/,"comment"]]}},LanguageConfiguration:{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}]},CompletionItemProvider:{provideCompletionItems:function(e,t){return monaco.languages.CompletionItemKind.Keyword,at||(at=[])}},HoverProvider:{provideHover:function(e,t){return{range:new monaco.Range(1,1,e.getLineCount(),e.getLineMaxColumn(e.getLineCount())),contents:["**DETAILS**",{language:"html",value:"TODO"}]}}}};var ct=n(8),ut=n(23);class dt{static init(){dt.isRunningInProduction()&&ct.config(ut.sentryDNS).install()}static captureException(e,t){dt.isRunningInProduction()&&ct.captureException(e,t)}static captureMessage(e,t){dt.isRunningInProduction()&&ct.captureMessage(e,t)}static getLastEventId(){return ct.lastEventId()}static isRunningInProduction(){return"webassembly.studio"===window.location.hostname}}class ht extends i.Component{constructor(e){super(e),this.state={error:null,info:null}}componentDidCatch(e,t){this.setState({error:e,info:t}),dt.captureException(e,{extra:t})}getNewIssueUrl(){return`https://github.com/wasdk/WebAssemblyStudio/issues/new?body=Error%20ID:%20${dt.getLastEventId()}`}getStackTrace(){return this.state.info.componentStack.split("\n").map((e,t)=>i.createElement("span",{key:`stacktrace-line-${t}`,className:"error-dialog-stacktrace-line"},e))}render(){return this.state.error?i.createElement(Te,{isOpen:!0,contentLabel:"An error occured",className:"modal",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"An error occured"),i.createElement("div",{className:"error-dialog-description"},i.createElement("p",null,"An error occured in WebAssembly Studio. The error has been logged and will be investigated as soon as possible. Please open an issue on Github for further support."),i.createElement("div",{className:"error-dialog-stacktrace"},i.createElement("span",{className:"error-dialog-stacktrace-title"},"Error: ",this.state.error.message),this.getStackTrace()),i.createElement("span",{className:"error-dialog-error-id"},"Error ID: ",dt.getLastEventId())),i.createElement("div",null,i.createElement(ee,{icon:i.createElement(we,null),label:"Reload",title:"Reload",href:"https://webassembly.studio/"}),i.createElement(ee,{icon:i.createElement(fe,null),label:"Open Issue on Github",title:"Open Issue on Github",href:this.getNewIssueUrl(),target:"_blank",rel:"noopener noreferrer"})))):this.props.children}}function pt(e){let t=window.location.search.substring(1);(t=t.replace(/\/$/,"")).split("&").forEach(function(t){const n=t.split("=");2===n.length?e(n[0],decodeURIComponent(n[1])):e(n[0],!0)})}function ft(){const e={};return pt((t,n)=>{e[t]=n}),e}n.d(t,"forEachUrlParameter",function(){return pt}),n.d(t,"getUrlParameters",function(){return ft}),n.d(t,"appWindowContext",function(){return mt}),n.d(t,"unloadPageHandler",function(){return gt}),n.d(t,"getEmbeddingParams",function(){return bt}),n.d(t,"init",function(){return vt});const mt={promptWhenClosing:!1};function gt(e){mt.promptWhenClosing?e.returnValue="Project data is not saved.":window.removeEventListener("beforeunload",gt,!1)}function bt(e){let t;switch(e.embedding){case"default":t=Je.Default;break;case"arc_website":t=Je.Arc;break;default:t=!0===e.embed||!!parseInt(e.embed,10)?Je.Default:Je.None}return{type:t,templatesName:"arc_website"===e.embedding?"arc":"default"}}async function vt(e="production"){dt.init(),window.addEventListener("resize",f.h,!1),window.addEventListener("beforeunload",gt,!1);const t=ft(),s=!0===t.update||!!parseInt(t.update,10),o=t.fiddle||t.f,a=bt(t);try{await c.initialize(),await async function(){monaco.editor.defineTheme("fiddle-theme",{base:"vs-dark",inherit:!0,rules:[{token:"custom-info",foreground:"d4d4d4"},{token:"custom-warn",foreground:"ff9900"},{token:"custom-error",background:"00ff00",foreground:"ff0000",fontStyle:"bold"}]})}(),"object"!=typeof WebAssembly?r.render(i.createElement(Qe,null),document.getElementById("app")):r.render(i.createElement(ht,null,i.createElement(Ye,{update:s,fiddle:o,embeddingParams:a,windowContext:mt})),document.getElementById("app")),"test"!==e&&await Promise.all([n.e(0),n.e(2)]).then(n.t.bind(null,604,7)),await async function(){monaco.languages.onLanguage("wat",()=>{monaco.languages.setMonarchTokensProvider("wat",tt.MonarchDefinitions),monaco.languages.setLanguageConfiguration("wat",tt.LanguageConfiguration),monaco.languages.registerCompletionItemProvider("wat",tt.CompletionItemProvider),monaco.languages.registerHoverProvider("wat",tt.HoverProvider)}),monaco.languages.register({id:"wat"}),monaco.languages.onLanguage("log",()=>{monaco.languages.setMonarchTokensProvider("log",nt.MonarchTokensProvider)}),monaco.languages.register({id:"log"}),monaco.languages.onLanguage("cton",()=>{monaco.languages.setMonarchTokensProvider("cton",ot.MonarchDefinitions)}),monaco.languages.register({id:"cton"}),monaco.languages.onLanguage("x86",()=>{monaco.languages.setMonarchTokensProvider("x86",lt.MonarchDefinitions)}),monaco.languages.register({id:"x86"}),monaco.languages.onLanguage("rust",()=>{monaco.languages.setMonarchTokensProvider("rust",rt.MonarchDefinitions)}),monaco.languages.register({id:"rust"});let e=await fetch("lib/lib.es6.d.ts");monaco.languages.typescript.typescriptDefaults.addExtraLib(await e.text()),e=await fetch("lib/fiddle.d.ts"),monaco.languages.typescript.typescriptDefaults.addExtraLib(await e.text()),monaco.languages.typescript.typescriptDefaults.setCompilerOptions({noLib:!0,allowNonTsExtensions:!0}),monaco.languages.typescript.javascriptDefaults.setCompilerOptions({noLib:!0,allowNonTsExtensions:!0})}()}catch(e){dt.captureException(e)}}vt()},,function(e,t,n){var i=n(14);e.exports={wrapMethod:function(e,t,n){var r=e[t],s=e;if(t in e){var o="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),a=i.safeJoin(e," "),l={level:o,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(a="Assertion failed: "+(i.safeJoin(e.slice(1)," ")||"console.assert"),l.extra.arguments=e.slice(1),n&&n(a,l)):n&&n(a,l),r&&Function.prototype.apply.call(r,s,e)}}}}},function(e,t){function n(e){this.name="RavenConfigError",this.message=e}n.prototype=new Error,n.prototype.constructor=n,e.exports=n},function(e,t){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,i,r,s,o){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(r,o)),s),i)}function r(e,t,n,r,s,o,a){return i(t&n|~t&r,e,t,s,o,a)}function s(e,t,n,r,s,o,a){return i(t&r|n&~r,e,t,s,o,a)}function o(e,t,n,r,s,o,a){return i(t^n^r,e,t,s,o,a)}function a(e,t,n,r,s,o,a){return i(n^(t|~r),e,t,s,o,a)}function l(e,t){var i,l,c,u,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var h=1732584193,p=-271733879,f=-1732584194,m=271733878;for(i=0;i<e.length;i+=16)l=h,c=p,u=f,d=m,p=a(p=a(p=a(p=a(p=o(p=o(p=o(p=o(p=s(p=s(p=s(p=s(p=r(p=r(p=r(p=r(p,f=r(f,m=r(m,h=r(h,p,f,m,e[i],7,-680876936),p,f,e[i+1],12,-389564586),h,p,e[i+2],17,606105819),m,h,e[i+3],22,-1044525330),f=r(f,m=r(m,h=r(h,p,f,m,e[i+4],7,-176418897),p,f,e[i+5],12,1200080426),h,p,e[i+6],17,-1473231341),m,h,e[i+7],22,-45705983),f=r(f,m=r(m,h=r(h,p,f,m,e[i+8],7,1770035416),p,f,e[i+9],12,-1958414417),h,p,e[i+10],17,-42063),m,h,e[i+11],22,-1990404162),f=r(f,m=r(m,h=r(h,p,f,m,e[i+12],7,1804603682),p,f,e[i+13],12,-40341101),h,p,e[i+14],17,-1502002290),m,h,e[i+15],22,1236535329),f=s(f,m=s(m,h=s(h,p,f,m,e[i+1],5,-165796510),p,f,e[i+6],9,-1069501632),h,p,e[i+11],14,643717713),m,h,e[i],20,-373897302),f=s(f,m=s(m,h=s(h,p,f,m,e[i+5],5,-701558691),p,f,e[i+10],9,38016083),h,p,e[i+15],14,-660478335),m,h,e[i+4],20,-405537848),f=s(f,m=s(m,h=s(h,p,f,m,e[i+9],5,568446438),p,f,e[i+14],9,-1019803690),h,p,e[i+3],14,-187363961),m,h,e[i+8],20,1163531501),f=s(f,m=s(m,h=s(h,p,f,m,e[i+13],5,-1444681467),p,f,e[i+2],9,-51403784),h,p,e[i+7],14,1735328473),m,h,e[i+12],20,-1926607734),f=o(f,m=o(m,h=o(h,p,f,m,e[i+5],4,-378558),p,f,e[i+8],11,-2022574463),h,p,e[i+11],16,1839030562),m,h,e[i+14],23,-35309556),f=o(f,m=o(m,h=o(h,p,f,m,e[i+1],4,-1530992060),p,f,e[i+4],11,1272893353),h,p,e[i+7],16,-155497632),m,h,e[i+10],23,-1094730640),f=o(f,m=o(m,h=o(h,p,f,m,e[i+13],4,681279174),p,f,e[i],11,-358537222),h,p,e[i+3],16,-722521979),m,h,e[i+6],23,76029189),f=o(f,m=o(m,h=o(h,p,f,m,e[i+9],4,-640364487),p,f,e[i+12],11,-421815835),h,p,e[i+15],16,530742520),m,h,e[i+2],23,-995338651),f=a(f,m=a(m,h=a(h,p,f,m,e[i],6,-198630844),p,f,e[i+7],10,1126891415),h,p,e[i+14],15,-1416354905),m,h,e[i+5],21,-57434055),f=a(f,m=a(m,h=a(h,p,f,m,e[i+12],6,1700485571),p,f,e[i+3],10,-1894986606),h,p,e[i+10],15,-1051523),m,h,e[i+1],21,-2054922799),f=a(f,m=a(m,h=a(h,p,f,m,e[i+8],6,1873313359),p,f,e[i+15],10,-30611744),h,p,e[i+6],15,-1560198380),m,h,e[i+13],21,1309151649),f=a(f,m=a(m,h=a(h,p,f,m,e[i+4],6,-145523070),p,f,e[i+11],10,-1120210379),h,p,e[i+2],15,718787259),m,h,e[i+9],21,-343485551),h=n(h,l),p=n(p,c),f=n(f,u),m=n(m,d);return[h,p,f,m]}function c(e){var t,n="",i=32*e.length;for(t=0;t<i;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){var t,n,i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return i}function h(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return c(l(u(e),8*e.length))}(h(e))}function f(e,t){return function(e,t){var n,i,r=u(e),s=[],o=[];for(s[15]=o[15]=void 0,r.length>16&&(r=l(r,8*e.length)),n=0;n<16;n+=1)s[n]=909522486^r[n],o[n]=1549556828^r[n];return i=l(s.concat(u(t)),512+8*t.length),c(l(o.concat(i),640))}(h(e),h(t))}e.exports=function(e,t,n){return t?n?f(t,e):function(e,t){return d(f(e,t))}(t,e):n?p(e):function(e){return d(p(e))}(e)}},function(e,t,n){(function(t){var i=n(14),r={collectWindowErrors:!0,debug:!1},s="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=[].slice,a="?",l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function c(){return"undefined"==typeof document||null==document.location?"":document.location.href}r.report=function(){var e,t,n=[],u=null,d=null,h=null;function p(e,t){var i=null;if(!t||r.collectWindowErrors){for(var s in n)if(n.hasOwnProperty(s))try{n[s].apply(null,[e].concat(o.call(arguments,2)))}catch(e){i=e}if(i)throw i}}function f(t,n,s,o,u){var d=i.isErrorEvent(u)?u.error:u,f=i.isErrorEvent(t)?t.message:t;if(h)r.computeStackTrace.augmentStackTraceWithInitialElement(h,n,s,f),m();else if(d&&i.isError(d))p(r.computeStackTrace(d),!0);else{var g,b={url:n,line:s,column:o},v=void 0;if("[object String]"==={}.toString.call(f))(g=f.match(l))&&(v=g[1],f=g[2]);b.func=a,p({name:v,message:f,url:c(),stack:[b]},!0)}return!!e&&e.apply(this,arguments)}function m(){var e=h,t=u;u=null,h=null,d=null,p.apply(null,[e,!1].concat(t))}function g(e,t){var n=o.call(arguments,1);if(h){if(d===e)return;m()}var i=r.computeStackTrace(e);if(h=i,d=e,u=n,setTimeout(function(){d===e&&m()},i.incomplete?2e3:0),!1!==t)throw e}return g.subscribe=function(i){t||(e=s.onerror,s.onerror=f,t=!0),n.push(i)},g.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},g.uninstall=function(){t&&(s.onerror=e,t=!1,e=void 0),n=[]},g}(),r.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,i,r=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,o=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=e.stack.split("\n"),h=[],p=(/^(.*) is undefined$/.exec(e.message),0),f=d.length;p<f;++p){if(n=r.exec(d[p])){var m=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=u.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),i={url:m?null:n[2],func:n[1]||a,args:m?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=s.exec(d[p]))i={url:n[2],func:n[1]||a,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=o.exec(d[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=l.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==p||n[5]||void 0===e.columnNumber||(h[0].column=e.columnNumber+1),i={url:n[3],func:n[1]||a,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!i.func&&i.line&&(i.func=a),i.url&&"blob:"===i.url.substr(0,5)){var g=new XMLHttpRequest;if(g.open("GET",i.url,!1),g.send(null),200===g.status){var b=g.responseText||"",v=(b=b.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(v){var y=v[1];"~"===y.charAt(0)&&(y=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+y.slice(1)),i.url=y.slice(0,-4)}}}h.push(i)}return h.length?{name:e.name,message:e.message,url:c(),stack:h}:null}}function t(e,t,n,i){var r={url:t,line:n};if(r.url&&r.line){if(e.incomplete=!1,r.func||(r.func=a),e.stack.length>0&&e.stack[0].url===r.url){if(e.stack[0].line===r.line)return!1;if(!e.stack[0].line&&e.stack[0].func===r.func)return e.stack[0].line=r.line,!1}return e.stack.unshift(r),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,s){for(var o,l,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],h={},p=!1,f=n.caller;f&&!p;f=f.caller)if(f!==i&&f!==r.report){if(l={url:null,func:a,line:null,column:null},f.name?l.func=f.name:(o=u.exec(f.toString()))&&(l.func=o[1]),void 0===l.func)try{l.func=o.input.substring(0,o.input.indexOf("{"))}catch(e){}h[""+f]?p=!0:h[""+f]=!0,d.push(l)}s&&d.splice(0,s);var m={name:e.name,message:e.message,url:c(),stack:d};return t(m,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),m}function i(t,i){var s=null;i=null==i?0:+i;try{if(s=e(t))return s}catch(e){if(r.debug)throw e}try{if(s=n(t,i+1))return s}catch(e){if(r.debug)throw e}return{name:t.name,message:t.message,url:c()}}return i.augmentStackTraceWithInitialElement=t,i.computeStackTraceFromStackProp=e,i}(),e.exports=r}).call(this,n(9))},function(e,t,n){(function(t){var i=n(33),r=n(16),s=n(32),o=n(31),a=n(14),l=a.isErrorEvent,c=a.isDOMError,u=a.isDOMException,d=a.isError,h=a.isObject,p=a.isPlainObject,f=a.isUndefined,m=a.isFunction,g=a.isString,b=a.isArray,v=a.isEmptyObject,y=a.each,w=a.objectMerge,E=a.truncate,C=a.objectFrozen,_=a.hasKey,x=a.joinRegExp,k=a.urlencode,S=a.uuid4,O=a.htmlTreeAsString,D=a.isSameException,T=a.isSameStacktrace,j=a.parseUrl,M=a.fill,A=a.supportsFetch,P=a.supportsReferrerPolicy,R=a.serializeKeysForMessage,N=a.serializeException,L=a.sanitize,F=n(30).wrapMethod,V="source protocol user pass host port path".split(" "),I=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function W(){return+new Date}var z="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},B=z.document,U=z.navigator;function H(e,t){return m(t)?function(n){return t(n,e)}:t}function q(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!f(B),this._hasNavigator=!f(U),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:z.SENTRY_RELEASE&&z.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:P()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=z.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=W(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=z.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}q.prototype={VERSION:"3.26.3",debug:!1,TraceKit:i,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var r=n._globalOptions;t&&y(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:r[e]=t}),n.setDSN(e),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=x(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&x(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&x(r.whitelistUrls),r.includePaths=x(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var s={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},o=r.autoBreadcrumbs;"[object Object]"==={}.toString.call(o)?o=w(s,o):!1!==o&&(o=s),r.autoBreadcrumbs=o;var a={tryCatch:!0},l=r.instrument;return"[object Object]"==={}.toString.call(l)?l=w(a,l):!1!==l&&(l=a),r.instrument=l,i.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(i.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this._parseDSN(e),n=t.path.lastIndexOf("/"),i=t.path.substr(1,n);this._dsn=e,this._globalKey=t.user,this._globalSecret=t.pass&&t.pass.substr(1),this._globalProject=t.path.substr(n+1),this._globalServer=this._getGlobalServer(t),this._globalEndpoint=this._globalServer+"/"+i+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return m(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var i=this;if(f(t)&&!m(e))return e;if(m(e)&&(t=e,e=void 0),!m(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function r(){var r=[],s=arguments.length,o=!e||e&&!1!==e.deep;for(n&&m(n)&&n.apply(this,arguments);s--;)r[s]=o?i.wrap(e,arguments[s]):arguments[s];try{return t.apply(this,r)}catch(t){throw i._ignoreNextOnError(),i.captureException(t,e),t}}for(var s in t)_(t,s)&&(r[s]=t[s]);return r.prototype=t.prototype,t.__raven_wrapper__=r,r.__raven__=!0,r.__orig__=t,r},uninstall:function(){return i.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),z.addEventListener&&z.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return z.removeEventListener&&z.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=w({trimHeadFrames:0},t||{}),l(e)&&e.error)e=e.error;else{if(c(e)||u(e)){var n=e.name||(c(e)?"DOMError":"DOMException"),r=e.message?n+": "+e.message:n;return this.captureMessage(r,w(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(d(e))e=e;else{if(!p(e))return this.captureMessage(e,w(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var s=i.computeStackTrace(e);this._handleStackInfo(s,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),i=w(e,{message:"Non-Error exception captured with keys: "+R(n),fingerprint:[s(n)],extra:e.extra||{}});return i.extra.__serialized__=N(t),i},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,r=w({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var s=i.computeStackTrace(n),o=b(s.stack)&&s.stack[1];o&&"Raven.captureException"===o.func&&(o=s.stack[2]);var a=o&&o.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(a))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(a))){if(this._globalOptions.stacktrace||t.stacktrace||""===r.message){r.fingerprint=null==r.fingerprint?e:r.fingerprint,(t=w({trimHeadFrames:0},t)).trimHeadFrames+=1;var l=this._prepareFrames(s,t);r.stacktrace={frames:l.reverse()}}return r.fingerprint&&(r.fingerprint=b(r.fingerprint)?r.fingerprint:[r.fingerprint]),this._send(r),this}}},captureBreadcrumb:function(e){var t=w({timestamp:W()/1e3},e);if(m(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(h(n)&&!v(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(r(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=H(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=H(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=H(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=z.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(B){var t=(e=e||{}).eventId||this.lastEventId();if(!t)throw new o("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new o("Missing DSN");var i=encodeURIComponent,r="";r+="?eventId="+i(t),r+="&dsn="+i(n);var s=e.user||this._globalContext.user;s&&(s.name&&(r+="&name="+i(s.name)),s.email&&(r+="&email="+i(s.email)));var a=this._getGlobalServer(this._parseDSN(n)),l=B.createElement("script");l.async=!0,l.src=a+"/api/embed/error-page/"+r,(B.head||B.body).appendChild(l)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,i;if(this._hasDocument){for(i in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),B.createEvent?(n=B.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=B.createEventObject()).eventType=e,t)_(t,i)&&(n[i]=t[i]);if(B.createEvent)B.dispatchEvent(n);else try{B.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var i;t._lastCapturedEvent=n;try{i=O(n.target)}catch(e){i="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:i})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var i=n&&n.tagName;if(i&&("INPUT"===i||"TEXTAREA"===i||n.isContentEditable)){var r=e._keypressTimeout;r||e._breadcrumbEventHandler("input")(t),clearTimeout(r),e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},1e3)}}},_captureUrlChange:function(e,t){var n=j(this._location.href),i=j(t),r=j(e);this._lastHref=t,n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,i){for(var r=new Array(arguments.length),s=0;s<r.length;++s)r[s]=arguments[s];var o=r[0];return m(o)&&(r[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},o)),t.apply?t.apply(this,r):t(r[0],r[1])}}var i=this._globalOptions.autoBreadcrumbs;function r(n){var r=z[n]&&z[n].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(M(r,"addEventListener",function(t){return function(r,s,o,a){try{s&&s.handleEvent&&(s.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:s&&s.name||"<anonymous>"}}},s.handleEvent))}catch(e){}var l,c,u;return i&&i.dom&&("EventTarget"===n||"Node"===n)&&(c=e._breadcrumbEventHandler("click"),u=e._keypressEventHandler(),l=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?c(e):"keypress"===t?u(e):void 0}}),t.call(this,r,e.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:s&&s.name||"<anonymous>"}}},s,l),o,a)}},t),M(r,"removeEventListener",function(e){return function(t,n,i,r){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,i,r)}},t))}M(z,"setTimeout",n,t),M(z,"setInterval",n,t),z.requestAnimationFrame&&M(z,"requestAnimationFrame",function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}},t);for(var s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],o=0;o<s.length;o++)r(s[o])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function i(t,n){t in n&&m(n[t])&&M(n,t,function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)})}if(t.xhr&&"XMLHttpRequest"in z){var r=z.XMLHttpRequest&&z.XMLHttpRequest.prototype;M(r,"open",function(t){return function(n,i){return g(i)&&-1===i.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:i,status_code:null}),t.apply(this,arguments)}},n),M(r,"send",function(t){return function(){var n=this;function r(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var s=["onload","onerror","onprogress"],o=0;o<s.length;o++)i(s[o],n);return"onreadystatechange"in n&&m(n.onreadystatechange)?M(n,"onreadystatechange",function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,r)}):n.onreadystatechange=r,t.apply(this,arguments)}},n)}t.xhr&&A()&&M(z,"fetch",function(t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;++i)n[i]=arguments[i];var r,s=n[0],o="GET";if("string"==typeof s?r=s:"Request"in z&&s instanceof z.Request?(r=s.url,s.method&&(o=s.method)):r=""+s,-1!==r.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(o=n[1].method);var a={method:o,url:r,status_code:null};return t.apply(this,n).then(function(t){return a.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:a}),t}).catch(function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:a,level:"error"}),t})}},n),t.dom&&this._hasDocument&&(B.addEventListener?(B.addEventListener("click",e._breadcrumbEventHandler("click"),!1),B.addEventListener("keypress",e._keypressEventHandler(),!1)):B.attachEvent&&(B.attachEvent("onclick",e._breadcrumbEventHandler("click")),B.attachEvent("onkeypress",e._keypressEventHandler())));var s=z.chrome,o=!(s&&s.app&&s.app.runtime)&&z.history&&z.history.pushState&&z.history.replaceState;if(t.location&&o){var a=z.onpopstate;z.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),a)return a.apply(this,arguments)};var l=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};M(z.history,"pushState",l,n),M(z.history,"replaceState",l,n)}if(t.console&&"console"in z&&console.log){var c=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};y(["debug","info","warn","error","log"],function(e,t){F(console,t,c)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],i=e[2];t[n]=i}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;y(this._plugins,function(t,n){var i=n[0],r=n[1];i.apply(e,[e].concat(r))})},_parseDSN:function(e){var t=I.exec(e),n={},i=7;try{for(;i--;)n[V[i]]=t[i]||""}catch(t){throw new o("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new o("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,i=[];if(e.stack&&e.stack.length&&(y(e.stack,function(t,r){var s=n._normalizeFrame(r,e.url);s&&i.push(s)}),t&&t.trimHeadFrames))for(var r=0;r<t.trimHeadFrames&&r<i.length;r++)i[r].in_app=!1;return i=i.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,i,r,s){var o,a=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(a))&&(r&&r.length?(n=r[0].filename||n,r.reverse(),o={frames:r}):n&&(o={frames:[{filename:n,lineno:i,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var l=w({exception:{values:[{type:e,value:t,stacktrace:o}]},transaction:n},s),c=l.exception.values[0];null==c.type&&""===c.value&&(c.value="Unrecoverable error caught"),!l.exception.mechanism&&l.mechanism&&(l.exception.mechanism=l.mechanism,delete l.mechanism),l.exception.mechanism=w({type:"generic",handled:!0},l.exception.mechanism||{}),this._send(l)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=E(e.message,t)),e.exception){var n=e.exception.values[0];n.value=E(n.value,t)}var i=e.request;return i&&(i.url&&(i.url=E(i.url,this._globalOptions.maxUrlLength)),i.Referer&&(i.Referer=E(i.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,i,r=["to","from","url"],s=0;s<e.values.length;++s)if((n=e.values[s]).hasOwnProperty("data")&&h(n.data)&&!C(n.data)){i=w({},n.data);for(var o=0;o<r.length;++o)t=r[o],i.hasOwnProperty(t)&&i[t]&&(i[t]=E(i[t],this._globalOptions.maxUrlLength));e.values[s].data=i}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&U.userAgent&&(e.headers={"User-Agent":U.userAgent}),z.location&&z.location.href&&(e.url=z.location.href),this._hasDocument&&B.referrer&&(e.headers||(e.headers={}),e.headers.Referer=B.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&W()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?T(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||D(e.exception,t.exception))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=A()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=W()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},i=this._getHttpData();i&&(n.request=i),e.trimHeadFrames&&delete e.trimHeadFrames,(e=w(n,e)).tags=w(w({},this._globalContext.tags),e.tags),e.extra=w(w({},this._globalContext.extra),e.extra),e.extra["session:duration"]=W()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach(function(t){(null==e[t]||""===e[t]||v(e[t]))&&delete e[t]}),m(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!v(e)&&(m(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return L(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return S()},_sendProcessedPayload:function(e,t){var n=this,i=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var r={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(r.sentry_secret=this._globalSecret);var s=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:s?(s.type?s.type+": ":"")+s.value:e.message,event_id:e.event_id,level:e.level||"error"});var o=this._globalEndpoint;(i.transport||this._makeRequest).call(this,{url:o,auth:r,data:e,options:i,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:o}),t&&t()},onError:function(i){n._logDebug("error","Raven transport failed to send: ",i),i.request&&n._setBackoffState(i.request),n._triggerEvent("failure",{data:e,src:o}),i=i||new Error("Raven send failed (no additional details provided)"),t&&t(i)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+k(e.auth),n=null,i={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(i=this._evaluateHash(e.options.fetchParameters)),A()){i.body=r(e.data);var s=w({},this._fetchDefaults),o=w(s,i);return n&&(o.headers=n),z.fetch(t,o).then(function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}}).catch(function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))})}var a=z.XMLHttpRequest&&new z.XMLHttpRequest;a&&(("withCredentials"in a||"undefined"!=typeof XDomainRequest)&&("withCredentials"in a?a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+a.status);t.request=a,e.onError(t)}}:(a=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(a.onload=e.onSuccess),e.onError&&(a.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=a,e.onError(t)})),a.open("POST",t),n&&y(n,function(e,t){a.setRequestHeader(e,t)}),a.send(r(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];t[n]="function"==typeof i?i():i}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){f(t)?delete this._globalContext[e]:this._globalContext[e]=w(this._globalContext[e]||{},t)}},q.prototype.setUser=q.prototype.setUserContext,q.prototype.setReleaseContext=q.prototype.setRelease,e.exports=q}).call(this,n(9))},function(e,t,n){"use strict";function i(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function r(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function s(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,a=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?a="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==a){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=i,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=s;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,i)}}return e}n.r(t),n.d(t,"polyfill",function(){return o}),i.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,s.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var i={},r={};t.add=function(e,t){return function(e,t,n){n.forEach(function(n){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(t,n),e.add(n)})}(e.classList,"html"==e.nodeName.toLowerCase()?i:r,t.split(" "))},t.remove=function(e,t){return function(e,t,n){n.forEach(function(n){!function(e,t){e[t]&&(e[t]-=1)}(t,n),0===t[n]&&e.remove(n)})}(e.classList,"html"==e.nodeName.toLowerCase()?i:r,t.split(" "))}},function(e,t,n){var i;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),s={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)(e);if(!n.length)return void t.preventDefault();var r,s=t.shiftKey,o=n[0],a=n[n.length-1];if(e===document.activeElement){if(!s)return;r=a}a!==document.activeElement||s||(r=o);o===document.activeElement&&s&&(r=a);if(r)return t.preventDefault(),void r.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=s?-1:1);t.preventDefault(),n[c].focus()};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(18));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=a,t.handleFocus=l,t.markForFocusLater=function(){r.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==r.length&&(e=r.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){r.length>0&&r.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",a,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",a),document.attachEvent("onFocus",l))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",a),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",a),document.detachEvent("onFocus",l))};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(18));var r=[],s=null,o=!1;function a(){o=!0}function l(){if(o){if(o=!1,!s)return;setTimeout(function(){s.contains(document.activeElement)||((0,i.default)(s)[0]||s).focus()},0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=m(o),l=m(n(19)),c=f(n(40)),u=m(n(39)),d=f(n(17)),h=f(n(36)),p=m(n(15));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},b=9,v=27,y=0,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,i=e.ariaHideApp,r=e.htmlOpenClassName,s=e.bodyOpenClassName;h.remove(document.body,s),r&&h.remove(document.getElementsByTagName("html")[0],r),i&&y>0&&0===(y-=1)&&d.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus())},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===b&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===v&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var i="object"===(void 0===t?"undefined":r(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},s=i.base;return n.state.afterOpen&&(s=s+" "+i.afterOpen),n.state.beforeClose&&(s=s+" "+i.beforeClose),"string"==typeof t&&t?s+" "+t:s},n.ariaAttributes=function(e){return Object.keys(e).reduce(function(t,n){return t["aria-"+n]=e[n],t},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),s(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,i=e.htmlOpenClassName,r=e.bodyOpenClassName;h.add(document.body,r),i&&h.add(document.getElementsByTagName("html")[0],i),n&&(y+=1,d.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.overlayClassName,r=e.defaultStyles,s=t?{}:r.content,o=n?{}:r.overlay;return this.shouldBeClosed()?null:a.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",n),style:i({},o,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown,"aria-modal":"true"},a.default.createElement("div",i({ref:this.setContentRef,style:i({},s,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.ariaAttributes(this.props.aria||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}();w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(p.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,testId:l.default.string},t.default=w,e.exports=t.default},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function i(e){return function(){return e}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var i=n(43),r=n(20),s=n(42);e.exports=function(){function e(e,t,n,i,o,a){a!==s&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),o=f(s),a=f(n(12)),l=f(n(19)),c=f(n(41)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(17)),d=n(15),h=f(d),p=n(35);function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=t.portalClassName="ReactModalPortal",b=t.bodyOpenClassName="ReactModal__Body--open",v=void 0!==a.default.createPortal,y=v?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer;function w(e){return e()}var E=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.removePortal=function(){!v&&a.default.unmountComponentAtNode(r.node),w(r.props.parentSelector).removeChild(r.node)},r.portalRef=function(e){r.portal=e},r.renderPortal=function(e){var n=y(r,o.default.createElement(c.default,i({defaultStyles:t.defaultStyles},e)),r.node);r.portalRef(n)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),r(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(v||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,w(this.props.parentSelector).appendChild(this.node),!v&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:w(e.parentSelector),nextParent:w(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var i=this.props,r=i.isOpen,s=i.portalClassName;if(e.portalClassName!==s&&(this.node.className=s),e.isOpen||r){var o=n.prevParent,a=n.nextParent;a!==o&&(o.removeChild(this.node),a.appendChild(this.node)),!v&&this.renderPortal(this.props)}}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&v?(!this.node&&v&&(this.node=document.createElement("div")),y(o.default.createElement(c.default,i({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}();E.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(h.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},E.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:b,ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},E.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(E),t.default=E},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e){(function(){(function(t){"use strict";try{(function(){}).bind(t)}catch(e){Object.defineProperty(Function.prototype,"bind",{value:function(e){var t=this;return function(){return t.apply(e,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var n=void 0!==t.HTMLElement,i=1e-8,r={},s=function(e,t){if(e&&t){if("function"==typeof e[t])return e[t];var n=e.prototype;if(n&&"function"==typeof n[t])return n[t];if(n!==Object.prototype&&n!==Function.prototype)return"function"==typeof e.__super__?s(e.__super__,t):void 0}},o=t.c={debug:!1,trace:!1,verbose:!1,traceAdded:!1,GC:!1,GEQ:1,LEQ:2,inherit:function(e){var i=null,s=null;e.extends&&(s=e.extends,delete e.extends),e.initialize&&(i=e.initialize,delete e.initialize);var o=i||function(){};Object.defineProperty(o,"__super__",{value:s||Object,enumerable:!1,configurable:!0,writable:!1}),e._t&&(r[e._t]=o);var a=o.prototype=Object.create(s?s.prototype:Object.prototype);if(this.extend(a,e),n&&s&&s.prototype instanceof t.HTMLElement){var l=o,c=function(e){for(var t=null;e&&e!=Object.prototype;){if(e.tagName){t=e.tagName;break}e=e.prototype}return t||"div"}(a),u=function(e){return e.__proto__=a,l.apply(e,arguments),a.created&&e.created(),a.decorate&&e.decorate(),e};this.extend(a,{upgrade:u}),(o=function(){return u(t.document.createElement(c))}).prototype=a,this.extend(o,{ctor:l})}return o},extend:function(e,t){return this.own(t,function(n){var i=Object.getOwnPropertyDescriptor(t,n);try{"function"==typeof i.get||"function"==typeof i.set?Object.defineProperty(e,n,i):"function"==typeof i.value||"_"===n.charAt(0)?(i.writable=!0,i.configurable=!0,i.enumerable=!1,Object.defineProperty(e,n,i)):e[n]=t[n]}catch(e){}}),e},own:function(e,n,i){return Object.getOwnPropertyNames(e).forEach(n,i||t),e},traceprint:function(e){o.verbose&&console.log(e)},fnenterprint:function(e){console.log("* "+e)},fnexitprint:function(e){console.log("- "+e)},assert:function(e,t){if(!e)throw new o.InternalError("Assertion failed: "+t)},plus:function(e,t){return e instanceof o.Expression||(e=new o.Expression(e)),t instanceof o.Expression||(t=new o.Expression(t)),e.plus(t)},minus:function(e,t){return e instanceof o.Expression||(e=new o.Expression(e)),t instanceof o.Expression||(t=new o.Expression(t)),e.minus(t)},times:function(e,t){return("number"==typeof e||e instanceof o.Variable)&&(e=new o.Expression(e)),("number"==typeof t||t instanceof o.Variable)&&(t=new o.Expression(t)),e.times(t)},divide:function(e,t){return("number"==typeof e||e instanceof o.Variable)&&(e=new o.Expression(e)),("number"==typeof t||t instanceof o.Variable)&&(t=new o.Expression(t)),e.divide(t)},approx:function(e,t){return e===t||(n=e instanceof o.Variable?e.value:e,r=t instanceof o.Variable?t.value:t,0==n?i>Math.abs(r):0==r?i>Math.abs(n):Math.abs(n-r)<Math.abs(n)*i);var n,r},_inc:function(e){return function(){return e++}}(0),parseJSON:function(e){return JSON.parse(e,function(e,t){if("object"!=typeof t||"string"!=typeof t._t)return t;var n=t._t,i=r[n];if(n&&i){var o=s(i,"fromJSON");if(o)return o(t,i)}return t})}};void 0!==e&&"undefined"==typeof load&&(t.exports=o)})(this),function(e){"use strict";var t=function(e){return e.hashCode?e.hashCode:""+e},n=function(e,t){Object.keys(e).forEach(function(n){t[n]=e[n]})},i={};e.HashTable=e.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(e,n){var i=t(e);this._store.hasOwnProperty(i)||this.size++,this._store[i]=n,this._keyStrMap[i]=e},get:function(e){return this.size?(e=t(e),void 0!==this._store[e]?this._store[e]:null):null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var e={};n(this._store,e),this._store=e},_compactThreshold:100,_perhapsCompact:function(){this._size>64||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},delete:function(e){e=t(e),this._store.hasOwnProperty(e)&&(this._deleted++,delete this._store[e],this.size>0&&this.size--)},each:function(e,t){if(this.size){this._perhapsCompact();var n=this._store,i=this._keyStrMap;Object.keys(this._store).forEach(function(r){e.call(t||null,i[r],n[r])},this)}},escapingEach:function(e,t){if(this.size){this._perhapsCompact();for(var n=this,r=this._store,s=this._keyStrMap,o=i,a=Object.keys(r),l=0;a.length>l;l++)if(function(i){n._store.hasOwnProperty(i)&&(o=e.call(t||null,s[i],r[i]))}(a[l]),o){if(void 0!==o.retval)return o;if(o.brk)break}}},clone:function(){var t=new e.HashTable;return this.size&&(t.size=this.size,n(this._store,t._store),n(this._keyStrMap,t._keyStrMap)),t},equals:function(t){if(t===this)return!0;if(!(t instanceof e.HashTable)||t._size!==this._size)return!1;for(var n=Object.keys(this._store),i=0;n.length>i;i++){var r=n[i];if(this._keyStrMap[r]!==t._keyStrMap[r]||this._store[r]!==t._store[r])return!1}return!0},toString:function(){var e="";return this.each(function(t,n){e+=t+" => "+n+"\n"}),e}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.HashSet=e.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0},add:function(e){var t=this.storage;t.indexOf(e),-1==t.indexOf(e)&&t.push(e),this.size=this.storage.length},values:function(){return this.storage},has:function(e){return-1!=this.storage.indexOf(e)},delete:function(e){var t=this.storage.indexOf(e);return-1==t?null:(this.storage.splice(t,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(e,t){this.size&&this.storage.forEach(e,t)},escapingEach:function(e,t){this.size&&this.storage.forEach(e,t)},toString:function(){var e=this.size+" {",t=!0;return this.each(function(n){t?t=!1:e+=", ",e+=n}),e+="}\n"},toJSON:function(){var e=[];return this.each(function(t){e.push(t.toJSON())}),{_t:"c.HashSet",data:e}},fromJSON:function(t){var n=new e.HashSet;return t.data&&(n.size=t.data.length,n.storage=t.data),n}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.Error=e.inherit({initialize:function(e){e&&(this._description=e)},_name:"c.Error",_description:"An error has occured in Cassowary",set description(e){this._description=e},get description(){return"("+this._name+") "+this._description},get message(){return this.description},toString:function(){return this.description}});var t=function(t,n){return e.inherit({extends:e.Error,initialize:function(){e.Error.apply(this,arguments)},_name:t||"",_description:n||""})};e.ConstraintNotFound=t("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),e.InternalError=t("c.InternalError"),e.NonExpression=t("c.NonExpression","The resulting expression would be non"),e.NotEnoughStays=t("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),e.RequiredFailure=t("c.RequiredFailure","A required constraint cannot be satisfied"),e.TooDifficult=t("c.TooDifficult","The constraints are too difficult to solve")}(this.c||e.parent.exports||{}),function(e){"use strict";e.SymbolicWeight=e.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var e=1,t=arguments.length-1;t>=0;--t)this.value+=arguments[t]*e,e*=1e3},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||e.parent.exports||{}),function(e){e.Strength=e.inherit({initialize:function(t,n,i,r){this.name=t,this.symbolicWeight=n instanceof e.SymbolicWeight?n:new e.SymbolicWeight(n,i,r)},get required(){return this===e.Strength.required},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}}),e.Strength.required=new e.Strength("<Required>",1e3,1e3,1e3),e.Strength.strong=new e.Strength("strong",1,0,0),e.Strength.medium=new e.Strength("medium",0,1,0),e.Strength.weak=new e.Strength("weak",0,0,1)}(this.c||e.parent.exports.c),function(e){"use strict";e.AbstractVariable=e.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(t,n){this.hashCode=e._inc(),this.name=(n||"")+this.hashCode,t&&(void 0!==t.name&&(this.name=t.name),void 0!==t.value&&(this.value=t.value),void 0!==t.prefix&&(this._prefix=t.prefix))},_prefix:"",name:"",value:0,toJSON:function(){var e={};return this._t&&(e._t=this._t),this.name&&(e.name=this.name),void 0!==this.value&&(e.value=this.value),this._prefix&&(e._prefix=this._prefix),this._t&&(e._t=this._t),e},fromJSON:function(t,n){var i=new n;return e.extend(i,t),i},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),e.Variable=e.inherit({_t:"c.Variable",extends:e.AbstractVariable,initialize:function(t){this._init(t,"v");var n=e.Variable._map;n&&(n[this.name]=this)},isExternal:!0}),e.DummyVariable=e.inherit({_t:"c.DummyVariable",extends:e.AbstractVariable,initialize:function(e){this._init(e,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),e.ObjectiveVariable=e.inherit({_t:"c.ObjectiveVariable",extends:e.AbstractVariable,initialize:function(e){this._init(e,"o")},value:"obj"}),e.SlackVariable=e.inherit({_t:"c.SlackVariable",extends:e.AbstractVariable,initialize:function(e){this._init(e,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||e.parent.exports||{}),function(e){"use strict";e.Point=e.inherit({initialize:function(t,n,i){if(t instanceof e.Variable)this._x=t;else{var r={value:t};i&&(r.name="x"+i),this._x=new e.Variable(r)}if(n instanceof e.Variable)this._y=n;else{var s={value:n};i&&(s.name="y"+i),this._y=new e.Variable(s)}},get x(){return this._x},set x(t){t instanceof e.Variable?this._x=t:this._x.value=t},get y(){return this._y},set y(t){t instanceof e.Variable?this._y=t:this._y.value=t},toString:function(){return"("+this.x+", "+this.y+")"}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.Expression=e.inherit({initialize:function(t,n,i){e.GC&&console.log("new c.Expression"),this.constant="number"!=typeof i||isNaN(i)?0:i,this.terms=new e.HashTable,t instanceof e.AbstractVariable?this.setVariable(t,"number"==typeof n?n:1):"number"==typeof t&&(isNaN(t)?console.trace():this.constant=t)},initializeFromHash:function(t,n){return e.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),e.GC&&console.log("clone c.Expression"),this.constant=t,this.terms=n.clone(),this},multiplyMe:function(e){this.constant*=e;var t=this.terms;return t.each(function(n,i){t.set(n,i*e)}),this},clone:function(){e.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var t=new e.Expression;return t.initializeFromHash(this.constant,this.terms),t},times:function(t){if("number"==typeof t)return this.clone().multiplyMe(t);if(this.isConstant)return t.times(this.constant);if(t.isConstant)return this.times(t.constant);throw new e.NonExpression},plus:function(t){return t instanceof e.Expression?this.clone().addExpression(t,1):t instanceof e.Variable?this.clone().addVariable(t,1):void 0},minus:function(t){return t instanceof e.Expression?this.clone().addExpression(t,-1):t instanceof e.Variable?this.clone().addVariable(t,-1):void 0},divide:function(t){if("number"==typeof t){if(e.approx(t,0))throw new e.NonExpression;return this.times(1/t)}if(t instanceof e.Expression){if(!t.isConstant)throw new e.NonExpression;return this.times(1/t.constant)}},addExpression:function(t,n,i,r){return t instanceof e.AbstractVariable&&(t=new e.Expression(t),e.trace&&console.log("addExpression: Had to cast a var to an expression")),n=n||1,this.constant+=n*t.constant,t.terms.each(function(e,t){this.addVariable(e,t*n,i,r)},this),this},addVariable:function(t,n,i,r){null==n&&(n=1),e.trace&&console.log("c.Expression::addVariable():",t,n);var s=this.terms.get(t);if(s){var o=s+n;0==o||e.approx(o,0)?(r&&r.noteRemovedVariable(t,i),this.terms.delete(t)):this.setVariable(t,o)}else e.approx(n,0)||(this.setVariable(t,n),r&&r.noteAddedVariable(t,i));return this},setVariable:function(e,t){return this.terms.set(e,t),this},anyPivotableVariable:function(){if(this.isConstant)throw new e.InternalError("anyPivotableVariable called on a constant");var t=this.terms.escapingEach(function(e){return e.isPivotable?{retval:e}:void 0});return t&&void 0!==t.retval?t.retval:null},substituteOut:function(t,n,i,r){e.trace&&(e.fnenterprint("CLE:substituteOut: "+t+", "+n+", "+i+", ..."),e.traceprint("this = "+this));var s=this.setVariable.bind(this),o=this.terms,a=o.get(t);o.delete(t),this.constant+=a*n.constant,n.terms.each(function(t,n){var l=o.get(t);if(l){var c=l+a*n;e.approx(c,0)?(r.noteRemovedVariable(t,i),o.delete(t)):s(t,c)}else s(t,a*n),r&&r.noteAddedVariable(t,i)}),e.trace&&e.traceprint("Now this is "+this)},changeSubject:function(e,t){this.setVariable(e,this.newSubject(t))},newSubject:function(t){e.trace&&e.fnenterprint("newSubject:"+t);var n=1/this.terms.get(t);return this.terms.delete(t),this.multiplyMe(-n),n},coefficientFor:function(e){return this.terms.get(e)||0},get isConstant(){return 0==this.terms.size},toString:function(){var t="",n=!1;if(!e.approx(this.constant,0)||this.isConstant){if(t+=this.constant,this.isConstant)return t;n=!0}return this.terms.each(function(e,i){n&&(t+=" + "),t+=i+"*"+e,n=!0}),t},equals:function(t){return t===this||t instanceof e.Expression&&t.constant===this.constant&&t.terms.equals(this.terms)},Plus:function(e,t){return e.plus(t)},Minus:function(e,t){return e.minus(t)},Times:function(e,t){return e.times(t)},Divide:function(e,t){return e.divide(t)}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.AbstractConstraint=e.inherit({initialize:function(t,n){this.hashCode=e._inc(),this.strength=t||e.Strength.required,this.weight=n||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,get required(){return this.strength===e.Strength.required},toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}});var t=e.AbstractConstraint.prototype.toString,n=function(t,n,i){e.AbstractConstraint.call(this,n||e.Strength.strong,i),this.variable=t,this.expression=new e.Expression(t,-1,t.value)};e.EditConstraint=e.inherit({extends:e.AbstractConstraint,initialize:function(){n.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+t.call(this)}}),e.StayConstraint=e.inherit({extends:e.AbstractConstraint,initialize:function(){n.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+t.call(this)}});var i=e.Constraint=e.inherit({extends:e.AbstractConstraint,initialize:function(t,n,i){e.AbstractConstraint.call(this,n,i),this.expression=t}});e.Inequality=e.inherit({extends:e.Constraint,_cloneOrNewCle:function(t){return t.clone?t.clone():new e.Expression(t)},initialize:function(t,n,r,s,o){var a=t instanceof e.Expression,l=r instanceof e.Expression,c=t instanceof e.AbstractVariable,u=r instanceof e.AbstractVariable,d="number"==typeof t,h="number"==typeof r;if((a||d)&&u){var p=t,f=n,m=r,g=s,b=o;if(i.call(this,this._cloneOrNewCle(p),g,b),f==e.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(m);else{if(f!=e.GEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(m,-1)}}else if(c&&(l||h)){p=r,f=n,m=t,g=s,b=o;if(i.call(this,this._cloneOrNewCle(p),g,b),f==e.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(m);else{if(f!=e.LEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(m,-1)}}else{if(a&&h){var v=t,y=(f=n,r);g=s,b=o;if(i.call(this,this._cloneOrNewCle(v),g,b),f==e.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(y));else{if(f!=e.GEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(y),-1)}return this}if(d&&l){v=r,f=n,y=t,g=s,b=o;if(i.call(this,this._cloneOrNewCle(v),g,b),f==e.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(y));else{if(f!=e.LEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(y),-1)}return this}if(a&&l){v=t,f=n,y=r,g=s,b=o;if(i.call(this,this._cloneOrNewCle(y),g,b),f==e.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(v));else{if(f!=e.LEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(v),-1)}}else{if(a)return i.call(this,t,n,r);if(n==e.GEQ)i.call(this,new e.Expression(r),s,o),this.expression.multiplyMe(-1),this.expression.addVariable(t);else{if(n!=e.LEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");i.call(this,new e.Expression(r),s,o),this.expression.addVariable(t,-1)}}}},isInequality:!0,toString:function(){return i.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),e.Equation=e.inherit({extends:e.Constraint,initialize:function(t,n,r,s){if(t instanceof e.Expression&&!n||n instanceof e.Strength)i.call(this,t,n,r);else if(t instanceof e.AbstractVariable&&n instanceof e.Expression){var o=t,a=n,l=r,c=s;i.call(this,a.clone(),l,c),this.expression.addVariable(o,-1)}else if(t instanceof e.AbstractVariable&&"number"==typeof n){o=t;var u=n;l=r,c=s;i.call(this,new e.Expression(u),l,c),this.expression.addVariable(o,-1)}else if(t instanceof e.Expression&&n instanceof e.AbstractVariable){a=t,o=n,l=r,c=s;i.call(this,a.clone(),l,c),this.expression.addVariable(o,-1)}else{if(!(t instanceof e.Expression||t instanceof e.AbstractVariable||"number"==typeof t)||!(n instanceof e.Expression||n instanceof e.AbstractVariable||"number"==typeof n))throw"Bad initializer to c.Equation";t=t instanceof e.Expression?t.clone():new e.Expression(t),n=n instanceof e.Expression?n.clone():new e.Expression(n),i.call(this,t,r,s),this.expression.addExpression(n,-1)}e.assert(this.strength instanceof e.Strength,"_strength not set")},toString:function(){return i.prototype.toString.call(this)+" = 0)"}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.EditInfo=e.inherit({initialize:function(e,t,n,i,r){this.constraint=e,this.editPlus=t,this.editMinus=n,this.prevEditConstant=i,this.index=r},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.Tableau=e.inherit({initialize:function(){this.columns=new e.HashTable,this.rows=new e.HashTable,this._infeasibleRows=new e.HashSet,this._externalRows=new e.HashSet,this._externalParametricVars=new e.HashSet},noteRemovedVariable:function(t,n){e.trace&&console.log("c.Tableau::noteRemovedVariable: ",t,n);var i=this.columns.get(t);n&&i&&i.delete(n)},noteAddedVariable:function(e,t){t&&this.insertColVar(e,t)},getInternalInfo:function(){var e="Tableau Information:\n";return e+="Rows: "+this.rows.size,e+=" (= "+(this.rows.size-1)+" constraints)",e+="\nColumns: "+this.columns.size,e+="\nInfeasible Rows: "+this._infeasibleRows.size,e+="\nExternal basic variables: "+this._externalRows.size,e+="\nExternal parametric variables: ",(e+=this._externalParametricVars.size)+"\n"},toString:function(){var e="Tableau:\n";return this.rows.each(function(t,n){e+=t,e+=" <==> ",e+=n,e+="\n"}),e+="\nColumns:\n",e+=this.columns,e+="\nInfeasible rows: ",e+=this._infeasibleRows,e+="External basic variables: ",e+=this._externalRows,e+="External parametric variables: ",e+=this._externalParametricVars},insertColVar:function(t,n){var i=this.columns.get(t);i||(i=new e.HashSet,this.columns.set(t,i)),i.add(n)},addRow:function(t,n){e.trace&&e.fnenterprint("addRow: "+t+", "+n),this.rows.set(t,n),n.terms.each(function(e){this.insertColVar(e,t),e.isExternal&&this._externalParametricVars.add(e)},this),t.isExternal&&this._externalRows.add(t),e.trace&&e.traceprint(""+this)},removeColumn:function(t){e.trace&&e.fnenterprint("removeColumn:"+t);var n=this.columns.get(t);n?(this.columns.delete(t),n.each(function(e){this.rows.get(e).terms.delete(t)},this)):e.trace&&console.log("Could not find var",t,"in columns"),t.isExternal&&(this._externalRows.delete(t),this._externalParametricVars.delete(t))},removeRow:function(t){e.trace&&e.fnenterprint("removeRow:"+t);var n=this.rows.get(t);return e.assert(null!=n),n.terms.each(function(n){var i=this.columns.get(n);null!=i&&(e.trace&&console.log("removing from varset:",t),i.delete(t))},this),this._infeasibleRows.delete(t),t.isExternal&&this._externalRows.delete(t),this.rows.delete(t),e.trace&&e.fnexitprint("returning "+n),n},substituteOut:function(t,n){e.trace&&e.fnenterprint("substituteOut:"+t+", "+n),e.trace&&e.traceprint(""+this),this.columns.get(t).each(function(e){var i=this.rows.get(e);i.substituteOut(t,n,e,this),e.isRestricted&&0>i.constant&&this._infeasibleRows.add(e)},this),t.isExternal&&(this._externalRows.add(t),this._externalParametricVars.delete(t)),this.columns.delete(t)},columnsHasKey:function(e){return!!this.columns.get(e)}})}(this.c||e.parent.exports||{}),function(e){var t=e.Tableau.prototype,n=e.Strength.weak;e.SimplexSolver=e.inherit({extends:e.Tableau,initialize:function(){e.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new e.HashTable,this._markerVars=new e.HashTable,this._objective=new e.ObjectiveVariable({name:"Z"}),this._editVarMap=new e.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._fNeedsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,new e.Expression),this._stkCedcns=[0],e.trace&&e.traceprint("objective expr == "+this.rows.get(this._objective))},addLowerBound:function(t,n){var i=new e.Inequality(t,e.GEQ,new e.Expression(n));return this.addConstraint(i)},addUpperBound:function(t,n){var i=new e.Inequality(t,e.LEQ,new e.Expression(n));return this.addConstraint(i)},addBounds:function(e,t,n){return this.addLowerBound(e,t),this.addUpperBound(e,n),this},add:function(){for(var e=0;arguments.length>e;e++)this.addConstraint(arguments[e]);return this},addConstraint:function(t){e.trace&&e.fnenterprint("addConstraint: "+t);var n=Array(2),i=Array(1),r=this.newExpression(t,n,i);if(i=i[0],this.tryAddingDirectly(r)||this.addWithArtificialVariable(r),this._fNeedsSolving=!0,t.isEditConstraint){var s=this._editVarMap.size,o=n[0],a=n[1];!o instanceof e.SlackVariable&&console.warn("cvEplus not a slack variable =",o),!a instanceof e.SlackVariable&&console.warn("cvEminus not a slack variable =",a),e.debug&&console.log("new c.EditInfo("+t+", "+o+", "+a+", "+i+", "+s+")");var l=new e.EditInfo(t,o,a,i,s);this._editVarMap.set(t.variable,l),this._editVarList[s]={v:t.variable,info:l}}return this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(t){e.trace&&e.fnenterprint("addConstraintNoException: "+t);try{return this.addConstraint(t),!0}catch(e){return!1}},addEditVar:function(t,n){return e.trace&&e.fnenterprint("addEditVar: "+t+" @ "+n),this.addConstraint(new e.EditConstraint(t,n||e.Strength.strong))},beginEdit:function(){return e.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._stkCedcns.push(this._editVarMap.size),this},endEdit:function(){return e.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._stkCedcns.pop(),this.removeEditVarsTo(this._stkCedcns[this._stkCedcns.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(t){try{for(var n=this._editVarList.length,i=t;n>i;i++)this._editVarList[i]&&this.removeConstraint(this._editVarMap.get(this._editVarList[i].v).constraint);return this._editVarList.length=t,e.assert(this._editVarMap.size==t,"_editVarMap.size == n"),this}catch(t){throw new e.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(t){return e.trace&&console.log("addPointStays",t),t.forEach(function(e,t){this.addStay(e.x,n,Math.pow(2,t)),this.addStay(e.y,n,Math.pow(2,t))},this),this},addStay:function(t,i,r){var s=new e.StayConstraint(t,i||n,r||1);return this.addConstraint(s)},removeConstraint:function(e){return this.removeConstraintInternal(e),this},removeConstraintInternal:function(t){e.trace&&e.fnenterprint("removeConstraintInternal: "+t),e.trace&&e.traceprint(""+this),this._fNeedsSolving=!0,this._resetStayConstants();var n=this.rows.get(this._objective),i=this._errorVars.get(t);e.trace&&e.traceprint("eVars == "+i),null!=i&&i.each(function(r){var s=this.rows.get(r);null==s?n.addVariable(r,-t.weight*t.strength.symbolicWeight.value,this._objective,this):n.addExpression(s,-t.weight*t.strength.symbolicWeight.value,this._objective,this),e.trace&&e.traceprint("now eVars == "+i)},this);var r=this._markerVars.get(t);if(this._markerVars.delete(t),null==r)throw new e.InternalError("Constraint not found in removeConstraintInternal");if(e.trace&&e.traceprint("Looking to remove var "+r),null==this.rows.get(r)){var s=this.columns.get(r);e.trace&&e.traceprint("Must pivot -- columns are "+s);var o=null,a=0;s.each(function(t){if(t.isRestricted){var n=this.rows.get(t),i=n.coefficientFor(r);if(e.trace&&e.traceprint("Marker "+r+"'s coefficient in "+n+" is "+i),0>i){var s=-n.constant/i;(null==o||a>s||e.approx(s,a)&&t.hashCode<o.hashCode)&&(a=s,o=t)}}},this),null==o&&(e.trace&&e.traceprint("exitVar is still null"),s.each(function(e){if(e.isRestricted){var t=this.rows.get(e),n=t.coefficientFor(r),i=t.constant/n;(null==o||a>i)&&(a=i,o=e)}},this)),null==o&&(0==s.size?this.removeColumn(r):s.escapingEach(function(e){return e!=this._objective?(o=e,{brk:!0}):void 0},this)),null!=o&&this.pivot(r,o)}if(null!=this.rows.get(r)&&this.removeRow(r),null!=i&&i.each(function(e){e!=r&&this.removeColumn(e)},this),t.isStayConstraint){if(null!=i)for(var l=0;this._stayPlusErrorVars.length>l;l++)i.delete(this._stayPlusErrorVars[l]),i.delete(this._stayMinusErrorVars[l])}else if(t.isEditConstraint){e.assert(null!=i,"eVars != null");var c=this._editVarMap.get(t.variable);this.removeColumn(c.editMinus),this._editVarMap.delete(t.variable)}return null!=i&&this._errorVars.delete(i),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw e.trace&&e.fnenterprint("reset"),new e.InternalError("reset not implemented")},resolveArray:function(t){e.trace&&e.fnenterprint("resolveArray"+t);var n=t.length;this._editVarMap.each(function(e,i){var r=i.index;n>r&&this.suggestValue(e,t[r])},this),this.resolve()},resolvePair:function(e,t){this.suggestValue(this._editVarList[0].v,e),this.suggestValue(this._editVarList[1].v,t),this.resolve()},resolve:function(){e.trace&&e.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(t,n){e.trace&&console.log("suggestValue("+t+", "+n+")");var i=this._editVarMap.get(t);if(!i)throw new e.Error("suggestValue for variable "+t+", but var is not an edit variable");var r=n-i.prevEditConstant;return i.prevEditConstant=n,this.deltaEditConstant(r,i.editPlus,i.editMinus),this},solve:function(){return this._fNeedsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(t,n){if(!this.columnsHasKey(t)&&null==this.rows.get(t))return t.value=n,this;if(!e.approx(n,t.value)){this.addEditVar(t),this.beginEdit();try{this.suggestValue(t,n)}catch(t){throw new e.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(t){if(!this.columnsHasKey(t)&&null==this.rows.get(t)){try{this.addStay(t)}catch(t){throw new e.InternalError("Error in addVar -- required failure is impossible")}e.trace&&e.traceprint("added initial stay on "+t)}return this},getInternalInfo:function(){var e=t.getInternalInfo.call(this);return e+="\nSolver info:\n",e+="Stay Error Variables: ",e+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,e+=" ("+this._stayPlusErrorVars.length+" +, ",e+=this._stayMinusErrorVars.length+" -)\n",(e+="Edit Variables: "+this._editVarMap.size)+"\n"},getDebugInfo:function(){return""+this+this.getInternalInfo()+"\n"},toString:function(){var e=t.getInternalInfo.call(this);return e+="\n_stayPlusErrorVars: ",e+="["+this._stayPlusErrorVars+"]",e+="\n_stayMinusErrorVars: ",e+="["+this._stayMinusErrorVars+"]",e+="\n",(e+="_editVarMap:\n"+this._editVarMap)+"\n"},getConstraintMap:function(){return this._markerVars},addWithArtificialVariable:function(t){e.trace&&e.fnenterprint("addWithArtificialVariable: "+t);var n=new e.SlackVariable({value:++this._artificialCounter,prefix:"a"}),i=new e.ObjectiveVariable({name:"az"}),r=t.clone();e.trace&&e.traceprint("before addRows:\n"+this),this.addRow(i,r),this.addRow(n,t),e.trace&&e.traceprint("after addRows:\n"+this),this.optimize(i);var s=this.rows.get(i);if(e.trace&&e.traceprint("azTableauRow.constant == "+s.constant),!e.approx(s.constant,0))throw this.removeRow(i),this.removeColumn(n),new e.RequiredFailure;var o=this.rows.get(n);if(null!=o){if(o.isConstant)return this.removeRow(n),void this.removeRow(i);var a=o.anyPivotableVariable();this.pivot(a,n)}e.assert(null==this.rows.get(n),"rowExpression(av) == null"),this.removeColumn(n),this.removeRow(i)},tryAddingDirectly:function(t){e.trace&&e.fnenterprint("tryAddingDirectly: "+t);var n=this.chooseSubject(t);return null==n?(e.trace&&e.fnexitprint("returning false"),!1):(t.newSubject(n),this.columnsHasKey(n)&&this.substituteOut(n,t),this.addRow(n,t),e.trace&&e.fnexitprint("returning true"),!0)},chooseSubject:function(t){e.trace&&e.fnenterprint("chooseSubject: "+t);var n=null,i=!1,r=!1,s=t.terms;if((o=s.escapingEach(function(e,t){if(i){if(!e.isRestricted&&!this.columnsHasKey(e))return{retval:e}}else if(e.isRestricted){if(!r&&!e.isDummy&&0>t){var s=this.columns.get(e);(null==s||1==s.size&&this.columnsHasKey(this._objective))&&(n=e,r=!0)}}else n=e,i=!0},this))&&void 0!==o.retval)return o.retval;if(null!=n)return n;var o,a=0;if((o=s.escapingEach(function(e,t){return e.isDummy?void(this.columnsHasKey(e)||(n=e,a=t)):{retval:null}},this))&&void 0!==o.retval)return o.retval;if(!e.approx(t.constant,0))throw new e.RequiredFailure;return a>0&&t.multiplyMe(-1),n},deltaEditConstant:function(t,n,i){e.trace&&e.fnenterprint("deltaEditConstant :"+t+", "+n+", "+i);var r=this.rows.get(n);if(null!=r)return r.constant+=t,void(0>r.constant&&this._infeasibleRows.add(n));var s=this.rows.get(i);if(null!=s)return s.constant+=-t,void(0>s.constant&&this._infeasibleRows.add(i));var o=this.columns.get(i);o||console.log("columnVars is null -- tableau is:\n"+this),o.each(function(e){var n=this.rows.get(e),r=n.coefficientFor(i);n.constant+=r*t,e.isRestricted&&0>n.constant&&this._infeasibleRows.add(e)},this)},dualOptimize:function(){e.trace&&e.fnenterprint("dualOptimize:");for(var t=this.rows.get(this._objective);this._infeasibleRows.size;){var n=this._infeasibleRows.values()[0];this._infeasibleRows.delete(n);var i=null,r=this.rows.get(n);if(r&&0>r.constant){var s,o=Number.MAX_VALUE;if(r.terms.each(function(n,r){if(r>0&&n.isPivotable){var a=t.coefficientFor(n);(o>(s=a/r)||e.approx(s,o)&&n.hashCode<i.hashCode)&&(i=n,o=s)}}),o==Number.MAX_VALUE)throw new e.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(i,n)}}},newExpression:function(t,n,i){e.trace&&(e.fnenterprint("newExpression: "+t),e.traceprint("cn.isInequality == "+t.isInequality),e.traceprint("cn.required == "+t.required));var r=t.expression,s=new e.Expression(r.constant),o=new e.SlackVariable,a=new e.DummyVariable,l=new e.SlackVariable,c=new e.SlackVariable;if(r.terms.each(function(e,t){var n=this.rows.get(e);n?s.addExpression(n,t):s.addVariable(e,t)},this),t.isInequality)e.trace&&e.traceprint("Inequality, adding slack"),++this._slackCounter,o=new e.SlackVariable({value:this._slackCounter,prefix:"s"}),s.setVariable(o,-1),this._markerVars.set(t,o),t.required||(++this._slackCounter,l=new e.SlackVariable({value:this._slackCounter,prefix:"em"}),s.setVariable(l,1),(u=this.rows.get(this._objective)).setVariable(l,t.strength.symbolicWeight.value*t.weight),this.insertErrorVar(t,l),this.noteAddedVariable(l,this._objective));else if(t.required)e.trace&&e.traceprint("Equality, required"),++this._dummyCounter,a=new e.DummyVariable({value:this._dummyCounter,prefix:"d"}),s.setVariable(a,1),this._markerVars.set(t,a),e.trace&&e.traceprint("Adding dummyVar == d"+this._dummyCounter);else{e.trace&&e.traceprint("Equality, not required"),++this._slackCounter,c=new e.SlackVariable({value:this._slackCounter,prefix:"ep"}),l=new e.SlackVariable({value:this._slackCounter,prefix:"em"}),s.setVariable(c,-1),s.setVariable(l,1),this._markerVars.set(t,c);var u=this.rows.get(this._objective);e.trace&&console.log(u);var d=t.strength.symbolicWeight.value*t.weight;0==d&&(e.trace&&e.traceprint("cn == "+t),e.trace&&e.traceprint("adding "+c+" and "+l+" with swCoeff == "+d)),u.setVariable(c,d),this.noteAddedVariable(c,this._objective),u.setVariable(l,d),this.noteAddedVariable(l,this._objective),this.insertErrorVar(t,l),this.insertErrorVar(t,c),t.isStayConstraint?(this._stayPlusErrorVars.push(c),this._stayMinusErrorVars.push(l)):t.isEditConstraint&&(n[0]=c,n[1]=l,i[0]=r.constant)}return 0>s.constant&&s.multiplyMe(-1),e.trace&&e.fnexitprint("returning "+s),s},optimize:function(t){e.trace&&e.fnenterprint("optimize: "+t),e.trace&&e.traceprint(""+this),this._optimizeCount++;var n=this.rows.get(t);e.assert(null!=n,"zRow != null");for(var i,r=null,s=null;;){if(i=0,n.terms.escapingEach(function(e,t){return e.isPivotable&&i>t?(i=t,r=e,{brk:1}):void 0},this),i>=-1e-8)return;e.trace&&console.log("entryVar:",r,"objectiveCoeff:",i);var o=Number.MAX_VALUE,a=0;if(this.columns.get(r).each(function(t){if(e.trace&&e.traceprint("Checking "+t),t.isPivotable){var n=this.rows.get(t),i=n.coefficientFor(r);e.trace&&e.traceprint("pivotable, coeff = "+i),0>i&&(a=-n.constant/i,(o>a||e.approx(a,o)&&t.hashCode<s.hashCode)&&(o=a,s=t))}},this),o==Number.MAX_VALUE)throw new e.InternalError("Objective function is unbounded in optimize");this.pivot(r,s),e.trace&&e.traceprint(""+this)}},pivot:function(t,n){e.trace&&console.log("pivot: ",t,n);null==t&&console.warn("pivot: entryVar == null"),null==n&&console.warn("pivot: exitVar == null");var i=this.removeRow(n);i.changeSubject(n,t),this.substituteOut(t,i),this.addRow(t,i)},_resetStayConstants:function(){e.trace&&console.log("_resetStayConstants");for(var t=0;this._stayPlusErrorVars.length>t;t++){var n=this.rows.get(this._stayPlusErrorVars[t]);null==n&&(n=this.rows.get(this._stayMinusErrorVars[t])),null!=n&&(n.constant=0)}},_setExternalVariables:function(){e.trace&&e.fnenterprint("_setExternalVariables:"),e.trace&&e.traceprint(""+this),this._externalParametricVars.each(function(t){null!=this.rows.get(t)?e.trace&&console.log("Error: variable"+t+" in _externalParametricVars is basic"):t.value=0},this),this._externalRows.each(function(e){var t=this.rows.get(e);e.value!=t.constant&&(e.value=t.constant)},this),this._fNeedsSolving=!1,this.onsolved()},onsolved:function(){},insertErrorVar:function(t,n){e.trace&&e.fnenterprint("insertErrorVar:"+t+", "+n);var i=this._errorVars.get(n);i||(i=new e.HashSet,this._errorVars.set(t,i)),i.add(n)}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.Timer=e.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||e.parent.exports||{}),__cassowary_parser=function(){function e(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var t={parse:function(t,n){function i(e){L>R||(R>L&&(L=R,F=[]),F.push(e))}function r(){var e,t,n,i;return n=R,i=R,null!==(e=A())?null!==(t=u())?e=[e,t]:(e=null,R=i):(e=null,R=i),null!==e&&(e=function(e,t){return t}(0,e[0])),null===e&&(R=n),e}function s(){var e;return t.length>R?(e=t.charAt(R),R++):(e=null,0===N&&i("any character")),e}function o(){var e;return/^[a-zA-Z]/.test(t.charAt(R))?(e=t.charAt(R),R++):(e=null,0===N&&i("[a-zA-Z]")),null===e&&(36===t.charCodeAt(R)?(e="$",R++):(e=null,0===N&&i('"$"')),null===e&&(95===t.charCodeAt(R)?(e="_",R++):(e=null,0===N&&i('"_"')))),e}function a(){var e;return N++,/^[\t\x0B\f \xA0\uFEFF]/.test(t.charAt(R))?(e=t.charAt(R),R++):(e=null,0===N&&i("[\\t\\x0B\\f \\xA0\\uFEFF]")),0===--N&&null===e&&i("whitespace"),e}function l(){var e;return/^[\n\r\u2028\u2029]/.test(t.charAt(R))?(e=t.charAt(R),R++):(e=null,0===N&&i("[\\n\\r\\u2028\\u2029]")),e}function c(){var e;return N++,10===t.charCodeAt(R)?(e="\n",R++):(e=null,0===N&&i('"\\n"')),null===e&&("\r\n"===t.substr(R,2)?(e="\r\n",R+=2):(e=null,0===N&&i('"\\r\\n"')),null===e&&(13===t.charCodeAt(R)?(e="\r",R++):(e=null,0===N&&i('"\\r"')),null===e&&(8232===t.charCodeAt(R)?(e="\u2028",R++):(e=null,0===N&&i('"\\u2028"')),null===e&&(8233===t.charCodeAt(R)?(e="\u2029",R++):(e=null,0===N&&i('"\\u2029"')))))),0===--N&&null===e&&i("end of line"),e}function u(){var e,n,r;return r=R,null!==(e=b())?(59===t.charCodeAt(R)?(n=";",R++):(n=null,0===N&&i('";"')),null!==n?e=[e,n]:(e=null,R=r)):(e=null,R=r),null===e&&(r=R,null!==(e=g())?null!==(n=c())?e=[e,n]:(e=null,R=r):(e=null,R=r),null===e&&(r=R,null!==(e=b())?null!==(n=d())?e=[e,n]:(e=null,R=r):(e=null,R=r))),e}function d(){var e,n;return n=R,N++,t.length>R?(e=t.charAt(R),R++):(e=null,0===N&&i("any character")),N--,null===e?e="":(e=null,R=n),e}function h(){var e;return N++,null===(e=p())&&(e=m()),0===--N&&null===e&&i("comment"),e}function p(){var e,n,r,o,a,l,c;if(a=R,"/*"===t.substr(R,2)?(e="/*",R+=2):(e=null,0===N&&i('"/*"')),null!==e){for(n=[],l=R,c=R,N++,"*/"===t.substr(R,2)?(r="*/",R+=2):(r=null,0===N&&i('"*/"')),N--,null===r?r="":(r=null,R=c),null!==r?null!==(o=s())?r=[r,o]:(r=null,R=l):(r=null,R=l);null!==r;)n.push(r),l=R,c=R,N++,"*/"===t.substr(R,2)?(r="*/",R+=2):(r=null,0===N&&i('"*/"')),N--,null===r?r="":(r=null,R=c),null!==r?null!==(o=s())?r=[r,o]:(r=null,R=l):(r=null,R=l);null!==n?("*/"===t.substr(R,2)?(r="*/",R+=2):(r=null,0===N&&i('"*/"')),null!==r?e=[e,n,r]:(e=null,R=a)):(e=null,R=a)}else e=null,R=a;return e}function f(){var e,n,r,o,a,c,u;if(a=R,"/*"===t.substr(R,2)?(e="/*",R+=2):(e=null,0===N&&i('"/*"')),null!==e){for(n=[],c=R,u=R,N++,"*/"===t.substr(R,2)?(r="*/",R+=2):(r=null,0===N&&i('"*/"')),null===r&&(r=l()),N--,null===r?r="":(r=null,R=u),null!==r?null!==(o=s())?r=[r,o]:(r=null,R=c):(r=null,R=c);null!==r;)n.push(r),c=R,u=R,N++,"*/"===t.substr(R,2)?(r="*/",R+=2):(r=null,0===N&&i('"*/"')),null===r&&(r=l()),N--,null===r?r="":(r=null,R=u),null!==r?null!==(o=s())?r=[r,o]:(r=null,R=c):(r=null,R=c);null!==n?("*/"===t.substr(R,2)?(r="*/",R+=2):(r=null,0===N&&i('"*/"')),null!==r?e=[e,n,r]:(e=null,R=a)):(e=null,R=a)}else e=null,R=a;return e}function m(){var e,n,r,o,a,c,u;if(a=R,"//"===t.substr(R,2)?(e="//",R+=2):(e=null,0===N&&i('"//"')),null!==e){for(n=[],c=R,u=R,N++,r=l(),N--,null===r?r="":(r=null,R=u),null!==r?null!==(o=s())?r=[r,o]:(r=null,R=c):(r=null,R=c);null!==r;)n.push(r),c=R,u=R,N++,r=l(),N--,null===r?r="":(r=null,R=u),null!==r?null!==(o=s())?r=[r,o]:(r=null,R=c):(r=null,R=c);null!==n?e=[e,n]:(e=null,R=a)}else e=null,R=a;return e}function g(){var e,t;for(e=[],null===(t=a())&&(null===(t=f())&&(t=m()));null!==t;)e.push(t),null===(t=a())&&(null===(t=f())&&(t=m()));return e}function b(){var e,t;for(e=[],null===(t=a())&&(null===(t=c())&&(t=h()));null!==t;)e.push(t),null===(t=a())&&(null===(t=c())&&(t=h()));return e}function v(){var e,t;return t=R,null===(e=w())&&(e=y()),null!==e&&(e=function(e,t){return{type:"NumericLiteral",value:t}}(0,e)),null===e&&(R=t),e}function y(){var e,n,r;if(r=R,/^[0-9]/.test(t.charAt(R))?(n=t.charAt(R),R++):(n=null,0===N&&i("[0-9]")),null!==n)for(e=[];null!==n;)e.push(n),/^[0-9]/.test(t.charAt(R))?(n=t.charAt(R),R++):(n=null,0===N&&i("[0-9]"));else e=null;return null!==e&&(e=function(e,t){return parseInt(t.join(""))}(0,e)),null===e&&(R=r),e}function w(){var e,n,r,s,o;return s=R,o=R,null!==(e=y())?(46===t.charCodeAt(R)?(n=".",R++):(n=null,0===N&&i('"."')),null!==n?null!==(r=y())?e=[e,n,r]:(e=null,R=o):(e=null,R=o)):(e=null,R=o),null!==e&&(e=function(e,t){return parseFloat(t.join(""))}(0,e)),null===e&&(R=s),e}function E(){var e,t;return N++,t=R,null!==(e=C())&&(e=function(e,t){return t}(0,e)),null===e&&(R=t),0===--N&&null===e&&i("identifier"),e}function C(){var e,t,n,r,s;if(N++,r=R,s=R,null!==(e=o())){for(t=[],n=o();null!==n;)t.push(n),n=o();null!==t?e=[e,t]:(e=null,R=s)}else e=null,R=s;return null!==e&&(e=function(e,t,n){return t+n.join("")}(0,e[0],e[1])),null===e&&(R=r),0===--N&&null===e&&i("identifier"),e}function _(){var e,n,r,s,o,a,l;return a=R,null!==(e=E())&&(e=function(e,t){return{type:"Variable",name:t}}(0,e)),null===e&&(R=a),null===e&&(null===(e=v())&&(a=R,l=R,40===t.charCodeAt(R)?(e="(",R++):(e=null,0===N&&i('"("')),null!==e?null!==(n=b())?null!==(r=A())?null!==(s=b())?(41===t.charCodeAt(R)?(o=")",R++):(o=null,0===N&&i('")"')),null!==o?e=[e,n,r,s,o]:(e=null,R=l)):(e=null,R=l):(e=null,R=l):(e=null,R=l):(e=null,R=l),null!==e&&(e=function(e,t){return t}(0,e[2])),null===e&&(R=a))),e}function x(){var e,t,n,i,r;return null===(e=_())&&(i=R,r=R,null!==(e=k())?null!==(t=b())?null!==(n=x())?e=[e,t,n]:(e=null,R=r):(e=null,R=r):(e=null,R=r),null!==e&&(e=function(e,t,n){return{type:"UnaryExpression",operator:t,expression:n}}(0,e[0],e[2])),null===e&&(R=i)),e}function k(){var e;return 43===t.charCodeAt(R)?(e="+",R++):(e=null,0===N&&i('"+"')),null===e&&(45===t.charCodeAt(R)?(e="-",R++):(e=null,0===N&&i('"-"')),null===e&&(33===t.charCodeAt(R)?(e="!",R++):(e=null,0===N&&i('"!"')))),e}function S(){var e,t,n,i,r,s,o,a,l;if(o=R,a=R,null!==(e=x())){for(t=[],l=R,null!==(n=b())?null!==(i=O())?null!==(r=b())?null!==(s=x())?n=[n,i,r,s]:(n=null,R=l):(n=null,R=l):(n=null,R=l):(n=null,R=l);null!==n;)t.push(n),l=R,null!==(n=b())?null!==(i=O())?null!==(r=b())?null!==(s=x())?n=[n,i,r,s]:(n=null,R=l):(n=null,R=l):(n=null,R=l):(n=null,R=l);null!==t?e=[e,t]:(e=null,R=a)}else e=null,R=a;return null!==e&&(e=function(e,t,n){for(var i=t,r=0;n.length>r;r++)i={type:"MultiplicativeExpression",operator:n[r][1],left:i,right:n[r][3]};return i}(0,e[0],e[1])),null===e&&(R=o),e}function O(){var e;return 42===t.charCodeAt(R)?(e="*",R++):(e=null,0===N&&i('"*"')),null===e&&(47===t.charCodeAt(R)?(e="/",R++):(e=null,0===N&&i('"/"'))),e}function D(){var e,t,n,i,r,s,o,a,l;if(o=R,a=R,null!==(e=S())){for(t=[],l=R,null!==(n=b())?null!==(i=T())?null!==(r=b())?null!==(s=S())?n=[n,i,r,s]:(n=null,R=l):(n=null,R=l):(n=null,R=l):(n=null,R=l);null!==n;)t.push(n),l=R,null!==(n=b())?null!==(i=T())?null!==(r=b())?null!==(s=S())?n=[n,i,r,s]:(n=null,R=l):(n=null,R=l):(n=null,R=l):(n=null,R=l);null!==t?e=[e,t]:(e=null,R=a)}else e=null,R=a;return null!==e&&(e=function(e,t,n){for(var i=t,r=0;n.length>r;r++)i={type:"AdditiveExpression",operator:n[r][1],left:i,right:n[r][3]};return i}(0,e[0],e[1])),null===e&&(R=o),e}function T(){var e;return 43===t.charCodeAt(R)?(e="+",R++):(e=null,0===N&&i('"+"')),null===e&&(45===t.charCodeAt(R)?(e="-",R++):(e=null,0===N&&i('"-"'))),e}function j(){var e,t,n,i,r,s,o,a,l;if(o=R,a=R,null!==(e=D())){for(t=[],l=R,null!==(n=b())?null!==(i=M())?null!==(r=b())?null!==(s=D())?n=[n,i,r,s]:(n=null,R=l):(n=null,R=l):(n=null,R=l):(n=null,R=l);null!==n;)t.push(n),l=R,null!==(n=b())?null!==(i=M())?null!==(r=b())?null!==(s=D())?n=[n,i,r,s]:(n=null,R=l):(n=null,R=l):(n=null,R=l):(n=null,R=l);null!==t?e=[e,t]:(e=null,R=a)}else e=null,R=a;return null!==e&&(e=function(e,t,n){for(var i=t,r=0;n.length>r;r++)i={type:"Inequality",operator:n[r][1],left:i,right:n[r][3]};return i}(0,e[0],e[1])),null===e&&(R=o),e}function M(){var e;return"<="===t.substr(R,2)?(e="<=",R+=2):(e=null,0===N&&i('"<="')),null===e&&(">="===t.substr(R,2)?(e=">=",R+=2):(e=null,0===N&&i('">="')),null===e&&(60===t.charCodeAt(R)?(e="<",R++):(e=null,0===N&&i('"<"')),null===e&&(62===t.charCodeAt(R)?(e=">",R++):(e=null,0===N&&i('">"'))))),e}function A(){var e,n,r,s,o,a,l,c,u;if(l=R,c=R,null!==(e=j())){for(n=[],u=R,null!==(r=b())?("=="===t.substr(R,2)?(s="==",R+=2):(s=null,0===N&&i('"=="')),null!==s?null!==(o=b())?null!==(a=j())?r=[r,s,o,a]:(r=null,R=u):(r=null,R=u):(r=null,R=u)):(r=null,R=u);null!==r;)n.push(r),u=R,null!==(r=b())?("=="===t.substr(R,2)?(s="==",R+=2):(s=null,0===N&&i('"=="')),null!==s?null!==(o=b())?null!==(a=j())?r=[r,s,o,a]:(r=null,R=u):(r=null,R=u):(r=null,R=u)):(r=null,R=u);null!==n?e=[e,n]:(e=null,R=c)}else e=null,R=c;return null!==e&&(e=function(e,t,n){for(var i=t,r=0;n.length>r;r++)i={type:"Equality",operator:n[r][1],left:i,right:n[r][3]};return i}(0,e[0],e[1])),null===e&&(R=l),e}var P={start:function(){var e,t,n,i,s;if(i=R,s=R,null!==(e=b())){if(null!==(n=r()))for(t=[];null!==n;)t.push(n),n=r();else t=null;null!==t&&null!==(n=b())?e=[e,t,n]:(e=null,R=s)}else e=null,R=s;return null!==e&&(e=function(e,t){return t}(0,e[1])),null===e&&(R=i),e},Statement:r,SourceCharacter:s,IdentifierStart:o,WhiteSpace:a,LineTerminator:l,LineTerminatorSequence:c,EOS:u,EOF:d,Comment:h,MultiLineComment:p,MultiLineCommentNoLineTerminator:f,SingleLineComment:m,_:g,__:b,Literal:v,Integer:y,Real:w,SignedInteger:function(){var e,n,r,s;if(s=R,/^[\-+]/.test(t.charAt(R))?(e=t.charAt(R),R++):(e=null,0===N&&i("[\\-+]")),null!==(e=null!==e?e:"")){if(/^[0-9]/.test(t.charAt(R))?(r=t.charAt(R),R++):(r=null,0===N&&i("[0-9]")),null!==r)for(n=[];null!==r;)n.push(r),/^[0-9]/.test(t.charAt(R))?(r=t.charAt(R),R++):(r=null,0===N&&i("[0-9]"));else n=null;null!==n?e=[e,n]:(e=null,R=s)}else e=null,R=s;return e},Identifier:E,IdentifierName:C,PrimaryExpression:_,UnaryExpression:x,UnaryOperator:k,MultiplicativeExpression:S,MultiplicativeOperator:O,AdditiveExpression:D,AdditiveOperator:T,InequalityExpression:j,InequalityOperator:M,LinearExpression:A};if(void 0!==n){if(void 0===P[n])throw Error("Invalid rule name: "+e(n)+".")}else n="start";var R=0,N=0,L=0,F=[],V=P[n]();if(null===V||R!==t.length){var I=Math.max(R,L),W=t.length>I?t.charAt(I):null,z=function(){for(var e=1,n=1,i=!1,r=0;Math.max(R,L)>r;r++){var s=t.charAt(r);"\n"===s?(i||e++,n=1,i=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(e++,n=1,i=!0):(n++,i=!1)}return{line:e,column:n}}();throw new this.SyntaxError(function(e){e.sort();for(var t=null,n=[],i=0;e.length>i;i++)e[i]!==t&&(n.push(e[i]),t=e[i]);return n}(F),W,I,z.line,z.column)}return V},toSource:function(){return this._source},SyntaxError:function(t,n,i,r,s){this.name="SyntaxError",this.expected=t,this.found=n,this.message=function(t,n){var i;switch(t.length){case 0:i="end of input";break;case 1:i=t[0];break;default:i=t.slice(0,t.length-1).join(", ")+" or "+t[t.length-1]}return"Expected "+i+" but "+(n?e(n):"end of input")+" found."}(t,n),this.offset=i,this.line=r,this.column=s}};return t.SyntaxError.prototype=Error.prototype,t}()}).call(e.compiled=e)}).call(this,n(46)(e))},function(e,t,n){"use strict";t.__esModule=!0;var i=n(20),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||i(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||i(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||i(!1):(this._callbacks[n]||i(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&i(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=r},function(e,t,n){!function(){"use strict";var t,i=n(21);t=[{field:"fileName",length:100},{field:"fileMode",length:8},{field:"uid",length:8},{field:"gid",length:8},{field:"fileSize",length:12},{field:"mtime",length:12},{field:"checksum",length:8},{field:"type",length:1},{field:"linkName",length:100},{field:"ustar",length:8},{field:"owner",length:32},{field:"group",length:32},{field:"majorNumber",length:8},{field:"minorNumber",length:8},{field:"filenamePrefix",length:155},{field:"padding",length:12}],e.exports.structure=t,e.exports.format=function(e,n){var r=i.clean(512),s=0;return t.forEach(function(t){var n,i,o=e[t.field]||"";for(n=0,i=o.length;n<i;n+=1)r[s]=o.charCodeAt(n),s+=1;s+=t.length-n}),"function"==typeof n?n(r,s):r}}()},function(e,t,n){"use strict";function i(e,t,n){e instanceof RegExp&&(e=r(e,n)),t instanceof RegExp&&(t=r(t,n));var i=s(e,t,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+e.length,i[1]),post:n.slice(i[1]+t.length)}}function r(e,t){var n=t.match(e);return n?n[0]:null}function s(e,t,n){var i,r,s,o,a,l=n.indexOf(e),c=n.indexOf(t,l+1),u=l;if(l>=0&&c>0){for(i=[],s=n.length;u>=0&&!a;)u==l?(i.push(u),l=n.indexOf(e,u+1)):1==i.length?a=[i.pop(),c]:((r=i.pop())<s&&(s=r,o=c),c=n.indexOf(t,u+1)),u=l<c&&l>=0?l:c;i.length&&(a=[s,o])}return a}e.exports=i,i.range=s},function(e,t){e.exports=function(e,t){for(var i=[],r=0;r<e.length;r++){var s=t(e[r],r);n(s)?i.push.apply(i,s):i.push(s)}return i};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var i=n(51),r=n(50);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var s=[];var o=r("{","}",t);if(!o||/\$$/.test(o.pre))return[t];var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body);var c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body);var d=l||c;var g=o.body.indexOf(",")>=0;if(!d&&!g)return o.post.match(/,.*\}/)?(t=o.pre+"{"+o.body+a+o.post,e(t)):[t];var b;if(d)b=o.body.split(/\.\./);else if(1===(b=function e(t){if(!t)return[""];var n=[];var i=r("{","}",t);if(!i)return t.split(",");var s=i.pre;var o=i.body;var a=i.post;var l=s.split(",");l[l.length-1]+="{"+o+"}";var c=e(a);a.length&&(l[l.length-1]+=c.shift(),l.push.apply(l,c));n.push.apply(n,l);return n}(o.body)).length&&1===(b=e(b[0],!1).map(h)).length){var v=o.post.length?e(o.post,!1):[""];return v.map(function(e){return o.pre+b[0]+e})}var y=o.pre;var v=o.post.length?e(o.post,!1):[""];var w;if(d){var E=u(b[0]),C=u(b[1]),_=Math.max(b[0].length,b[1].length),x=3==b.length?Math.abs(u(b[2])):1,k=f,S=C<E;S&&(x*=-1,k=m);var O=b.some(p);w=[];for(var D=E;k(D,C);D+=x){var T;if(c)"\\"===(T=String.fromCharCode(D))&&(T="");else if(T=String(D),O){var j=_-T.length;if(j>0){var M=new Array(j+1).join("0");T=D<0?"-"+M+T.slice(1):M+T}}w.push(T)}}else w=i(b,function(t){return e(t,!1)});for(var A=0;A<w.length;A++)for(var P=0;P<v.length;P++){var R=y+w[A]+v[P];(!n||d||R)&&s.push(R)}return s}(function(e){return e.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(l).split("\\.").join(c)}(e),!0).map(d)};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(s).join("\\").split(o).join("{").split(a).join("}").split(l).join(",").split(c).join(".")}function h(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function m(e,t){return e>=t}},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(e){return i.exec(e).slice(1)};function s(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var o=r>=0?arguments[r]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return t=n(s(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),r="/"===o(e,-1);return(e=n(s(e.split("/"),function(e){return!!e}),!i).join("/"))||i||(e="."),e&&r&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),s=i(n.split("/")),o=Math.min(r.length,s.length),a=o,l=0;l<o;l++)if(r[l]!==s[l]){a=l;break}var c=[];for(l=a;l<r.length;l++)c.push("..");return(c=c.concat(s.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=r(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},t.basename=function(e,t){var n=r(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return r(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(27))}]);
//# sourceMappingURL=main.bundle.js.map